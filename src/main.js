(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("react"), require("lodash"));
	else if(typeof define === 'function' && define.amd)
		define(["react", "_"], factory);
	else if(typeof exports === 'object')
		exports["storm-react-diagrams"] = factory(require("react"), require("lodash"));
	else
		root["storm-react-diagrams"] = factory(root["React"], root["_"]);
})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 17);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_0__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCB7XCJyb290XCI6XCJSZWFjdFwiLFwiY29tbW9uanMyXCI6XCJyZWFjdFwiLFwiY29tbW9uanNcIjpcInJlYWN0XCIsXCJhbWRcIjpcInJlYWN0XCJ9P2MwMmYiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzBfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJyb290XCI6XCJSZWFjdFwiLFwiY29tbW9uanMyXCI6XCJyZWFjdFwiLFwiY29tbW9uanNcIjpcInJlYWN0XCIsXCJhbWRcIjpcInJlYWN0XCJ9XG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_1__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCB7XCJjb21tb25qc1wiOlwibG9kYXNoXCIsXCJjb21tb25qczJcIjpcImxvZGFzaFwiLFwiYW1kXCI6XCJfXCIsXCJyb290XCI6XCJfXCJ9PzZkYzgiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzFfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJjb21tb25qc1wiOlwibG9kYXNoXCIsXCJjb21tb25qczJcIjpcImxvZGFzaFwiLFwiYW1kXCI6XCJfXCIsXCJyb290XCI6XCJfXCJ9XG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar BaseEntity_1 = __webpack_require__(3);\r\nvar _ = __webpack_require__(1);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar BaseModel = /** @class */ (function (_super) {\r\n    __extends(BaseModel, _super);\r\n    function BaseModel(id) {\r\n        var _this = _super.call(this, id) || this;\r\n        _this.selected = false;\r\n        return _this;\r\n    }\r\n    BaseModel.prototype.getSelectedEntities = function () {\r\n        if (this.isSelected()) {\r\n            return [this];\r\n        }\r\n        return [];\r\n    };\r\n    BaseModel.prototype.deSerialize = function (ob) {\r\n        _super.prototype.deSerialize.call(this, ob);\r\n        this.selected = ob.selected;\r\n    };\r\n    BaseModel.prototype.serialize = function () {\r\n        return _.merge(_super.prototype.serialize.call(this), {\r\n            _class: this.constructor.name,\r\n            selected: this.selected\r\n        });\r\n    };\r\n    BaseModel.prototype.getID = function () {\r\n        return this.id;\r\n    };\r\n    BaseModel.prototype.isSelected = function () {\r\n        return this.selected;\r\n    };\r\n    BaseModel.prototype.setSelected = function (selected) {\r\n        var _this = this;\r\n        if (selected === void 0) { selected = true; }\r\n        this.selected = selected;\r\n        this.iterateListeners(function (listener) {\r\n            if (listener.selectionChanged) {\r\n                listener.selectionChanged(_this, selected);\r\n            }\r\n        });\r\n    };\r\n    BaseModel.prototype.remove = function () {\r\n        var _this = this;\r\n        this.iterateListeners(function (listener) {\r\n            if (listener.entityRemoved) {\r\n                listener.entityRemoved(_this);\r\n            }\r\n        });\r\n    };\r\n    return BaseModel;\r\n}(BaseEntity_1.BaseEntity));\r\nexports.BaseModel = BaseModel;\r\nvar PointModel = /** @class */ (function (_super) {\r\n    __extends(PointModel, _super);\r\n    function PointModel(link, points) {\r\n        var _this = _super.call(this) || this;\r\n        _this.x = points.x;\r\n        _this.y = points.y;\r\n        _this.link = link;\r\n        return _this;\r\n    }\r\n    PointModel.prototype.getSelectedEntities = function () {\r\n        if (_super.prototype.isSelected.call(this) && !this.isConnectedToPort()) {\r\n            return [this];\r\n        }\r\n        return [];\r\n    };\r\n    PointModel.prototype.isConnectedToPort = function () {\r\n        return this.link.getPortForPoint(this) !== null;\r\n    };\r\n    PointModel.prototype.deSerialize = function (ob) {\r\n        _super.prototype.deSerialize.call(this, ob);\r\n        this.x = ob.x;\r\n        this.y = ob.y;\r\n    };\r\n    PointModel.prototype.serialize = function () {\r\n        return _.merge(_super.prototype.serialize.call(this), {\r\n            x: this.x,\r\n            y: this.y\r\n        });\r\n    };\r\n    PointModel.prototype.remove = function () {\r\n        //clear references\r\n        if (this.link) {\r\n            this.link.removePoint(this);\r\n        }\r\n        _super.prototype.remove.call(this);\r\n    };\r\n    PointModel.prototype.updateLocation = function (points) {\r\n        this.x = points.x;\r\n        this.y = points.y;\r\n    };\r\n    PointModel.prototype.getX = function () {\r\n        return this.x;\r\n    };\r\n    PointModel.prototype.getY = function () {\r\n        return this.y;\r\n    };\r\n    PointModel.prototype.getLink = function () {\r\n        return this.link;\r\n    };\r\n    return PointModel;\r\n}(BaseModel));\r\nexports.PointModel = PointModel;\r\nvar LinkModel = /** @class */ (function (_super) {\r\n    __extends(LinkModel, _super);\r\n    function LinkModel() {\r\n        var _this = _super.call(this) || this;\r\n        _this.linkType = \"default\";\r\n        _this.points = [new PointModel(_this, { x: 0, y: 0 }), new PointModel(_this, { x: 0, y: 0 })];\r\n        _this.extras = {};\r\n        _this.sourcePort = null;\r\n        _this.targetPort = null;\r\n        return _this;\r\n    }\r\n    LinkModel.prototype.deSerialize = function (ob) {\r\n        var _this = this;\r\n        _super.prototype.deSerialize.call(this, ob);\r\n        this.linkType = ob.type;\r\n        this.extras = ob.extras;\r\n        this.points = _.map(ob.points, function (point) {\r\n            var p = new PointModel(_this, { x: point.x, y: point.y });\r\n            p.deSerialize(point);\r\n            return p;\r\n        });\r\n    };\r\n    LinkModel.prototype.serialize = function () {\r\n        return _.merge(_super.prototype.serialize.call(this), {\r\n            type: this.linkType,\r\n            source: this.sourcePort ? this.sourcePort.getParent().id : null,\r\n            sourcePort: this.sourcePort ? this.sourcePort.id : null,\r\n            target: this.targetPort ? this.targetPort.getParent().id : null,\r\n            targetPort: this.targetPort ? this.targetPort.id : null,\r\n            points: _.map(this.points, function (point) {\r\n                return point.serialize();\r\n            }),\r\n            extras: this.extras\r\n        });\r\n    };\r\n    LinkModel.prototype.remove = function () {\r\n        if (this.sourcePort) {\r\n            this.sourcePort.removeLink(this);\r\n        }\r\n        if (this.targetPort) {\r\n            this.targetPort.removeLink(this);\r\n        }\r\n        _super.prototype.remove.call(this);\r\n    };\r\n    LinkModel.prototype.isLastPoint = function (point) {\r\n        var index = this.getPointIndex(point);\r\n        return index === this.points.length - 1;\r\n    };\r\n    LinkModel.prototype.getPointIndex = function (point) {\r\n        return this.points.indexOf(point);\r\n    };\r\n    LinkModel.prototype.getPointModel = function (id) {\r\n        for (var i = 0; i < this.points.length; i++) {\r\n            if (this.points[i].id === id) {\r\n                return this.points[i];\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    LinkModel.prototype.getPortForPoint = function (point) {\r\n        if (this.sourcePort !== null && this.getFirstPoint().getID() === point.getID()) {\r\n            return this.sourcePort;\r\n        }\r\n        if (this.targetPort !== null && this.getLastPoint().getID() === point.getID()) {\r\n            return this.targetPort;\r\n        }\r\n        return null;\r\n    };\r\n    LinkModel.prototype.getPointForPort = function (port) {\r\n        if (this.sourcePort !== null && this.sourcePort.getID() === port.getID()) {\r\n            return this.getFirstPoint();\r\n        }\r\n        if (this.targetPort !== null && this.targetPort.getID() === port.getID()) {\r\n            return this.getLastPoint();\r\n        }\r\n        return null;\r\n    };\r\n    LinkModel.prototype.getFirstPoint = function () {\r\n        return this.points[0];\r\n    };\r\n    LinkModel.prototype.getLastPoint = function () {\r\n        return this.points[this.points.length - 1];\r\n    };\r\n    LinkModel.prototype.setSourcePort = function (port) {\r\n        var _this = this;\r\n        port.addLink(this);\r\n        this.sourcePort = port;\r\n        this.iterateListeners(function (listener) {\r\n            listener.sourcePortChanged && listener.sourcePortChanged(_this, port);\r\n        });\r\n    };\r\n    LinkModel.prototype.getSourcePort = function () {\r\n        return this.sourcePort;\r\n    };\r\n    LinkModel.prototype.getTargetPort = function () {\r\n        return this.targetPort;\r\n    };\r\n    LinkModel.prototype.setTargetPort = function (port) {\r\n        var _this = this;\r\n        port.addLink(this);\r\n        this.targetPort = port;\r\n        this.iterateListeners(function (listener) {\r\n            listener.targetPortChanged && listener.targetPortChanged(_this, port);\r\n        });\r\n    };\r\n    LinkModel.prototype.getPoints = function () {\r\n        return this.points;\r\n    };\r\n    LinkModel.prototype.setPoints = function (points) {\r\n        this.points = points;\r\n    };\r\n    LinkModel.prototype.removePoint = function (pointModel) {\r\n        this.points.splice(this.getPointIndex(pointModel), 1);\r\n    };\r\n    LinkModel.prototype.addPoint = function (pointModel, index) {\r\n        if (index === void 0) { index = 1; }\r\n        this.points.splice(index, 0, pointModel);\r\n    };\r\n    LinkModel.prototype.getType = function () {\r\n        return this.linkType;\r\n    };\r\n    return LinkModel;\r\n}(BaseModel));\r\nexports.LinkModel = LinkModel;\r\nvar PortModel = /** @class */ (function (_super) {\r\n    __extends(PortModel, _super);\r\n    function PortModel(name, id) {\r\n        var _this = _super.call(this, id) || this;\r\n        _this.name = name;\r\n        _this.links = {};\r\n        _this.parentNode = null;\r\n        return _this;\r\n    }\r\n    PortModel.prototype.deSerialize = function (ob) {\r\n        _super.prototype.deSerialize.call(this, ob);\r\n        this.name = ob.name;\r\n    };\r\n    PortModel.prototype.serialize = function () {\r\n        return _.merge(_super.prototype.serialize.call(this), {\r\n            name: this.name,\r\n            parentNode: this.parentNode.id,\r\n            links: _.map(this.links, function (link) {\r\n                return link.id;\r\n            })\r\n        });\r\n    };\r\n    PortModel.prototype.getName = function () {\r\n        return this.name;\r\n    };\r\n    PortModel.prototype.getParent = function () {\r\n        return this.parentNode;\r\n    };\r\n    PortModel.prototype.setParentNode = function (node) {\r\n        this.parentNode = node;\r\n    };\r\n    PortModel.prototype.removeLink = function (link) {\r\n        delete this.links[link.getID()];\r\n    };\r\n    PortModel.prototype.addLink = function (link) {\r\n        this.links[link.getID()] = link;\r\n    };\r\n    PortModel.prototype.getLinks = function () {\r\n        return this.links;\r\n    };\r\n    return PortModel;\r\n}(BaseModel));\r\nexports.PortModel = PortModel;\r\nvar NodeModel = /** @class */ (function (_super) {\r\n    __extends(NodeModel, _super);\r\n    function NodeModel(nodeType, id) {\r\n        if (nodeType === void 0) { nodeType = \"default\"; }\r\n        var _this = _super.call(this, id) || this;\r\n        _this.nodeType = nodeType;\r\n        _this.x = 0;\r\n        _this.y = 0;\r\n        _this.extras = {};\r\n        _this.ports = {};\r\n        return _this;\r\n    }\r\n    NodeModel.prototype.getSelectedEntities = function () {\r\n        var _this = this;\r\n        var entities = _super.prototype.getSelectedEntities.call(this);\r\n        // add the points of each link that are selected here\r\n        if (this.isSelected()) {\r\n            var _loop_1 = function (portName) {\r\n                entities = entities.concat(_.map(this_1.ports[portName].getLinks(), function (link) {\r\n                    return link.getPointForPort(_this.ports[portName]);\r\n                }));\r\n            };\r\n            var this_1 = this;\r\n            for (var portName in this.ports) {\r\n                _loop_1(portName);\r\n            }\r\n        }\r\n        return entities;\r\n    };\r\n    NodeModel.prototype.deSerialize = function (ob) {\r\n        _super.prototype.deSerialize.call(this, ob);\r\n        this.nodeType = ob.type;\r\n        this.x = ob.x;\r\n        this.y = ob.y;\r\n        this.extras = ob.extras;\r\n    };\r\n    NodeModel.prototype.serialize = function () {\r\n        return _.merge(_super.prototype.serialize.call(this), {\r\n            type: this.nodeType,\r\n            x: this.x,\r\n            y: this.y,\r\n            extras: this.extras,\r\n            ports: _.map(this.ports, function (port) {\r\n                return port.serialize();\r\n            })\r\n        });\r\n    };\r\n    NodeModel.prototype.remove = function () {\r\n        _super.prototype.remove.call(this);\r\n        for (var i in this.ports) {\r\n            _.forEach(this.ports[i].getLinks(), function (link) {\r\n                link.remove();\r\n            });\r\n        }\r\n    };\r\n    NodeModel.prototype.getPortFromID = function (id) {\r\n        for (var i in this.ports) {\r\n            if (this.ports[i].id === id) {\r\n                return this.ports[i];\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    NodeModel.prototype.getPort = function (name) {\r\n        return this.ports[name];\r\n    };\r\n    NodeModel.prototype.getPorts = function () {\r\n        return this.ports;\r\n    };\r\n    NodeModel.prototype.removePort = function (port) {\r\n        //clear the parent node reference\r\n        if (this.ports[port.name]) {\r\n            this.ports[port.name].setParentNode(null);\r\n            delete this.ports[port.name];\r\n        }\r\n    };\r\n    NodeModel.prototype.addPort = function (port) {\r\n        port.setParentNode(this);\r\n        this.ports[port.name] = port;\r\n        return port;\r\n    };\r\n    NodeModel.prototype.getType = function () {\r\n        return this.nodeType;\r\n    };\r\n    return NodeModel;\r\n}(BaseModel));\r\nexports.NodeModel = NodeModel;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvQ29tbW9uLnRzPzY0OGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZUVudGl0eSwgQmFzZUxpc3RlbmVyIH0gZnJvbSBcIi4vQmFzZUVudGl0eVwiO1xuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgeyBwb3J0IH0gZnJvbSBcIl9kZWJ1Z2dlclwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJhc2VNb2RlbExpc3RlbmVyIGV4dGVuZHMgQmFzZUxpc3RlbmVyIHtcblx0c2VsZWN0aW9uQ2hhbmdlZD8oaXRlbTogQmFzZU1vZGVsPEJhc2VNb2RlbExpc3RlbmVyPiwgaXNTZWxlY3RlZDogYm9vbGVhbik6IHZvaWQ7XG5cblx0ZW50aXR5UmVtb3ZlZD8oaXRlbTogYW55KTogdm9pZDtcbn1cblxuLyoqXG4gKiBAYXV0aG9yIER5bGFuIFZvcnN0ZXJcbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VNb2RlbDxUIGV4dGVuZHMgQmFzZU1vZGVsTGlzdGVuZXI+IGV4dGVuZHMgQmFzZUVudGl0eTxCYXNlTW9kZWxMaXN0ZW5lcj4ge1xuXHRzZWxlY3RlZDogYm9vbGVhbjtcblxuXHRjb25zdHJ1Y3RvcihpZD86IHN0cmluZykge1xuXHRcdHN1cGVyKGlkKTtcblx0XHR0aGlzLnNlbGVjdGVkID0gZmFsc2U7XG5cdH1cblxuXHRnZXRTZWxlY3RlZEVudGl0aWVzKCk6IEJhc2VNb2RlbDxUPltdIHtcblx0XHRpZiAodGhpcy5pc1NlbGVjdGVkKCkpIHtcblx0XHRcdHJldHVybiBbdGhpc107XG5cdFx0fVxuXHRcdHJldHVybiBbXTtcblx0fVxuXG5cdGRlU2VyaWFsaXplKG9iKSB7XG5cdFx0c3VwZXIuZGVTZXJpYWxpemUob2IpO1xuXHRcdHRoaXMuc2VsZWN0ZWQgPSBvYi5zZWxlY3RlZDtcblx0fVxuXG5cdHNlcmlhbGl6ZSgpIHtcblx0XHRyZXR1cm4gXy5tZXJnZShzdXBlci5zZXJpYWxpemUoKSwge1xuXHRcdFx0X2NsYXNzOiB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsXG5cdFx0XHRzZWxlY3RlZDogdGhpcy5zZWxlY3RlZFxuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIGdldElEKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuaWQ7XG5cdH1cblxuXHRwdWJsaWMgaXNTZWxlY3RlZCgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5zZWxlY3RlZDtcblx0fVxuXG5cdHB1YmxpYyBzZXRTZWxlY3RlZChzZWxlY3RlZDogYm9vbGVhbiA9IHRydWUpIHtcblx0XHR0aGlzLnNlbGVjdGVkID0gc2VsZWN0ZWQ7XG5cdFx0dGhpcy5pdGVyYXRlTGlzdGVuZXJzKGxpc3RlbmVyID0+IHtcblx0XHRcdGlmIChsaXN0ZW5lci5zZWxlY3Rpb25DaGFuZ2VkKSB7XG5cdFx0XHRcdGxpc3RlbmVyLnNlbGVjdGlvbkNoYW5nZWQodGhpcywgc2VsZWN0ZWQpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0cmVtb3ZlKCkge1xuXHRcdHRoaXMuaXRlcmF0ZUxpc3RlbmVycyhsaXN0ZW5lciA9PiB7XG5cdFx0XHRpZiAobGlzdGVuZXIuZW50aXR5UmVtb3ZlZCkge1xuXHRcdFx0XHRsaXN0ZW5lci5lbnRpdHlSZW1vdmVkKHRoaXMpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBQb2ludE1vZGVsIGV4dGVuZHMgQmFzZU1vZGVsPEJhc2VNb2RlbExpc3RlbmVyPiB7XG5cdHg6IG51bWJlcjtcblx0eTogbnVtYmVyO1xuXHRsaW5rOiBMaW5rTW9kZWw7XG5cblx0Y29uc3RydWN0b3IobGluazogTGlua01vZGVsLCBwb2ludHM6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSkge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy54ID0gcG9pbnRzLng7XG5cdFx0dGhpcy55ID0gcG9pbnRzLnk7XG5cdFx0dGhpcy5saW5rID0gbGluaztcblx0fVxuXG5cdGdldFNlbGVjdGVkRW50aXRpZXMoKSB7XG5cdFx0aWYgKHN1cGVyLmlzU2VsZWN0ZWQoKSAmJiAhdGhpcy5pc0Nvbm5lY3RlZFRvUG9ydCgpKSB7XG5cdFx0XHRyZXR1cm4gW3RoaXNdO1xuXHRcdH1cblx0XHRyZXR1cm4gW107XG5cdH1cblxuXHRpc0Nvbm5lY3RlZFRvUG9ydCgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5saW5rLmdldFBvcnRGb3JQb2ludCh0aGlzKSAhPT0gbnVsbDtcblx0fVxuXG5cdGRlU2VyaWFsaXplKG9iKSB7XG5cdFx0c3VwZXIuZGVTZXJpYWxpemUob2IpO1xuXHRcdHRoaXMueCA9IG9iLng7XG5cdFx0dGhpcy55ID0gb2IueTtcblx0fVxuXG5cdHNlcmlhbGl6ZSgpIHtcblx0XHRyZXR1cm4gXy5tZXJnZShzdXBlci5zZXJpYWxpemUoKSwge1xuXHRcdFx0eDogdGhpcy54LFxuXHRcdFx0eTogdGhpcy55XG5cdFx0fSk7XG5cdH1cblxuXHRyZW1vdmUoKSB7XG5cdFx0Ly9jbGVhciByZWZlcmVuY2VzXG5cdFx0aWYgKHRoaXMubGluaykge1xuXHRcdFx0dGhpcy5saW5rLnJlbW92ZVBvaW50KHRoaXMpO1xuXHRcdH1cblx0XHRzdXBlci5yZW1vdmUoKTtcblx0fVxuXG5cdHVwZGF0ZUxvY2F0aW9uKHBvaW50czogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9KSB7XG5cdFx0dGhpcy54ID0gcG9pbnRzLng7XG5cdFx0dGhpcy55ID0gcG9pbnRzLnk7XG5cdH1cblxuXHRnZXRYKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMueDtcblx0fVxuXG5cdGdldFkoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy55O1xuXHR9XG5cblx0Z2V0TGluaygpOiBMaW5rTW9kZWwge1xuXHRcdHJldHVybiB0aGlzLmxpbms7XG5cdH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBMaW5rTW9kZWxMaXN0ZW5lciBleHRlbmRzIEJhc2VNb2RlbExpc3RlbmVyIHtcblx0c291cmNlUG9ydENoYW5nZWQ/KGl0ZW06IExpbmtNb2RlbCwgdGFyZ2V0OiBudWxsIHwgUG9ydE1vZGVsKTogdm9pZDtcblxuXHR0YXJnZXRQb3J0Q2hhbmdlZD8oaXRlbTogTGlua01vZGVsLCB0YXJnZXQ6IG51bGwgfCBQb3J0TW9kZWwpOiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgTGlua01vZGVsIGV4dGVuZHMgQmFzZU1vZGVsPExpbmtNb2RlbExpc3RlbmVyPiB7XG5cdGxpbmtUeXBlOiBzdHJpbmc7XG5cdHNvdXJjZVBvcnQ6IFBvcnRNb2RlbCB8IG51bGw7XG5cdHRhcmdldFBvcnQ6IFBvcnRNb2RlbCB8IG51bGw7XG5cdHBvaW50czogUG9pbnRNb2RlbFtdO1xuXHRleHRyYXM6IHt9O1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5saW5rVHlwZSA9IFwiZGVmYXVsdFwiO1xuXHRcdHRoaXMucG9pbnRzID0gW25ldyBQb2ludE1vZGVsKHRoaXMsIHsgeDogMCwgeTogMCB9KSwgbmV3IFBvaW50TW9kZWwodGhpcywgeyB4OiAwLCB5OiAwIH0pXTtcblx0XHR0aGlzLmV4dHJhcyA9IHt9O1xuXHRcdHRoaXMuc291cmNlUG9ydCA9IG51bGw7XG5cdFx0dGhpcy50YXJnZXRQb3J0ID0gbnVsbDtcblx0fVxuXG5cdGRlU2VyaWFsaXplKG9iKSB7XG5cdFx0c3VwZXIuZGVTZXJpYWxpemUob2IpO1xuXHRcdHRoaXMubGlua1R5cGUgPSBvYi50eXBlO1xuXHRcdHRoaXMuZXh0cmFzID0gb2IuZXh0cmFzO1xuXHRcdHRoaXMucG9pbnRzID0gXy5tYXAob2IucG9pbnRzLCAocG9pbnQ6IHsgeDsgeSB9KSA9PiB7XG5cdFx0XHR2YXIgcCA9IG5ldyBQb2ludE1vZGVsKHRoaXMsIHsgeDogcG9pbnQueCwgeTogcG9pbnQueSB9KTtcblx0XHRcdHAuZGVTZXJpYWxpemUocG9pbnQpO1xuXHRcdFx0cmV0dXJuIHA7XG5cdFx0fSk7XG5cdH1cblxuXHRzZXJpYWxpemUoKSB7XG5cdFx0cmV0dXJuIF8ubWVyZ2Uoc3VwZXIuc2VyaWFsaXplKCksIHtcblx0XHRcdHR5cGU6IHRoaXMubGlua1R5cGUsXG5cdFx0XHRzb3VyY2U6IHRoaXMuc291cmNlUG9ydCA/IHRoaXMuc291cmNlUG9ydC5nZXRQYXJlbnQoKS5pZCA6IG51bGwsXG5cdFx0XHRzb3VyY2VQb3J0OiB0aGlzLnNvdXJjZVBvcnQgPyB0aGlzLnNvdXJjZVBvcnQuaWQgOiBudWxsLFxuXHRcdFx0dGFyZ2V0OiB0aGlzLnRhcmdldFBvcnQgPyB0aGlzLnRhcmdldFBvcnQuZ2V0UGFyZW50KCkuaWQgOiBudWxsLFxuXHRcdFx0dGFyZ2V0UG9ydDogdGhpcy50YXJnZXRQb3J0ID8gdGhpcy50YXJnZXRQb3J0LmlkIDogbnVsbCxcblx0XHRcdHBvaW50czogXy5tYXAodGhpcy5wb2ludHMsIHBvaW50ID0+IHtcblx0XHRcdFx0cmV0dXJuIHBvaW50LnNlcmlhbGl6ZSgpO1xuXHRcdFx0fSksXG5cdFx0XHRleHRyYXM6IHRoaXMuZXh0cmFzXG5cdFx0fSk7XG5cdH1cblxuXHRyZW1vdmUoKSB7XG5cdFx0aWYgKHRoaXMuc291cmNlUG9ydCkge1xuXHRcdFx0dGhpcy5zb3VyY2VQb3J0LnJlbW92ZUxpbmsodGhpcyk7XG5cdFx0fVxuXHRcdGlmICh0aGlzLnRhcmdldFBvcnQpIHtcblx0XHRcdHRoaXMudGFyZ2V0UG9ydC5yZW1vdmVMaW5rKHRoaXMpO1xuXHRcdH1cblx0XHRzdXBlci5yZW1vdmUoKTtcblx0fVxuXG5cdGlzTGFzdFBvaW50KHBvaW50OiBQb2ludE1vZGVsKSB7XG5cdFx0dmFyIGluZGV4ID0gdGhpcy5nZXRQb2ludEluZGV4KHBvaW50KTtcblx0XHRyZXR1cm4gaW5kZXggPT09IHRoaXMucG9pbnRzLmxlbmd0aCAtIDE7XG5cdH1cblxuXHRnZXRQb2ludEluZGV4KHBvaW50OiBQb2ludE1vZGVsKSB7XG5cdFx0cmV0dXJuIHRoaXMucG9pbnRzLmluZGV4T2YocG9pbnQpO1xuXHR9XG5cblx0Z2V0UG9pbnRNb2RlbChpZDogc3RyaW5nKTogUG9pbnRNb2RlbCB8IG51bGwge1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wb2ludHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmICh0aGlzLnBvaW50c1tpXS5pZCA9PT0gaWQpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMucG9pbnRzW2ldO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdGdldFBvcnRGb3JQb2ludChwb2ludDogUG9pbnRNb2RlbCk6IFBvcnRNb2RlbCB7XG5cdFx0aWYgKHRoaXMuc291cmNlUG9ydCAhPT0gbnVsbCAmJiB0aGlzLmdldEZpcnN0UG9pbnQoKS5nZXRJRCgpID09PSBwb2ludC5nZXRJRCgpKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5zb3VyY2VQb3J0O1xuXHRcdH1cblx0XHRpZiAodGhpcy50YXJnZXRQb3J0ICE9PSBudWxsICYmIHRoaXMuZ2V0TGFzdFBvaW50KCkuZ2V0SUQoKSA9PT0gcG9pbnQuZ2V0SUQoKSkge1xuXHRcdFx0cmV0dXJuIHRoaXMudGFyZ2V0UG9ydDtcblx0XHR9XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRnZXRQb2ludEZvclBvcnQocG9ydDogUG9ydE1vZGVsKTogUG9pbnRNb2RlbCB7XG5cdFx0aWYgKHRoaXMuc291cmNlUG9ydCAhPT0gbnVsbCAmJiB0aGlzLnNvdXJjZVBvcnQuZ2V0SUQoKSA9PT0gcG9ydC5nZXRJRCgpKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRGaXJzdFBvaW50KCk7XG5cdFx0fVxuXHRcdGlmICh0aGlzLnRhcmdldFBvcnQgIT09IG51bGwgJiYgdGhpcy50YXJnZXRQb3J0LmdldElEKCkgPT09IHBvcnQuZ2V0SUQoKSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0TGFzdFBvaW50KCk7XG5cdFx0fVxuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Z2V0Rmlyc3RQb2ludCgpOiBQb2ludE1vZGVsIHtcblx0XHRyZXR1cm4gdGhpcy5wb2ludHNbMF07XG5cdH1cblxuXHRnZXRMYXN0UG9pbnQoKTogUG9pbnRNb2RlbCB7XG5cdFx0cmV0dXJuIHRoaXMucG9pbnRzW3RoaXMucG9pbnRzLmxlbmd0aCAtIDFdO1xuXHR9XG5cblx0c2V0U291cmNlUG9ydChwb3J0OiBQb3J0TW9kZWwpIHtcblx0XHRwb3J0LmFkZExpbmsodGhpcyk7XG5cdFx0dGhpcy5zb3VyY2VQb3J0ID0gcG9ydDtcblx0XHR0aGlzLml0ZXJhdGVMaXN0ZW5lcnMoKGxpc3RlbmVyOiBMaW5rTW9kZWxMaXN0ZW5lcikgPT4ge1xuXHRcdFx0bGlzdGVuZXIuc291cmNlUG9ydENoYW5nZWQgJiYgbGlzdGVuZXIuc291cmNlUG9ydENoYW5nZWQodGhpcywgcG9ydCk7XG5cdFx0fSk7XG5cdH1cblxuXHRnZXRTb3VyY2VQb3J0KCk6IFBvcnRNb2RlbCB7XG5cdFx0cmV0dXJuIHRoaXMuc291cmNlUG9ydDtcblx0fVxuXG5cdGdldFRhcmdldFBvcnQoKTogUG9ydE1vZGVsIHtcblx0XHRyZXR1cm4gdGhpcy50YXJnZXRQb3J0O1xuXHR9XG5cblx0c2V0VGFyZ2V0UG9ydChwb3J0OiBQb3J0TW9kZWwpIHtcblx0XHRwb3J0LmFkZExpbmsodGhpcyk7XG5cdFx0dGhpcy50YXJnZXRQb3J0ID0gcG9ydDtcblx0XHR0aGlzLml0ZXJhdGVMaXN0ZW5lcnMoKGxpc3RlbmVyOiBMaW5rTW9kZWxMaXN0ZW5lcikgPT4ge1xuXHRcdFx0bGlzdGVuZXIudGFyZ2V0UG9ydENoYW5nZWQgJiYgbGlzdGVuZXIudGFyZ2V0UG9ydENoYW5nZWQodGhpcywgcG9ydCk7XG5cdFx0fSk7XG5cdH1cblxuXHRnZXRQb2ludHMoKTogUG9pbnRNb2RlbFtdIHtcblx0XHRyZXR1cm4gdGhpcy5wb2ludHM7XG5cdH1cblxuXHRzZXRQb2ludHMocG9pbnRzOiBQb2ludE1vZGVsW10pIHtcblx0XHR0aGlzLnBvaW50cyA9IHBvaW50cztcblx0fVxuXG5cdHJlbW92ZVBvaW50KHBvaW50TW9kZWw6IFBvaW50TW9kZWwpIHtcblx0XHR0aGlzLnBvaW50cy5zcGxpY2UodGhpcy5nZXRQb2ludEluZGV4KHBvaW50TW9kZWwpLCAxKTtcblx0fVxuXG5cdGFkZFBvaW50KHBvaW50TW9kZWw6IFBvaW50TW9kZWwsIGluZGV4ID0gMSkge1xuXHRcdHRoaXMucG9pbnRzLnNwbGljZShpbmRleCwgMCwgcG9pbnRNb2RlbCk7XG5cdH1cblxuXHRnZXRUeXBlKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMubGlua1R5cGU7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFBvcnRNb2RlbCBleHRlbmRzIEJhc2VNb2RlbDxCYXNlTW9kZWxMaXN0ZW5lcj4ge1xuXHRuYW1lOiBzdHJpbmc7XG5cdHBhcmVudE5vZGU6IE5vZGVNb2RlbDtcblx0bGlua3M6IHsgW2lkOiBzdHJpbmddOiBMaW5rTW9kZWwgfTtcblxuXHRkZVNlcmlhbGl6ZShvYikge1xuXHRcdHN1cGVyLmRlU2VyaWFsaXplKG9iKTtcblx0XHR0aGlzLm5hbWUgPSBvYi5uYW1lO1xuXHR9XG5cblx0c2VyaWFsaXplKCkge1xuXHRcdHJldHVybiBfLm1lcmdlKHN1cGVyLnNlcmlhbGl6ZSgpLCB7XG5cdFx0XHRuYW1lOiB0aGlzLm5hbWUsXG5cdFx0XHRwYXJlbnROb2RlOiB0aGlzLnBhcmVudE5vZGUuaWQsXG5cdFx0XHRsaW5rczogXy5tYXAodGhpcy5saW5rcywgbGluayA9PiB7XG5cdFx0XHRcdHJldHVybiBsaW5rLmlkO1xuXHRcdFx0fSlcblx0XHR9KTtcblx0fVxuXG5cdGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgaWQ/OiBzdHJpbmcpIHtcblx0XHRzdXBlcihpZCk7XG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcblx0XHR0aGlzLmxpbmtzID0ge307XG5cdFx0dGhpcy5wYXJlbnROb2RlID0gbnVsbDtcblx0fVxuXG5cdGdldE5hbWUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5uYW1lO1xuXHR9XG5cblx0Z2V0UGFyZW50KCk6IE5vZGVNb2RlbCB7XG5cdFx0cmV0dXJuIHRoaXMucGFyZW50Tm9kZTtcblx0fVxuXG5cdHNldFBhcmVudE5vZGUobm9kZTogTm9kZU1vZGVsKSB7XG5cdFx0dGhpcy5wYXJlbnROb2RlID0gbm9kZTtcblx0fVxuXG5cdHJlbW92ZUxpbmsobGluazogTGlua01vZGVsKSB7XG5cdFx0ZGVsZXRlIHRoaXMubGlua3NbbGluay5nZXRJRCgpXTtcblx0fVxuXG5cdGFkZExpbmsobGluazogTGlua01vZGVsKSB7XG5cdFx0dGhpcy5saW5rc1tsaW5rLmdldElEKCldID0gbGluaztcblx0fVxuXG5cdGdldExpbmtzKCk6IHsgW2lkOiBzdHJpbmddOiBMaW5rTW9kZWwgfSB7XG5cdFx0cmV0dXJuIHRoaXMubGlua3M7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIE5vZGVNb2RlbCBleHRlbmRzIEJhc2VNb2RlbDxCYXNlTW9kZWxMaXN0ZW5lcj4ge1xuXHRub2RlVHlwZTogc3RyaW5nO1xuXHR4OiBudW1iZXI7XG5cdHk6IG51bWJlcjtcblx0ZXh0cmFzOiB7fTtcblx0cG9ydHM6IHsgW3M6IHN0cmluZ106IFBvcnRNb2RlbCB9O1xuXG5cdGNvbnN0cnVjdG9yKG5vZGVUeXBlOiBzdHJpbmcgPSBcImRlZmF1bHRcIiwgaWQ/OiBzdHJpbmcpIHtcblx0XHRzdXBlcihpZCk7XG5cdFx0dGhpcy5ub2RlVHlwZSA9IG5vZGVUeXBlO1xuXHRcdHRoaXMueCA9IDA7XG5cdFx0dGhpcy55ID0gMDtcblx0XHR0aGlzLmV4dHJhcyA9IHt9O1xuXHRcdHRoaXMucG9ydHMgPSB7fTtcblx0fVxuXG5cdGdldFNlbGVjdGVkRW50aXRpZXMoKSB7XG5cdFx0bGV0IGVudGl0aWVzID0gc3VwZXIuZ2V0U2VsZWN0ZWRFbnRpdGllcygpO1xuXG5cdFx0Ly8gYWRkIHRoZSBwb2ludHMgb2YgZWFjaCBsaW5rIHRoYXQgYXJlIHNlbGVjdGVkIGhlcmVcblx0XHRpZiAodGhpcy5pc1NlbGVjdGVkKCkpIHtcblx0XHRcdGZvciAobGV0IHBvcnROYW1lIGluIHRoaXMucG9ydHMpIHtcblx0XHRcdFx0ZW50aXRpZXMgPSBlbnRpdGllcy5jb25jYXQoXG5cdFx0XHRcdFx0Xy5tYXAodGhpcy5wb3J0c1twb3J0TmFtZV0uZ2V0TGlua3MoKSwgbGluayA9PiB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gbGluay5nZXRQb2ludEZvclBvcnQodGhpcy5wb3J0c1twb3J0TmFtZV0pO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBlbnRpdGllcztcblx0fVxuXG5cdGRlU2VyaWFsaXplKG9iKSB7XG5cdFx0c3VwZXIuZGVTZXJpYWxpemUob2IpO1xuXHRcdHRoaXMubm9kZVR5cGUgPSBvYi50eXBlO1xuXHRcdHRoaXMueCA9IG9iLng7XG5cdFx0dGhpcy55ID0gb2IueTtcblx0XHR0aGlzLmV4dHJhcyA9IG9iLmV4dHJhcztcblx0fVxuXG5cdHNlcmlhbGl6ZSgpIHtcblx0XHRyZXR1cm4gXy5tZXJnZShzdXBlci5zZXJpYWxpemUoKSwge1xuXHRcdFx0dHlwZTogdGhpcy5ub2RlVHlwZSxcblx0XHRcdHg6IHRoaXMueCxcblx0XHRcdHk6IHRoaXMueSxcblx0XHRcdGV4dHJhczogdGhpcy5leHRyYXMsXG5cdFx0XHRwb3J0czogXy5tYXAodGhpcy5wb3J0cywgcG9ydCA9PiB7XG5cdFx0XHRcdHJldHVybiBwb3J0LnNlcmlhbGl6ZSgpO1xuXHRcdFx0fSlcblx0XHR9KTtcblx0fVxuXG5cdHJlbW92ZSgpIHtcblx0XHRzdXBlci5yZW1vdmUoKTtcblx0XHRmb3IgKHZhciBpIGluIHRoaXMucG9ydHMpIHtcblx0XHRcdF8uZm9yRWFjaCh0aGlzLnBvcnRzW2ldLmdldExpbmtzKCksIGxpbmsgPT4ge1xuXHRcdFx0XHRsaW5rLnJlbW92ZSgpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0Z2V0UG9ydEZyb21JRChpZCk6IFBvcnRNb2RlbCB8IG51bGwge1xuXHRcdGZvciAodmFyIGkgaW4gdGhpcy5wb3J0cykge1xuXHRcdFx0aWYgKHRoaXMucG9ydHNbaV0uaWQgPT09IGlkKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLnBvcnRzW2ldO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdGdldFBvcnQobmFtZTogc3RyaW5nKTogUG9ydE1vZGVsIHwgbnVsbCB7XG5cdFx0cmV0dXJuIHRoaXMucG9ydHNbbmFtZV07XG5cdH1cblxuXHRnZXRQb3J0cygpOiB7IFtzOiBzdHJpbmddOiBQb3J0TW9kZWwgfSB7XG5cdFx0cmV0dXJuIHRoaXMucG9ydHM7XG5cdH1cblxuXHRyZW1vdmVQb3J0KHBvcnQ6IFBvcnRNb2RlbCkge1xuXHRcdC8vY2xlYXIgdGhlIHBhcmVudCBub2RlIHJlZmVyZW5jZVxuXHRcdGlmICh0aGlzLnBvcnRzW3BvcnQubmFtZV0pIHtcblx0XHRcdHRoaXMucG9ydHNbcG9ydC5uYW1lXS5zZXRQYXJlbnROb2RlKG51bGwpO1xuXHRcdFx0ZGVsZXRlIHRoaXMucG9ydHNbcG9ydC5uYW1lXTtcblx0XHR9XG5cdH1cblxuXHRhZGRQb3J0KHBvcnQ6IFBvcnRNb2RlbCk6IFBvcnRNb2RlbCB7XG5cdFx0cG9ydC5zZXRQYXJlbnROb2RlKHRoaXMpO1xuXHRcdHRoaXMucG9ydHNbcG9ydC5uYW1lXSA9IHBvcnQ7XG5cdFx0cmV0dXJuIHBvcnQ7XG5cdH1cblxuXHRnZXRUeXBlKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMubm9kZVR5cGU7XG5cdH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvQ29tbW9uLnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBU0E7O0FBRUE7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUVBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBbkRBO0FBcURBO0FBQUE7QUFLQTtBQUFBO0FBRUE7QUFDQTtBQUNBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBNURBO0FBb0VBO0FBQUE7QUFPQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBNUlBO0FBOElBO0FBQUE7QUFvQkE7QUFBQTtBQUVBO0FBQ0E7QUFDQTs7QUFDQTtBQXBCQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFsREE7QUFvREE7QUFBQTtBQU9BO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7QUFOQTtBQUFBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUEvRkE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Toolkit_1 = __webpack_require__(6);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar BaseListener = /** @class */ (function () {\r\n    function BaseListener() {\r\n    }\r\n    return BaseListener;\r\n}());\r\nexports.BaseListener = BaseListener;\r\nvar BaseEntity = /** @class */ (function () {\r\n    function BaseEntity(id) {\r\n        this.listeners = {};\r\n        this.id = id || Toolkit_1.Toolkit.UID();\r\n        this.locked = false;\r\n    }\r\n    BaseEntity.prototype.getID = function () {\r\n        return this.id;\r\n    };\r\n    BaseEntity.prototype.clearListeners = function () {\r\n        this.listeners = {};\r\n    };\r\n    BaseEntity.prototype.deSerialize = function (data) {\r\n        this.id = data.id;\r\n    };\r\n    BaseEntity.prototype.serialize = function () {\r\n        return {\r\n            id: this.id\r\n        };\r\n    };\r\n    BaseEntity.prototype.iterateListeners = function (cb) {\r\n        for (var i in this.listeners) {\r\n            cb(this.listeners[i]);\r\n        }\r\n    };\r\n    BaseEntity.prototype.removeListener = function (listener) {\r\n        if (this.listeners[listener]) {\r\n            delete this.listeners[listener];\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    BaseEntity.prototype.addListener = function (listener) {\r\n        var uid = Toolkit_1.Toolkit.UID();\r\n        this.listeners[uid] = listener;\r\n        return uid;\r\n    };\r\n    BaseEntity.prototype.isLocked = function () {\r\n        return this.locked;\r\n    };\r\n    BaseEntity.prototype.setLocked = function (locked) {\r\n        var _this = this;\r\n        if (locked === void 0) { locked = true; }\r\n        this.locked = locked;\r\n        this.iterateListeners(function (listener) {\r\n            if (listener.lockChanged) {\r\n                listener.lockChanged(_this, locked);\r\n            }\r\n        });\r\n    };\r\n    return BaseEntity;\r\n}());\r\nexports.BaseEntity = BaseEntity;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvQmFzZUVudGl0eS50cz8zOTVhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRvb2xraXQgfSBmcm9tIFwiLi9Ub29sa2l0XCI7XG4vKipcbiAqIEBhdXRob3IgRHlsYW4gVm9yc3RlclxuICovXG5leHBvcnQgY2xhc3MgQmFzZUxpc3RlbmVyIHtcblx0bG9ja0NoYW5nZWQ/KGVudGl0eTogQmFzZUVudGl0eTxCYXNlTGlzdGVuZXI+LCBsb2NrZWQ6IGJvb2xlYW4pOiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgQmFzZUVudGl0eTxUIGV4dGVuZHMgQmFzZUxpc3RlbmVyPiB7XG5cdHB1YmxpYyBsaXN0ZW5lcnM6IHsgW3M6IHN0cmluZ106IFQgfTtcblx0cHVibGljIGlkOiBzdHJpbmc7XG5cdHB1YmxpYyBsb2NrZWQ6IGJvb2xlYW47XG5cblx0Y29uc3RydWN0b3IoaWQ/OiBzdHJpbmcpIHtcblx0XHR0aGlzLmxpc3RlbmVycyA9IHt9O1xuXHRcdHRoaXMuaWQgPSBpZCB8fCBUb29sa2l0LlVJRCgpO1xuXHRcdHRoaXMubG9ja2VkID0gZmFsc2U7XG5cdH1cblxuXHRnZXRJRCgpIHtcblx0XHRyZXR1cm4gdGhpcy5pZDtcblx0fVxuXG5cdGNsZWFyTGlzdGVuZXJzKCkge1xuXHRcdHRoaXMubGlzdGVuZXJzID0ge307XG5cdH1cblxuXHRwdWJsaWMgZGVTZXJpYWxpemUoZGF0YSkge1xuXHRcdHRoaXMuaWQgPSBkYXRhLmlkO1xuXHR9XG5cblx0cHVibGljIHNlcmlhbGl6ZSgpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0aWQ6IHRoaXMuaWRcblx0XHR9O1xuXHR9XG5cblx0cHVibGljIGl0ZXJhdGVMaXN0ZW5lcnMoY2I6ICh0OiBUKSA9PiBhbnkpIHtcblx0XHRmb3IgKHZhciBpIGluIHRoaXMubGlzdGVuZXJzKSB7XG5cdFx0XHRjYih0aGlzLmxpc3RlbmVyc1tpXSk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIHJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyOiBzdHJpbmcpIHtcblx0XHRpZiAodGhpcy5saXN0ZW5lcnNbbGlzdGVuZXJdKSB7XG5cdFx0XHRkZWxldGUgdGhpcy5saXN0ZW5lcnNbbGlzdGVuZXJdO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHB1YmxpYyBhZGRMaXN0ZW5lcihsaXN0ZW5lcjogVCk6IHN0cmluZyB7XG5cdFx0dmFyIHVpZCA9IFRvb2xraXQuVUlEKCk7XG5cdFx0dGhpcy5saXN0ZW5lcnNbdWlkXSA9IGxpc3RlbmVyO1xuXHRcdHJldHVybiB1aWQ7XG5cdH1cblxuXHRwdWJsaWMgaXNMb2NrZWQoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMubG9ja2VkO1xuXHR9XG5cblx0cHVibGljIHNldExvY2tlZChsb2NrZWQ6IGJvb2xlYW4gPSB0cnVlKSB7XG5cdFx0dGhpcy5sb2NrZWQgPSBsb2NrZWQ7XG5cdFx0dGhpcy5pdGVyYXRlTGlzdGVuZXJzKGxpc3RlbmVyID0+IHtcblx0XHRcdGlmIChsaXN0ZW5lci5sb2NrQ2hhbmdlZCkge1xuXHRcdFx0XHRsaXN0ZW5lci5sb2NrQ2hhbmdlZCh0aGlzLCBsb2NrZWQpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL0Jhc2VFbnRpdHkudHMiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFGQTtBQUlBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBN0RBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar AbstractInstanceFactory = /** @class */ (function () {\r\n    function AbstractInstanceFactory(className) {\r\n        this.className = className;\r\n    }\r\n    AbstractInstanceFactory.prototype.getName = function () {\r\n        return this.className;\r\n    };\r\n    return AbstractInstanceFactory;\r\n}());\r\nexports.AbstractInstanceFactory = AbstractInstanceFactory;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvQWJzdHJhY3RJbnN0YW5jZUZhY3RvcnkudHM/ZmU2ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlRW50aXR5LCBCYXNlTGlzdGVuZXIgfSBmcm9tIFwiLi9CYXNlRW50aXR5XCI7XG4vKipcbiAqIEBhdXRob3IgRHlsYW4gVm9yc3RlclxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RJbnN0YW5jZUZhY3Rvcnk8VCBleHRlbmRzIEJhc2VFbnRpdHk8QmFzZUxpc3RlbmVyPj4ge1xuXHRjbGFzc05hbWU6IHN0cmluZztcblxuXHRjb25zdHJ1Y3RvcihjbGFzc05hbWU6IHN0cmluZykge1xuXHRcdHRoaXMuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuXHR9XG5cblx0Z2V0TmFtZSgpIHtcblx0XHRyZXR1cm4gdGhpcy5jbGFzc05hbWU7XG5cdH1cblxuXHRhYnN0cmFjdCBnZXRJbnN0YW5jZShpbml0aWFsQ29uZmlnPzogYW55KTogVDtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvQWJzdHJhY3RJbnN0YW5jZUZhY3RvcnkudHMiXSwibWFwcGluZ3MiOiI7O0FBQ0E7O0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFaQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar WidgetFactory = /** @class */ (function () {\r\n    function WidgetFactory(name) {\r\n        this.type = name;\r\n    }\r\n    WidgetFactory.prototype.getType = function () {\r\n        return this.type;\r\n    };\r\n    return WidgetFactory;\r\n}());\r\nexports.WidgetFactory = WidgetFactory;\r\nvar NodeWidgetFactory = /** @class */ (function (_super) {\r\n    __extends(NodeWidgetFactory, _super);\r\n    function NodeWidgetFactory() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return NodeWidgetFactory;\r\n}(WidgetFactory));\r\nexports.NodeWidgetFactory = NodeWidgetFactory;\r\nvar LinkWidgetFactory = /** @class */ (function (_super) {\r\n    __extends(LinkWidgetFactory, _super);\r\n    function LinkWidgetFactory() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return LinkWidgetFactory;\r\n}(WidgetFactory));\r\nexports.LinkWidgetFactory = LinkWidgetFactory;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvV2lkZ2V0RmFjdG9yaWVzLnRzPzZkZGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTm9kZU1vZGVsLCBMaW5rTW9kZWwgfSBmcm9tIFwiLi9Db21tb25cIjtcbmltcG9ydCB7IERpYWdyYW1FbmdpbmUgfSBmcm9tIFwiLi9EaWFncmFtRW5naW5lXCI7XG4vKipcbiAqIEBhdXRob3IgRHlsYW4gVm9yc3RlclxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgV2lkZ2V0RmFjdG9yeSB7XG5cdHR5cGU6IHN0cmluZztcblxuXHRjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcpIHtcblx0XHR0aGlzLnR5cGUgPSBuYW1lO1xuXHR9XG5cblx0Z2V0VHlwZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLnR5cGU7XG5cdH1cbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIE5vZGVXaWRnZXRGYWN0b3J5IGV4dGVuZHMgV2lkZ2V0RmFjdG9yeSB7XG5cdGFic3RyYWN0IGdlbmVyYXRlUmVhY3RXaWRnZXQoZGlhZ3JhbUVuZ2luZTogRGlhZ3JhbUVuZ2luZSwgbm9kZTogTm9kZU1vZGVsKTogSlNYLkVsZW1lbnQ7XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBMaW5rV2lkZ2V0RmFjdG9yeSBleHRlbmRzIFdpZGdldEZhY3Rvcnkge1xuXHRhYnN0cmFjdCBnZW5lcmF0ZVJlYWN0V2lkZ2V0KGRpYWdyYW1FbmdpbmU6IERpYWdyYW1FbmdpbmUsIGxpbms6IExpbmtNb2RlbCk6IEpTWC5FbGVtZW50O1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9XaWRnZXRGYWN0b3JpZXMudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUVBOztBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBVkE7QUFZQTtBQUFBO0FBQUE7O0FBRUE7QUFBQTtBQUFBO0FBRkE7QUFJQTtBQUFBO0FBQUE7O0FBRUE7QUFBQTtBQUFBO0FBRkE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5\n");

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar closest = __webpack_require__(19);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar Toolkit = /** @class */ (function () {\r\n    function Toolkit() {\r\n    }\r\n    /**\r\n   * Generats a unique ID (thanks Stack overflow :3)\r\n   * @returns {String}\r\n   */\r\n    Toolkit.UID = function () {\r\n        return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\r\n            var r = (Math.random() * 16) | 0, v = c == \"x\" ? r : (r & 0x3) | 0x8;\r\n            return v.toString(16);\r\n        });\r\n    };\r\n    /**\r\n     * Finds the closest element as a polyfill\r\n     *\r\n     * @param  {Element} element  [description]\r\n     * @param  {string}  selector [description]\r\n     */\r\n    Toolkit.closest = function (element, selector) {\r\n        if (document.body.closest) {\r\n            return element.closest(selector);\r\n        }\r\n        return closest(element, selector);\r\n    };\r\n    return Toolkit;\r\n}());\r\nexports.Toolkit = Toolkit;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvVG9vbGtpdC50cz9lYmE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjbG9zZXN0ID0gcmVxdWlyZShcImNsb3Nlc3RcIik7XG4vKipcbiAqIEBhdXRob3IgRHlsYW4gVm9yc3RlclxuICovXG5leHBvcnQgY2xhc3MgVG9vbGtpdCB7XG5cdC8qKlxuICAgKiBHZW5lcmF0cyBhIHVuaXF1ZSBJRCAodGhhbmtzIFN0YWNrIG92ZXJmbG93IDozKVxuICAgKiBAcmV0dXJucyB7U3RyaW5nfVxuICAgKi9cblx0cHVibGljIHN0YXRpYyBVSUQoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gXCJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcIi5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uKGMpIHtcblx0XHRcdHZhciByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwLFxuXHRcdFx0XHR2ID0gYyA9PSBcInhcIiA/IHIgOiAociAmIDB4MykgfCAweDg7XG5cdFx0XHRyZXR1cm4gdi50b1N0cmluZygxNik7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogRmluZHMgdGhlIGNsb3Nlc3QgZWxlbWVudCBhcyBhIHBvbHlmaWxsXG5cdCAqXG5cdCAqIEBwYXJhbSAge0VsZW1lbnR9IGVsZW1lbnQgIFtkZXNjcmlwdGlvbl1cblx0ICogQHBhcmFtICB7c3RyaW5nfSAgc2VsZWN0b3IgW2Rlc2NyaXB0aW9uXVxuXHQgKi9cblx0cHVibGljIHN0YXRpYyBjbG9zZXN0KGVsZW1lbnQ6IEVsZW1lbnQsIHNlbGVjdG9yOiBzdHJpbmcpIHtcblx0XHRpZiAoZG9jdW1lbnQuYm9keS5jbG9zZXN0KSB7XG5cdFx0XHRyZXR1cm4gZWxlbWVudC5jbG9zZXN0KHNlbGVjdG9yKTtcblx0XHR9XG5cdFx0cmV0dXJuIGNsb3Nlc3QoZWxlbWVudCwgc2VsZWN0b3IpO1xuXHR9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL1Rvb2xraXQudHMiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUF5QkE7QUF4QkE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBekJBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6\n");

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(0);\r\nvar Common_1 = __webpack_require__(2);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar DefaultLinkWidget = /** @class */ (function (_super) {\r\n    __extends(DefaultLinkWidget, _super);\r\n    function DefaultLinkWidget(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.state = {\r\n            selected: false\r\n        };\r\n        return _this;\r\n    }\r\n    DefaultLinkWidget.prototype.generatePoint = function (pointIndex) {\r\n        var _this = this;\r\n        var x = this.props.link.points[pointIndex].x;\r\n        var y = this.props.link.points[pointIndex].y;\r\n        return (React.createElement(\"g\", { key: \"point-\" + this.props.link.points[pointIndex].id },\r\n            React.createElement(\"circle\", { cx: x, cy: y, r: 5, className: \"point pointui\" + (this.props.link.points[pointIndex].isSelected() ? \" selected\" : \"\") }),\r\n            React.createElement(\"circle\", { onMouseLeave: function () {\r\n                    _this.setState({ selected: false });\r\n                }, onMouseEnter: function () {\r\n                    _this.setState({ selected: true });\r\n                }, \"data-id\": this.props.link.points[pointIndex].id, \"data-linkid\": this.props.link.id, cx: x, cy: y, r: 15, opacity: 0, className: \"point\" })));\r\n    };\r\n    DefaultLinkWidget.prototype.generateLink = function (extraProps, id) {\r\n        var _this = this;\r\n        var Bottom = (React.createElement(\"path\", __assign({ className: this.state.selected || this.props.link.isSelected() ? \"selected\" : \"\", strokeWidth: this.props.width, stroke: this.props.color }, extraProps)));\r\n        var Top = (React.createElement(\"path\", __assign({ strokeLinecap: \"round\", onMouseLeave: function () {\r\n                _this.setState({ selected: false });\r\n            }, onMouseEnter: function () {\r\n                _this.setState({ selected: true });\r\n            }, \"data-linkid\": this.props.link.getID(), stroke: this.props.color, strokeOpacity: this.state.selected ? 0.1 : 0, strokeWidth: 20, onContextMenu: function () {\r\n                if (!_this.props.diagramEngine.isModelLocked(_this.props.link)) {\r\n                    event.preventDefault();\r\n                    _this.props.link.remove();\r\n                }\r\n            } }, extraProps)));\r\n        return (React.createElement(\"g\", { key: \"link-\" + id },\r\n            Bottom,\r\n            Top));\r\n    };\r\n    DefaultLinkWidget.prototype.generateLinePath = function (firstPoint, lastPoint) {\r\n        return \"M\" + firstPoint.x + \",\" + firstPoint.y + \" L \" + lastPoint.x + \",\" + lastPoint.y;\r\n    };\r\n    DefaultLinkWidget.prototype.generateCurvePath = function (firstPoint, lastPoint, firstPointDelta, lastPointDelta) {\r\n        if (firstPointDelta === void 0) { firstPointDelta = 0; }\r\n        if (lastPointDelta === void 0) { lastPointDelta = 0; }\r\n        return \"M\" + firstPoint.x + \",\" + firstPoint.y + \" C \" + (firstPoint.x + firstPointDelta) + \",\" + firstPoint.y + \" \" + (lastPoint.x +\r\n            lastPointDelta) + \",\" + lastPoint.y + \" \" + lastPoint.x + \",\" + lastPoint.y;\r\n    };\r\n    DefaultLinkWidget.prototype.render = function () {\r\n        var _this = this;\r\n        //ensure id is present for all points on the path\r\n        var points = this.props.link.points;\r\n        var paths = [];\r\n        var model = this.props.diagramEngine.getDiagramModel();\r\n        //draw the smoothing\r\n        if (points.length === 2) {\r\n            //if the points are too close, just draw a straight line\r\n            var margin = 50;\r\n            if (Math.abs(points[0].x - points[1].x) < 50) {\r\n                margin = 5;\r\n            }\r\n            var pointLeft = points[0];\r\n            var pointRight = points[1];\r\n            //some defensive programming to make sure the smoothing is\r\n            //always in the right direction\r\n            if (pointLeft.x > pointRight.x) {\r\n                pointLeft = points[1];\r\n                pointRight = points[0];\r\n            }\r\n            paths.push(this.generateLink({\r\n                onMouseDown: function (event) {\r\n                    if (!event.shiftKey && !_this.props.diagramEngine.isModelLocked(_this.props.link)) {\r\n                        var point = new Common_1.PointModel(_this.props.link, _this.props.diagramEngine.getRelativeMousePoint(event));\r\n                        point.setSelected(true);\r\n                        _this.forceUpdate();\r\n                        _this.props.link.addPoint(point, 1);\r\n                        _this.props.pointAdded(point, event);\r\n                    }\r\n                },\r\n                d: this.generateCurvePath(pointLeft, pointRight, margin, -margin)\r\n            }, \"0\"));\r\n            if (this.props.link.targetPort === null) {\r\n                paths.push(this.generatePoint(1));\r\n            }\r\n        }\r\n        else {\r\n            //draw the multiple anchors and complex line instead\r\n            var ds = [];\r\n            if (this.props.smooth) {\r\n                ds.push(this.generateCurvePath(points[0], points[1], 50, 0));\r\n                for (var i = 1; i < points.length - 2; i++) {\r\n                    ds.push(this.generateLinePath(points[i], points[i + 1]));\r\n                }\r\n                ds.push(this.generateCurvePath(points[i], points[i + 1], 0, -50));\r\n            }\r\n            else {\r\n                var ds = [];\r\n                for (var i = 0; i < points.length - 1; i++) {\r\n                    ds.push(this.generateLinePath(points[i], points[i + 1]));\r\n                }\r\n            }\r\n            paths = ds.map(function (data, index) {\r\n                return _this.generateLink({\r\n                    \"data-linkid\": _this.props.link.id,\r\n                    \"data-point\": index,\r\n                    onMouseDown: function (event) {\r\n                        if (!event.shiftKey && !_this.props.diagramEngine.isModelLocked(_this.props.link)) {\r\n                            var point = new Common_1.PointModel(_this.props.link, _this.props.diagramEngine.getRelativeMousePoint(event));\r\n                            point.setSelected(true);\r\n                            _this.forceUpdate();\r\n                            _this.props.link.addPoint(point, index + 1);\r\n                            _this.props.pointAdded(point, event);\r\n                        }\r\n                    },\r\n                    d: data\r\n                }, index);\r\n            });\r\n            //render the circles\r\n            for (var i = 1; i < points.length - 1; i++) {\r\n                paths.push(this.generatePoint(i));\r\n            }\r\n            if (this.props.link.targetPort === null) {\r\n                paths.push(this.generatePoint(points.length - 1));\r\n            }\r\n        }\r\n        return React.createElement(\"g\", null, paths);\r\n    };\r\n    DefaultLinkWidget.defaultProps = {\r\n        color: \"black\",\r\n        width: 3,\r\n        link: null,\r\n        engine: null,\r\n        smooth: false,\r\n        diagramEngine: null\r\n    };\r\n    return DefaultLinkWidget;\r\n}(React.Component));\r\nexports.DefaultLinkWidget = DefaultLinkWidget;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvZGVmYXVsdHMvRGVmYXVsdExpbmtXaWRnZXQudHN4PzQ3ZmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBMaW5rTW9kZWwsIFBvaW50TW9kZWwgfSBmcm9tIFwiLi4vQ29tbW9uXCI7XG5pbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCB7IERpYWdyYW1FbmdpbmUgfSBmcm9tIFwiLi4vRGlhZ3JhbUVuZ2luZVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIERlZmF1bHRMaW5rUHJvcHMge1xuXHRjb2xvcj86IHN0cmluZztcblx0d2lkdGg/OiBudW1iZXI7XG5cdGxpbms6IExpbmtNb2RlbDtcblx0c21vb3RoPzogYm9vbGVhbjtcblx0ZGlhZ3JhbUVuZ2luZTogRGlhZ3JhbUVuZ2luZTtcblx0cG9pbnRBZGRlZD86IChwb2ludDogUG9pbnRNb2RlbCwgZXZlbnQpID0+IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEZWZhdWx0TGlua1N0YXRlIHtcblx0c2VsZWN0ZWQ6IGJvb2xlYW47XG59XG5cbi8qKlxuICogQGF1dGhvciBEeWxhbiBWb3JzdGVyXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWZhdWx0TGlua1dpZGdldCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxEZWZhdWx0TGlua1Byb3BzLCBEZWZhdWx0TGlua1N0YXRlPiB7XG5cdHB1YmxpYyBzdGF0aWMgZGVmYXVsdFByb3BzOiBEZWZhdWx0TGlua1Byb3BzID0ge1xuXHRcdGNvbG9yOiBcImJsYWNrXCIsXG5cdFx0d2lkdGg6IDMsXG5cdFx0bGluazogbnVsbCxcblx0XHRlbmdpbmU6IG51bGwsXG5cdFx0c21vb3RoOiBmYWxzZSxcblx0XHRkaWFncmFtRW5naW5lOiBudWxsXG5cdH07XG5cblx0Y29uc3RydWN0b3IocHJvcHM6IERlZmF1bHRMaW5rUHJvcHMpIHtcblx0XHRzdXBlcihwcm9wcyk7XG5cdFx0dGhpcy5zdGF0ZSA9IHtcblx0XHRcdHNlbGVjdGVkOiBmYWxzZVxuXHRcdH07XG5cdH1cblxuXHRnZW5lcmF0ZVBvaW50KHBvaW50SW5kZXg6IG51bWJlcik6IEpTWC5FbGVtZW50IHtcblx0XHRsZXQgeCA9IHRoaXMucHJvcHMubGluay5wb2ludHNbcG9pbnRJbmRleF0ueDtcblx0XHRsZXQgeSA9IHRoaXMucHJvcHMubGluay5wb2ludHNbcG9pbnRJbmRleF0ueTtcblxuXHRcdHJldHVybiAoXG5cdFx0XHQ8ZyBrZXk9e1wicG9pbnQtXCIgKyB0aGlzLnByb3BzLmxpbmsucG9pbnRzW3BvaW50SW5kZXhdLmlkfT5cblx0XHRcdFx0PGNpcmNsZVxuXHRcdFx0XHRcdGN4PXt4fVxuXHRcdFx0XHRcdGN5PXt5fVxuXHRcdFx0XHRcdHI9ezV9XG5cdFx0XHRcdFx0Y2xhc3NOYW1lPXtcInBvaW50IHBvaW50dWlcIiArICh0aGlzLnByb3BzLmxpbmsucG9pbnRzW3BvaW50SW5kZXhdLmlzU2VsZWN0ZWQoKSA/IFwiIHNlbGVjdGVkXCIgOiBcIlwiKX1cblx0XHRcdFx0Lz5cblx0XHRcdFx0PGNpcmNsZVxuXHRcdFx0XHRcdG9uTW91c2VMZWF2ZT17KCkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkOiBmYWxzZSB9KTtcblx0XHRcdFx0XHR9fVxuXHRcdFx0XHRcdG9uTW91c2VFbnRlcj17KCkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkOiB0cnVlIH0pO1xuXHRcdFx0XHRcdH19XG5cdFx0XHRcdFx0ZGF0YS1pZD17dGhpcy5wcm9wcy5saW5rLnBvaW50c1twb2ludEluZGV4XS5pZH1cblx0XHRcdFx0XHRkYXRhLWxpbmtpZD17dGhpcy5wcm9wcy5saW5rLmlkfVxuXHRcdFx0XHRcdGN4PXt4fVxuXHRcdFx0XHRcdGN5PXt5fVxuXHRcdFx0XHRcdHI9ezE1fVxuXHRcdFx0XHRcdG9wYWNpdHk9ezB9XG5cdFx0XHRcdFx0Y2xhc3NOYW1lPXtcInBvaW50XCJ9XG5cdFx0XHRcdC8+XG5cdFx0XHQ8L2c+XG5cdFx0KTtcblx0fVxuXG5cdGdlbmVyYXRlTGluayhleHRyYVByb3BzOiBhbnksIGlkOiBzdHJpbmcgfCBudW1iZXIpOiBKU1guRWxlbWVudCB7XG5cdFx0dmFyIEJvdHRvbSA9IChcblx0XHRcdDxwYXRoXG5cdFx0XHRcdGNsYXNzTmFtZT17dGhpcy5zdGF0ZS5zZWxlY3RlZCB8fCB0aGlzLnByb3BzLmxpbmsuaXNTZWxlY3RlZCgpID8gXCJzZWxlY3RlZFwiIDogXCJcIn1cblx0XHRcdFx0c3Ryb2tlV2lkdGg9e3RoaXMucHJvcHMud2lkdGh9XG5cdFx0XHRcdHN0cm9rZT17dGhpcy5wcm9wcy5jb2xvcn1cblx0XHRcdFx0ey4uLmV4dHJhUHJvcHN9XG5cdFx0XHQvPlxuXHRcdCk7XG5cblx0XHR2YXIgVG9wID0gKFxuXHRcdFx0PHBhdGhcblx0XHRcdFx0c3Ryb2tlTGluZWNhcD1cInJvdW5kXCJcblx0XHRcdFx0b25Nb3VzZUxlYXZlPXsoKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkOiBmYWxzZSB9KTtcblx0XHRcdFx0fX1cblx0XHRcdFx0b25Nb3VzZUVudGVyPXsoKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkOiB0cnVlIH0pO1xuXHRcdFx0XHR9fVxuXHRcdFx0XHRkYXRhLWxpbmtpZD17dGhpcy5wcm9wcy5saW5rLmdldElEKCl9XG5cdFx0XHRcdHN0cm9rZT17dGhpcy5wcm9wcy5jb2xvcn1cblx0XHRcdFx0c3Ryb2tlT3BhY2l0eT17dGhpcy5zdGF0ZS5zZWxlY3RlZCA/IDAuMSA6IDB9XG5cdFx0XHRcdHN0cm9rZVdpZHRoPXsyMH1cblx0XHRcdFx0b25Db250ZXh0TWVudT17KCkgPT4ge1xuXHRcdFx0XHRcdGlmICghdGhpcy5wcm9wcy5kaWFncmFtRW5naW5lLmlzTW9kZWxMb2NrZWQodGhpcy5wcm9wcy5saW5rKSkge1xuXHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdHRoaXMucHJvcHMubGluay5yZW1vdmUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH19XG5cdFx0XHRcdHsuLi5leHRyYVByb3BzfVxuXHRcdFx0Lz5cblx0XHQpO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdDxnIGtleT17XCJsaW5rLVwiICsgaWR9PlxuXHRcdFx0XHR7Qm90dG9tfVxuXHRcdFx0XHR7VG9wfVxuXHRcdFx0PC9nPlxuXHRcdCk7XG5cdH1cblxuXHRnZW5lcmF0ZUxpbmVQYXRoKGZpcnN0UG9pbnQ6IFBvaW50TW9kZWwsIGxhc3RQb2ludDogUG9pbnRNb2RlbCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIGBNJHtmaXJzdFBvaW50Lnh9LCR7Zmlyc3RQb2ludC55fSBMICR7bGFzdFBvaW50Lnh9LCR7bGFzdFBvaW50Lnl9YDtcblx0fVxuXG5cdGdlbmVyYXRlQ3VydmVQYXRoKFxuXHRcdGZpcnN0UG9pbnQ6IFBvaW50TW9kZWwsXG5cdFx0bGFzdFBvaW50OiBQb2ludE1vZGVsLFxuXHRcdGZpcnN0UG9pbnREZWx0YTogbnVtYmVyID0gMCxcblx0XHRsYXN0UG9pbnREZWx0YTogbnVtYmVyID0gMFxuXHQpOiBzdHJpbmcge1xuXHRcdHJldHVybiBgTSR7Zmlyc3RQb2ludC54fSwke2ZpcnN0UG9pbnQueX0gQyAke2ZpcnN0UG9pbnQueCArIGZpcnN0UG9pbnREZWx0YX0sJHtmaXJzdFBvaW50Lnl9ICR7bGFzdFBvaW50LnggK1xuXHRcdFx0bGFzdFBvaW50RGVsdGF9LCR7bGFzdFBvaW50Lnl9ICR7bGFzdFBvaW50Lnh9LCR7bGFzdFBvaW50Lnl9YDtcblx0fVxuXG5cdHJlbmRlcigpIHtcblx0XHQvL2Vuc3VyZSBpZCBpcyBwcmVzZW50IGZvciBhbGwgcG9pbnRzIG9uIHRoZSBwYXRoXG5cdFx0dmFyIHBvaW50cyA9IHRoaXMucHJvcHMubGluay5wb2ludHM7XG5cdFx0dmFyIHBhdGhzID0gW107XG5cdFx0bGV0IG1vZGVsID0gdGhpcy5wcm9wcy5kaWFncmFtRW5naW5lLmdldERpYWdyYW1Nb2RlbCgpO1xuXG5cdFx0Ly9kcmF3IHRoZSBzbW9vdGhpbmdcblx0XHRpZiAocG9pbnRzLmxlbmd0aCA9PT0gMikge1xuXHRcdFx0Ly9pZiB0aGUgcG9pbnRzIGFyZSB0b28gY2xvc2UsIGp1c3QgZHJhdyBhIHN0cmFpZ2h0IGxpbmVcblx0XHRcdHZhciBtYXJnaW4gPSA1MDtcblx0XHRcdGlmIChNYXRoLmFicyhwb2ludHNbMF0ueCAtIHBvaW50c1sxXS54KSA8IDUwKSB7XG5cdFx0XHRcdG1hcmdpbiA9IDU7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBwb2ludExlZnQgPSBwb2ludHNbMF07XG5cdFx0XHR2YXIgcG9pbnRSaWdodCA9IHBvaW50c1sxXTtcblxuXHRcdFx0Ly9zb21lIGRlZmVuc2l2ZSBwcm9ncmFtbWluZyB0byBtYWtlIHN1cmUgdGhlIHNtb290aGluZyBpc1xuXHRcdFx0Ly9hbHdheXMgaW4gdGhlIHJpZ2h0IGRpcmVjdGlvblxuXHRcdFx0aWYgKHBvaW50TGVmdC54ID4gcG9pbnRSaWdodC54KSB7XG5cdFx0XHRcdHBvaW50TGVmdCA9IHBvaW50c1sxXTtcblx0XHRcdFx0cG9pbnRSaWdodCA9IHBvaW50c1swXTtcblx0XHRcdH1cblxuXHRcdFx0cGF0aHMucHVzaChcblx0XHRcdFx0dGhpcy5nZW5lcmF0ZUxpbmsoXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0b25Nb3VzZURvd246IGV2ZW50ID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKCFldmVudC5zaGlmdEtleSAmJiAhdGhpcy5wcm9wcy5kaWFncmFtRW5naW5lLmlzTW9kZWxMb2NrZWQodGhpcy5wcm9wcy5saW5rKSkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBwb2ludCA9IG5ldyBQb2ludE1vZGVsKHRoaXMucHJvcHMubGluaywgdGhpcy5wcm9wcy5kaWFncmFtRW5naW5lLmdldFJlbGF0aXZlTW91c2VQb2ludChldmVudCkpO1xuXHRcdFx0XHRcdFx0XHRcdHBvaW50LnNldFNlbGVjdGVkKHRydWUpO1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuZm9yY2VVcGRhdGUoKTtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnByb3BzLmxpbmsuYWRkUG9pbnQocG9pbnQsIDEpO1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMucHJvcHMucG9pbnRBZGRlZChwb2ludCwgZXZlbnQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0ZDogdGhpcy5nZW5lcmF0ZUN1cnZlUGF0aChwb2ludExlZnQsIHBvaW50UmlnaHQsIG1hcmdpbiwgLW1hcmdpbilcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFwiMFwiXG5cdFx0XHRcdClcblx0XHRcdCk7XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5saW5rLnRhcmdldFBvcnQgPT09IG51bGwpIHtcblx0XHRcdFx0cGF0aHMucHVzaCh0aGlzLmdlbmVyYXRlUG9pbnQoMSkpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvL2RyYXcgdGhlIG11bHRpcGxlIGFuY2hvcnMgYW5kIGNvbXBsZXggbGluZSBpbnN0ZWFkXG5cdFx0XHR2YXIgZHMgPSBbXTtcblx0XHRcdGlmICh0aGlzLnByb3BzLnNtb290aCkge1xuXHRcdFx0XHRkcy5wdXNoKHRoaXMuZ2VuZXJhdGVDdXJ2ZVBhdGgocG9pbnRzWzBdLCBwb2ludHNbMV0sIDUwLCAwKSk7XG5cdFx0XHRcdGZvciAodmFyIGkgPSAxOyBpIDwgcG9pbnRzLmxlbmd0aCAtIDI7IGkrKykge1xuXHRcdFx0XHRcdGRzLnB1c2godGhpcy5nZW5lcmF0ZUxpbmVQYXRoKHBvaW50c1tpXSwgcG9pbnRzW2kgKyAxXSkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGRzLnB1c2godGhpcy5nZW5lcmF0ZUN1cnZlUGF0aChwb2ludHNbaV0sIHBvaW50c1tpICsgMV0sIDAsIC01MCkpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIGRzID0gW107XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aCAtIDE7IGkrKykge1xuXHRcdFx0XHRcdGRzLnB1c2godGhpcy5nZW5lcmF0ZUxpbmVQYXRoKHBvaW50c1tpXSwgcG9pbnRzW2kgKyAxXSkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHBhdGhzID0gZHMubWFwKChkYXRhLCBpbmRleCkgPT4ge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5nZW5lcmF0ZUxpbmsoXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XCJkYXRhLWxpbmtpZFwiOiB0aGlzLnByb3BzLmxpbmsuaWQsXG5cdFx0XHRcdFx0XHRcImRhdGEtcG9pbnRcIjogaW5kZXgsXG5cdFx0XHRcdFx0XHRvbk1vdXNlRG93bjogKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmICghZXZlbnQuc2hpZnRLZXkgJiYgIXRoaXMucHJvcHMuZGlhZ3JhbUVuZ2luZS5pc01vZGVsTG9ja2VkKHRoaXMucHJvcHMubGluaykpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgcG9pbnQgPSBuZXcgUG9pbnRNb2RlbCh0aGlzLnByb3BzLmxpbmssIHRoaXMucHJvcHMuZGlhZ3JhbUVuZ2luZS5nZXRSZWxhdGl2ZU1vdXNlUG9pbnQoZXZlbnQpKTtcblx0XHRcdFx0XHRcdFx0XHRwb2ludC5zZXRTZWxlY3RlZCh0cnVlKTtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmZvcmNlVXBkYXRlKCk7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5wcm9wcy5saW5rLmFkZFBvaW50KHBvaW50LCBpbmRleCArIDEpO1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMucHJvcHMucG9pbnRBZGRlZChwb2ludCwgZXZlbnQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0ZDogZGF0YVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0aW5kZXhcblx0XHRcdFx0KTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvL3JlbmRlciB0aGUgY2lyY2xlc1xuXHRcdFx0Zm9yICh2YXIgaSA9IDE7IGkgPCBwb2ludHMubGVuZ3RoIC0gMTsgaSsrKSB7XG5cdFx0XHRcdHBhdGhzLnB1c2godGhpcy5nZW5lcmF0ZVBvaW50KGkpKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRoaXMucHJvcHMubGluay50YXJnZXRQb3J0ID09PSBudWxsKSB7XG5cdFx0XHRcdHBhdGhzLnB1c2godGhpcy5nZW5lcmF0ZVBvaW50KHBvaW50cy5sZW5ndGggLSAxKSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIDxnPntwYXRoc308L2c+O1xuXHR9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2RlZmF1bHRzL0RlZmF1bHRMaW5rV2lkZ2V0LnRzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBaUJBOztBQUVBO0FBQ0E7QUFBQTtBQVVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7O0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFNQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBV0E7QUFFQTtBQUFBO0FBQ0E7QUFTQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFqTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTJMQTtBQUFBO0FBbk1BOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7\n");

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(0);\r\nvar _ = __webpack_require__(1);\r\nvar DefaultPortLabelWidget_1 = __webpack_require__(9);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar DefaultNodeWidget = /** @class */ (function (_super) {\r\n    __extends(DefaultNodeWidget, _super);\r\n    function DefaultNodeWidget(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.state = {};\r\n        return _this;\r\n    }\r\n    DefaultNodeWidget.prototype.generatePort = function (port) {\r\n        return React.createElement(DefaultPortLabelWidget_1.DefaultPortLabel, { model: port, key: port.id });\r\n    };\r\n    DefaultNodeWidget.prototype.render = function () {\r\n        return (React.createElement(\"div\", { className: \"basic-node\", style: { background: this.props.node.color } },\r\n            React.createElement(\"div\", { className: \"title\" },\r\n                React.createElement(\"div\", { className: \"name\" }, this.props.node.name)),\r\n            React.createElement(\"div\", { className: \"ports\" },\r\n                React.createElement(\"div\", { className: \"in\" }, _.map(this.props.node.getInPorts(), this.generatePort.bind(this))),\r\n                React.createElement(\"div\", { className: \"out\" }, _.map(this.props.node.getOutPorts(), this.generatePort.bind(this))))));\r\n    };\r\n    return DefaultNodeWidget;\r\n}(React.Component));\r\nexports.DefaultNodeWidget = DefaultNodeWidget;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvZGVmYXVsdHMvRGVmYXVsdE5vZGVXaWRnZXQudHN4PzMzYTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCB7IERlZmF1bHROb2RlTW9kZWwgfSBmcm9tIFwiLi9EZWZhdWx0Tm9kZU1vZGVsXCI7XG5pbXBvcnQgeyBEZWZhdWx0UG9ydExhYmVsIH0gZnJvbSBcIi4vRGVmYXVsdFBvcnRMYWJlbFdpZGdldFwiO1xuaW1wb3J0IHsgRGlhZ3JhbUVuZ2luZSB9IGZyb20gXCIuLi9EaWFncmFtRW5naW5lXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVmYXVsdE5vZGVQcm9wcyB7XG5cdG5vZGU6IERlZmF1bHROb2RlTW9kZWw7XG5cdGRpYWdyYW1FbmdpbmU6IERpYWdyYW1FbmdpbmU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVmYXVsdE5vZGVTdGF0ZSB7fVxuXG4vKipcbiAqIEBhdXRob3IgRHlsYW4gVm9yc3RlclxuICovXG5leHBvcnQgY2xhc3MgRGVmYXVsdE5vZGVXaWRnZXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8RGVmYXVsdE5vZGVQcm9wcywgRGVmYXVsdE5vZGVTdGF0ZT4ge1xuXHRjb25zdHJ1Y3Rvcihwcm9wczogRGVmYXVsdE5vZGVQcm9wcykge1xuXHRcdHN1cGVyKHByb3BzKTtcblx0XHR0aGlzLnN0YXRlID0ge307XG5cdH1cblxuXHRnZW5lcmF0ZVBvcnQocG9ydCkge1xuXHRcdHJldHVybiA8RGVmYXVsdFBvcnRMYWJlbCBtb2RlbD17cG9ydH0ga2V5PXtwb3J0LmlkfSAvPjtcblx0fVxuXG5cdHJlbmRlcigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PGRpdiBjbGFzc05hbWU9XCJiYXNpYy1ub2RlXCIgc3R5bGU9e3sgYmFja2dyb3VuZDogdGhpcy5wcm9wcy5ub2RlLmNvbG9yIH19PlxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cInRpdGxlXCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJuYW1lXCI+e3RoaXMucHJvcHMubm9kZS5uYW1lfTwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJwb3J0c1wiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiaW5cIj57Xy5tYXAodGhpcy5wcm9wcy5ub2RlLmdldEluUG9ydHMoKSwgdGhpcy5nZW5lcmF0ZVBvcnQuYmluZCh0aGlzKSl9PC9kaXY+XG5cdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJvdXRcIj57Xy5tYXAodGhpcy5wcm9wcy5ub2RlLmdldE91dFBvcnRzKCksIHRoaXMuZ2VuZXJhdGVQb3J0LmJpbmQodGhpcykpfTwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdDwvZGl2PlxuXHRcdCk7XG5cdH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvZGVmYXVsdHMvRGVmYXVsdE5vZGVXaWRnZXQudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFVQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFBQTtBQXZCQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8\n");

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(0);\r\nvar PortWidget_1 = __webpack_require__(10);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar DefaultPortLabel = /** @class */ (function (_super) {\r\n    __extends(DefaultPortLabel, _super);\r\n    function DefaultPortLabel() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DefaultPortLabel.prototype.render = function () {\r\n        var port = React.createElement(PortWidget_1.PortWidget, { node: this.props.model.getParent(), name: this.props.model.name });\r\n        var label = React.createElement(\"div\", { className: \"name\" }, this.props.model.label);\r\n        return (React.createElement(\"div\", { className: (this.props.model.in ? \"in\" : \"out\") + \"-port\" },\r\n            this.props.model.in ? port : label,\r\n            this.props.model.in ? label : port));\r\n    };\r\n    DefaultPortLabel.defaultProps = {\r\n        in: true,\r\n        label: \"port\"\r\n    };\r\n    return DefaultPortLabel;\r\n}(React.Component));\r\nexports.DefaultPortLabel = DefaultPortLabel;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvZGVmYXVsdHMvRGVmYXVsdFBvcnRMYWJlbFdpZGdldC50c3g/YjA2YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IERlZmF1bHRQb3J0TW9kZWwgfSBmcm9tIFwiLi9EZWZhdWx0UG9ydE1vZGVsXCI7XG5pbXBvcnQgeyBQb3J0V2lkZ2V0IH0gZnJvbSBcIi4uL3dpZGdldHMvUG9ydFdpZGdldFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIERlZmF1bHRQb3J0TGFiZWxQcm9wcyB7XG5cdG1vZGVsPzogRGVmYXVsdFBvcnRNb2RlbDtcblx0aW4/OiBib29sZWFuO1xuXHRsYWJlbD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEZWZhdWx0UG9ydExhYmVsU3RhdGUge31cblxuLyoqXG4gKiBAYXV0aG9yIER5bGFuIFZvcnN0ZXJcbiAqL1xuZXhwb3J0IGNsYXNzIERlZmF1bHRQb3J0TGFiZWwgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8RGVmYXVsdFBvcnRMYWJlbFByb3BzLCBEZWZhdWx0UG9ydExhYmVsU3RhdGU+IHtcblx0cHVibGljIHN0YXRpYyBkZWZhdWx0UHJvcHM6IERlZmF1bHRQb3J0TGFiZWxQcm9wcyA9IHtcblx0XHRpbjogdHJ1ZSxcblx0XHRsYWJlbDogXCJwb3J0XCJcblx0fTtcblxuXHRyZW5kZXIoKSB7XG5cdFx0dmFyIHBvcnQgPSA8UG9ydFdpZGdldCBub2RlPXt0aGlzLnByb3BzLm1vZGVsLmdldFBhcmVudCgpfSBuYW1lPXt0aGlzLnByb3BzLm1vZGVsLm5hbWV9IC8+O1xuXHRcdHZhciBsYWJlbCA9IDxkaXYgY2xhc3NOYW1lPVwibmFtZVwiPnt0aGlzLnByb3BzLm1vZGVsLmxhYmVsfTwvZGl2PjtcblxuXHRcdHJldHVybiAoXG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT17KHRoaXMucHJvcHMubW9kZWwuaW4gPyBcImluXCIgOiBcIm91dFwiKSArIFwiLXBvcnRcIn0+XG5cdFx0XHRcdHt0aGlzLnByb3BzLm1vZGVsLmluID8gcG9ydCA6IGxhYmVsfVxuXHRcdFx0XHR7dGhpcy5wcm9wcy5tb2RlbC5pbiA/IGxhYmVsIDogcG9ydH1cblx0XHRcdDwvZGl2PlxuXHRcdCk7XG5cdH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvZGVmYXVsdHMvRGVmYXVsdFBvcnRMYWJlbFdpZGdldC50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFVQTs7QUFFQTtBQUNBO0FBQUE7QUFBQTs7QUFpQkE7QUFYQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFHQTtBQWZBO0FBQ0E7QUFDQTtBQUNBO0FBYUE7QUFBQTtBQWpCQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9\n");

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(0);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar PortWidget = /** @class */ (function (_super) {\r\n    __extends(PortWidget, _super);\r\n    function PortWidget(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.state = {\r\n            selected: false\r\n        };\r\n        return _this;\r\n    }\r\n    PortWidget.prototype.render = function () {\r\n        var _this = this;\r\n        return (React.createElement(\"div\", { onMouseEnter: function () {\r\n                _this.setState({ selected: true });\r\n            }, onMouseLeave: function () {\r\n                _this.setState({ selected: false });\r\n            }, className: \"port\" + (this.state.selected ? \" selected\" : \"\"), \"data-name\": this.props.name, \"data-nodeid\": this.props.node.getID() }));\r\n    };\r\n    return PortWidget;\r\n}(React.Component));\r\nexports.PortWidget = PortWidget;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3dpZGdldHMvUG9ydFdpZGdldC50c3g/NTM1YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IE5vZGVNb2RlbCB9IGZyb20gXCIuLi9Db21tb25cIjtcblxuZXhwb3J0IGludGVyZmFjZSBQb3J0UHJvcHMge1xuXHRuYW1lOiBzdHJpbmc7XG5cdG5vZGU6IE5vZGVNb2RlbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQb3J0U3RhdGUge1xuXHRzZWxlY3RlZDogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBAYXV0aG9yIER5bGFuIFZvcnN0ZXJcbiAqL1xuZXhwb3J0IGNsYXNzIFBvcnRXaWRnZXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UG9ydFByb3BzLCBQb3J0U3RhdGU+IHtcblx0Y29uc3RydWN0b3IocHJvcHM6IFBvcnRQcm9wcykge1xuXHRcdHN1cGVyKHByb3BzKTtcblx0XHR0aGlzLnN0YXRlID0ge1xuXHRcdFx0c2VsZWN0ZWQ6IGZhbHNlXG5cdFx0fTtcblx0fVxuXG5cdHJlbmRlcigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PGRpdlxuXHRcdFx0XHRvbk1vdXNlRW50ZXI9eygpID0+IHtcblx0XHRcdFx0XHR0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWQ6IHRydWUgfSk7XG5cdFx0XHRcdH19XG5cdFx0XHRcdG9uTW91c2VMZWF2ZT17KCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZDogZmFsc2UgfSk7XG5cdFx0XHRcdH19XG5cdFx0XHRcdGNsYXNzTmFtZT17XCJwb3J0XCIgKyAodGhpcy5zdGF0ZS5zZWxlY3RlZCA/IFwiIHNlbGVjdGVkXCIgOiBcIlwiKX1cblx0XHRcdFx0ZGF0YS1uYW1lPXt0aGlzLnByb3BzLm5hbWV9XG5cdFx0XHRcdGRhdGEtbm9kZWlkPXt0aGlzLnByb3BzLm5vZGUuZ2V0SUQoKX1cblx0XHRcdC8+XG5cdFx0KTtcblx0fVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy93aWRnZXRzL1BvcnRXaWRnZXQudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQVlBOztBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7O0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBQ0E7QUFBQTtBQXZCQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///10\n");

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Common_1 = __webpack_require__(2);\r\nvar BaseEntity_1 = __webpack_require__(3);\r\nvar _ = __webpack_require__(1);\r\n/**\r\n *\r\n */\r\nvar DiagramModel = /** @class */ (function (_super) {\r\n    __extends(DiagramModel, _super);\r\n    function DiagramModel() {\r\n        var _this = _super.call(this) || this;\r\n        _this.links = {};\r\n        _this.nodes = {};\r\n        _this.offsetX = 0;\r\n        _this.offsetY = 0;\r\n        _this.zoom = 100;\r\n        _this.rendered = false;\r\n        _this.gridSize = 0;\r\n        return _this;\r\n    }\r\n    DiagramModel.prototype.setGridSize = function (size) {\r\n        var _this = this;\r\n        if (size === void 0) { size = 0; }\r\n        this.gridSize = size;\r\n        this.iterateListeners(function (listener) {\r\n            listener.gridUpdated && listener.gridUpdated(_this, size);\r\n        });\r\n    };\r\n    DiagramModel.prototype.getGridPosition = function (pos) {\r\n        if (this.gridSize === 0) {\r\n            return pos;\r\n        }\r\n        return this.gridSize * Math.floor((pos + this.gridSize / 2) / this.gridSize);\r\n    };\r\n    DiagramModel.prototype.deSerializeDiagram = function (object, diagramEngine) {\r\n        var _this = this;\r\n        this.deSerialize(object);\r\n        this.offsetX = object.offsetX;\r\n        this.offsetY = object.offsetY;\r\n        this.zoom = object.zoom;\r\n        //deserialize nodes\r\n        _.forEach(object.nodes, function (node) {\r\n            var nodeOb = diagramEngine.getInstanceFactory(node._class).getInstance(node);\r\n            nodeOb.deSerialize(node);\r\n            //deserialize ports\r\n            _.forEach(node.ports, function (port) {\r\n                var portOb = diagramEngine.getInstanceFactory(port._class).getInstance();\r\n                portOb.deSerialize(port);\r\n                nodeOb.addPort(portOb);\r\n            });\r\n            _this.addNode(nodeOb);\r\n        });\r\n        _.forEach(object.links, function (link) {\r\n            var linkOb = diagramEngine.getInstanceFactory(link._class).getInstance();\r\n            linkOb.deSerialize(link);\r\n            if (link.target) {\r\n                linkOb.setTargetPort(_this.getNode(link.target).getPortFromID(link.targetPort));\r\n            }\r\n            if (link.source) {\r\n                linkOb.setSourcePort(_this.getNode(link.source).getPortFromID(link.sourcePort));\r\n            }\r\n            _this.addLink(linkOb);\r\n        });\r\n    };\r\n    DiagramModel.prototype.serializeDiagram = function () {\r\n        return _.merge(this.serialize(), {\r\n            offsetX: this.offsetX,\r\n            offsetY: this.offsetY,\r\n            zoom: this.zoom,\r\n            links: _.map(this.links, function (link) {\r\n                return link.serialize();\r\n            }),\r\n            nodes: _.map(this.nodes, function (link) {\r\n                return link.serialize();\r\n            })\r\n        });\r\n    };\r\n    DiagramModel.prototype.clearSelection = function (ignore) {\r\n        if (ignore === void 0) { ignore = null; }\r\n        _.forEach(this.getSelectedItems(), function (element) {\r\n            if (ignore && ignore.getID() === element.getID()) {\r\n                return;\r\n            }\r\n            element.setSelected(false); //TODO dont fire the listener\r\n        });\r\n    };\r\n    DiagramModel.prototype.getSelectedItems = function () {\r\n        var items = [];\r\n        // run through nodes\r\n        items = items.concat(_.flatMap(this.nodes, function (node) {\r\n            return node.getSelectedEntities();\r\n        }));\r\n        // find all the links\r\n        items = items.concat(_.flatMap(this.links, function (link) {\r\n            return link.getSelectedEntities();\r\n        }));\r\n        //find all points\r\n        items = items.concat(_.flatMap(this.links, function (link) {\r\n            return _.flatMap(link.points, function (point) {\r\n                return point.getSelectedEntities();\r\n            });\r\n        }));\r\n        return _.uniq(items);\r\n    };\r\n    DiagramModel.prototype.setZoomLevel = function (zoom) {\r\n        var _this = this;\r\n        this.zoom = zoom;\r\n        this.iterateListeners(function (listener) {\r\n            if (listener.controlsUpdated)\r\n                listener.controlsUpdated();\r\n        });\r\n        this.iterateListeners(function (listener) {\r\n            listener.zoomUpdated && listener.zoomUpdated(_this, _this.zoom);\r\n        });\r\n    };\r\n    DiagramModel.prototype.setOffset = function (offsetX, offsetY) {\r\n        var _this = this;\r\n        this.offsetX = offsetX;\r\n        this.offsetY = offsetY;\r\n        this.iterateListeners(function (listener) {\r\n            if (listener.controlsUpdated)\r\n                listener.controlsUpdated();\r\n        });\r\n        this.iterateListeners(function (listener) {\r\n            listener.offsetUpdated && listener.offsetUpdated(_this, _this.offsetX, _this.offsetY);\r\n        });\r\n    };\r\n    DiagramModel.prototype.setOffsetX = function (offsetX) {\r\n        var _this = this;\r\n        this.offsetX = offsetX;\r\n        this.iterateListeners(function (listener) {\r\n            if (listener.controlsUpdated)\r\n                listener.controlsUpdated();\r\n        });\r\n        this.iterateListeners(function (listener) {\r\n            listener.offsetUpdated && listener.offsetUpdated(_this, _this.offsetX, _this.offsetY);\r\n        });\r\n    };\r\n    DiagramModel.prototype.setOffsetY = function (offsetY) {\r\n        var _this = this;\r\n        this.offsetY = offsetY;\r\n        this.iterateListeners(function (listener) {\r\n            if (listener.controlsUpdated)\r\n                listener.controlsUpdated();\r\n        });\r\n        this.iterateListeners(function (listener) {\r\n            listener.offsetUpdated && listener.offsetUpdated(_this, _this.offsetX, _this.offsetY);\r\n        });\r\n    };\r\n    DiagramModel.prototype.getOffsetY = function () {\r\n        return this.offsetY;\r\n    };\r\n    DiagramModel.prototype.getOffsetX = function () {\r\n        return this.offsetX;\r\n    };\r\n    DiagramModel.prototype.getZoomLevel = function () {\r\n        return this.zoom;\r\n    };\r\n    DiagramModel.prototype.getNode = function (node) {\r\n        if (node instanceof Common_1.NodeModel) {\r\n            return node;\r\n        }\r\n        if (!this.nodes[node]) {\r\n            return null;\r\n        }\r\n        return this.nodes[node];\r\n    };\r\n    DiagramModel.prototype.getLink = function (link) {\r\n        if (link instanceof Common_1.LinkModel) {\r\n            return link;\r\n        }\r\n        if (!this.links[link]) {\r\n            return null;\r\n        }\r\n        return this.links[link];\r\n    };\r\n    DiagramModel.prototype.addLink = function (link) {\r\n        var _this = this;\r\n        link.addListener({\r\n            entityRemoved: function () {\r\n                _this.removeLink(link);\r\n            }\r\n        });\r\n        this.links[link.getID()] = link;\r\n        this.iterateListeners(function (listener) {\r\n            if (listener.linksUpdated)\r\n                listener.linksUpdated(link, true);\r\n        });\r\n        return link;\r\n    };\r\n    DiagramModel.prototype.addNode = function (node) {\r\n        var _this = this;\r\n        node.addListener({\r\n            entityRemoved: function () {\r\n                _this.removeNode(node);\r\n            }\r\n        });\r\n        this.nodes[node.getID()] = node;\r\n        this.iterateListeners(function (listener) {\r\n            if (listener.nodesUpdated)\r\n                listener.nodesUpdated(node, true);\r\n        });\r\n        return node;\r\n    };\r\n    DiagramModel.prototype.removeLink = function (link) {\r\n        if (link instanceof Common_1.LinkModel) {\r\n            delete this.links[link.getID()];\r\n            this.iterateListeners(function (listener) {\r\n                if (listener.linksUpdated)\r\n                    listener.linksUpdated(link, false);\r\n            });\r\n            return;\r\n        }\r\n        delete this.links[\"\" + link];\r\n        this.iterateListeners(function (listener) {\r\n            if (listener.linksUpdated)\r\n                listener.linksUpdated(link, false);\r\n        });\r\n    };\r\n    DiagramModel.prototype.removeNode = function (node) {\r\n        if (node instanceof Common_1.NodeModel) {\r\n            delete this.nodes[node.getID()];\r\n            this.iterateListeners(function (listener) {\r\n                if (listener.nodesUpdated)\r\n                    listener.nodesUpdated(node, false);\r\n            });\r\n            return;\r\n        }\r\n        delete this.nodes[\"\" + node];\r\n        this.iterateListeners(function (listener) {\r\n            if (listener.nodesUpdated)\r\n                listener.nodesUpdated(node, false);\r\n        });\r\n    };\r\n    DiagramModel.prototype.getLinks = function () {\r\n        return this.links;\r\n    };\r\n    DiagramModel.prototype.getNodes = function () {\r\n        return this.nodes;\r\n    };\r\n    return DiagramModel;\r\n}(BaseEntity_1.BaseEntity));\r\nexports.DiagramModel = DiagramModel;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0RpYWdyYW1Nb2RlbC50cz9hNjBhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExpbmtNb2RlbCwgTm9kZU1vZGVsLCBCYXNlTW9kZWwsIEJhc2VNb2RlbExpc3RlbmVyLCBQb3J0TW9kZWwgfSBmcm9tIFwiLi9Db21tb25cIjtcbmltcG9ydCB7IEJhc2VMaXN0ZW5lciwgQmFzZUVudGl0eSB9IGZyb20gXCIuL0Jhc2VFbnRpdHlcIjtcbmltcG9ydCAqIGFzIF8gZnJvbSBcImxvZGFzaFwiO1xuaW1wb3J0IHsgRGlhZ3JhbUVuZ2luZSB9IGZyb20gXCIuL0RpYWdyYW1FbmdpbmVcIjtcbi8qKlxuICogQGF1dGhvciBEeWxhbiBWb3JzdGVyXG4gKlxuICovXG5leHBvcnQgaW50ZXJmYWNlIERpYWdyYW1MaXN0ZW5lciBleHRlbmRzIEJhc2VMaXN0ZW5lciB7XG5cdG5vZGVzVXBkYXRlZD8obm9kZTogYW55LCBpc0NyZWF0ZWQ6IGJvb2xlYW4pOiB2b2lkO1xuXG5cdGxpbmtzVXBkYXRlZD8obGluazogYW55LCBpc0NyZWF0ZWQ6IGJvb2xlYW4pOiB2b2lkO1xuXG5cdC8qKlxuXHQgKiBAZGVwcmVjYXRlZFxuXHQgKi9cblx0Y29udHJvbHNVcGRhdGVkPygpOiB2b2lkO1xuXG5cdG9mZnNldFVwZGF0ZWQ/KG1vZGVsOiBEaWFncmFtTW9kZWwsIG9mZnNldFg6IG51bWJlciwgb2Zmc2V0WTogbnVtYmVyKTogdm9pZDtcblxuXHR6b29tVXBkYXRlZD8obW9kZWw6IERpYWdyYW1Nb2RlbCwgem9vbTogbnVtYmVyKTogdm9pZDtcblxuXHRncmlkVXBkYXRlZD8obW9kZWw6IERpYWdyYW1Nb2RlbCwgc2l6ZTogbnVtYmVyKTogdm9pZDtcbn1cbi8qKlxuICpcbiAqL1xuZXhwb3J0IGNsYXNzIERpYWdyYW1Nb2RlbCBleHRlbmRzIEJhc2VFbnRpdHk8RGlhZ3JhbUxpc3RlbmVyPiB7XG5cdC8vbW9kZWxzXG5cdGxpbmtzOiB7IFtzOiBzdHJpbmddOiBMaW5rTW9kZWwgfTtcblx0bm9kZXM6IHsgW3M6IHN0cmluZ106IE5vZGVNb2RlbCB9O1xuXG5cdC8vY29udHJvbCB2YXJpYWJsZXNcblx0b2Zmc2V0WDogbnVtYmVyO1xuXHRvZmZzZXRZOiBudW1iZXI7XG5cdHpvb206IG51bWJlcjtcblx0cmVuZGVyZWQ6IGJvb2xlYW47XG5cdGdyaWRTaXplOiBudW1iZXI7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0c3VwZXIoKTtcblxuXHRcdHRoaXMubGlua3MgPSB7fTtcblx0XHR0aGlzLm5vZGVzID0ge307XG5cblx0XHR0aGlzLm9mZnNldFggPSAwO1xuXHRcdHRoaXMub2Zmc2V0WSA9IDA7XG5cdFx0dGhpcy56b29tID0gMTAwO1xuXHRcdHRoaXMucmVuZGVyZWQgPSBmYWxzZTtcblx0XHR0aGlzLmdyaWRTaXplID0gMDtcblx0fVxuXG5cdHNldEdyaWRTaXplKHNpemU6IG51bWJlciA9IDApIHtcblx0XHR0aGlzLmdyaWRTaXplID0gc2l6ZTtcblx0XHR0aGlzLml0ZXJhdGVMaXN0ZW5lcnMobGlzdGVuZXIgPT4ge1xuXHRcdFx0bGlzdGVuZXIuZ3JpZFVwZGF0ZWQgJiYgbGlzdGVuZXIuZ3JpZFVwZGF0ZWQodGhpcywgc2l6ZSk7XG5cdFx0fSk7XG5cdH1cblxuXHRnZXRHcmlkUG9zaXRpb24ocG9zKSB7XG5cdFx0aWYgKHRoaXMuZ3JpZFNpemUgPT09IDApIHtcblx0XHRcdHJldHVybiBwb3M7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmdyaWRTaXplICogTWF0aC5mbG9vcigocG9zICsgdGhpcy5ncmlkU2l6ZSAvIDIpIC8gdGhpcy5ncmlkU2l6ZSk7XG5cdH1cblxuXHRkZVNlcmlhbGl6ZURpYWdyYW0ob2JqZWN0OiBhbnksIGRpYWdyYW1FbmdpbmU6IERpYWdyYW1FbmdpbmUpIHtcblx0XHR0aGlzLmRlU2VyaWFsaXplKG9iamVjdCk7XG5cblx0XHR0aGlzLm9mZnNldFggPSBvYmplY3Qub2Zmc2V0WDtcblx0XHR0aGlzLm9mZnNldFkgPSBvYmplY3Qub2Zmc2V0WTtcblx0XHR0aGlzLnpvb20gPSBvYmplY3Quem9vbTtcblxuXHRcdC8vZGVzZXJpYWxpemUgbm9kZXNcblx0XHRfLmZvckVhY2gob2JqZWN0Lm5vZGVzLCAobm9kZTogYW55KSA9PiB7XG5cdFx0XHRsZXQgbm9kZU9iID0gZGlhZ3JhbUVuZ2luZS5nZXRJbnN0YW5jZUZhY3Rvcnkobm9kZS5fY2xhc3MpLmdldEluc3RhbmNlKG5vZGUpIGFzIE5vZGVNb2RlbDtcblx0XHRcdG5vZGVPYi5kZVNlcmlhbGl6ZShub2RlKTtcblx0XHRcdC8vZGVzZXJpYWxpemUgcG9ydHNcblx0XHRcdF8uZm9yRWFjaChub2RlLnBvcnRzLCAocG9ydDogYW55KSA9PiB7XG5cdFx0XHRcdGxldCBwb3J0T2IgPSBkaWFncmFtRW5naW5lLmdldEluc3RhbmNlRmFjdG9yeShwb3J0Ll9jbGFzcykuZ2V0SW5zdGFuY2UoKSBhcyBQb3J0TW9kZWw7XG5cdFx0XHRcdHBvcnRPYi5kZVNlcmlhbGl6ZShwb3J0KTtcblx0XHRcdFx0bm9kZU9iLmFkZFBvcnQocG9ydE9iKTtcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLmFkZE5vZGUobm9kZU9iKTtcblx0XHR9KTtcblxuXHRcdF8uZm9yRWFjaChvYmplY3QubGlua3MsIChsaW5rOiBhbnkpID0+IHtcblx0XHRcdGxldCBsaW5rT2IgPSBkaWFncmFtRW5naW5lLmdldEluc3RhbmNlRmFjdG9yeShsaW5rLl9jbGFzcykuZ2V0SW5zdGFuY2UoKSBhcyBMaW5rTW9kZWw7XG5cdFx0XHRsaW5rT2IuZGVTZXJpYWxpemUobGluayk7XG5cblx0XHRcdGlmIChsaW5rLnRhcmdldCkge1xuXHRcdFx0XHRsaW5rT2Iuc2V0VGFyZ2V0UG9ydCh0aGlzLmdldE5vZGUobGluay50YXJnZXQpLmdldFBvcnRGcm9tSUQobGluay50YXJnZXRQb3J0KSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChsaW5rLnNvdXJjZSkge1xuXHRcdFx0XHRsaW5rT2Iuc2V0U291cmNlUG9ydCh0aGlzLmdldE5vZGUobGluay5zb3VyY2UpLmdldFBvcnRGcm9tSUQobGluay5zb3VyY2VQb3J0KSk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuYWRkTGluayhsaW5rT2IpO1xuXHRcdH0pO1xuXHR9XG5cblx0c2VyaWFsaXplRGlhZ3JhbSgpIHtcblx0XHRyZXR1cm4gXy5tZXJnZSh0aGlzLnNlcmlhbGl6ZSgpLCB7XG5cdFx0XHRvZmZzZXRYOiB0aGlzLm9mZnNldFgsXG5cdFx0XHRvZmZzZXRZOiB0aGlzLm9mZnNldFksXG5cdFx0XHR6b29tOiB0aGlzLnpvb20sXG5cdFx0XHRsaW5rczogXy5tYXAodGhpcy5saW5rcywgbGluayA9PiB7XG5cdFx0XHRcdHJldHVybiBsaW5rLnNlcmlhbGl6ZSgpO1xuXHRcdFx0fSksXG5cdFx0XHRub2RlczogXy5tYXAodGhpcy5ub2RlcywgbGluayA9PiB7XG5cdFx0XHRcdHJldHVybiBsaW5rLnNlcmlhbGl6ZSgpO1xuXHRcdFx0fSlcblx0XHR9KTtcblx0fVxuXG5cdGNsZWFyU2VsZWN0aW9uKGlnbm9yZTogQmFzZU1vZGVsPEJhc2VNb2RlbExpc3RlbmVyPiB8IG51bGwgPSBudWxsKSB7XG5cdFx0Xy5mb3JFYWNoKHRoaXMuZ2V0U2VsZWN0ZWRJdGVtcygpLCBlbGVtZW50ID0+IHtcblx0XHRcdGlmIChpZ25vcmUgJiYgaWdub3JlLmdldElEKCkgPT09IGVsZW1lbnQuZ2V0SUQoKSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRlbGVtZW50LnNldFNlbGVjdGVkKGZhbHNlKTsgLy9UT0RPIGRvbnQgZmlyZSB0aGUgbGlzdGVuZXJcblx0XHR9KTtcblx0fVxuXG5cdGdldFNlbGVjdGVkSXRlbXMoKTogQmFzZU1vZGVsPEJhc2VNb2RlbExpc3RlbmVyPltdIHtcblx0XHR2YXIgaXRlbXMgPSBbXTtcblxuXHRcdC8vIHJ1biB0aHJvdWdoIG5vZGVzXG5cdFx0aXRlbXMgPSBpdGVtcy5jb25jYXQoXG5cdFx0XHRfLmZsYXRNYXAodGhpcy5ub2Rlcywgbm9kZSA9PiB7XG5cdFx0XHRcdHJldHVybiBub2RlLmdldFNlbGVjdGVkRW50aXRpZXMoKTtcblx0XHRcdH0pXG5cdFx0KTtcblxuXHRcdC8vIGZpbmQgYWxsIHRoZSBsaW5rc1xuXHRcdGl0ZW1zID0gaXRlbXMuY29uY2F0KFxuXHRcdFx0Xy5mbGF0TWFwKHRoaXMubGlua3MsIGxpbmsgPT4ge1xuXHRcdFx0XHRyZXR1cm4gbGluay5nZXRTZWxlY3RlZEVudGl0aWVzKCk7XG5cdFx0XHR9KVxuXHRcdCk7XG5cblx0XHQvL2ZpbmQgYWxsIHBvaW50c1xuXHRcdGl0ZW1zID0gaXRlbXMuY29uY2F0KFxuXHRcdFx0Xy5mbGF0TWFwKHRoaXMubGlua3MsIGxpbmsgPT4ge1xuXHRcdFx0XHRyZXR1cm4gXy5mbGF0TWFwKGxpbmsucG9pbnRzLCBwb2ludCA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIHBvaW50LmdldFNlbGVjdGVkRW50aXRpZXMoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KVxuXHRcdCk7XG5cblx0XHRyZXR1cm4gXy51bmlxKGl0ZW1zKTtcblx0fVxuXG5cdHNldFpvb21MZXZlbCh6b29tOiBudW1iZXIpIHtcblx0XHR0aGlzLnpvb20gPSB6b29tO1xuXHRcdHRoaXMuaXRlcmF0ZUxpc3RlbmVycyhsaXN0ZW5lciA9PiB7XG5cdFx0XHRpZiAobGlzdGVuZXIuY29udHJvbHNVcGRhdGVkKSBsaXN0ZW5lci5jb250cm9sc1VwZGF0ZWQoKTtcblx0XHR9KTtcblx0XHR0aGlzLml0ZXJhdGVMaXN0ZW5lcnMobGlzdGVuZXIgPT4ge1xuXHRcdFx0bGlzdGVuZXIuem9vbVVwZGF0ZWQgJiYgbGlzdGVuZXIuem9vbVVwZGF0ZWQodGhpcywgdGhpcy56b29tKTtcblx0XHR9KTtcblx0fVxuXG5cdHNldE9mZnNldChvZmZzZXRYOiBudW1iZXIsIG9mZnNldFk6IG51bWJlcikge1xuXHRcdHRoaXMub2Zmc2V0WCA9IG9mZnNldFg7XG5cdFx0dGhpcy5vZmZzZXRZID0gb2Zmc2V0WTtcblx0XHR0aGlzLml0ZXJhdGVMaXN0ZW5lcnMobGlzdGVuZXIgPT4ge1xuXHRcdFx0aWYgKGxpc3RlbmVyLmNvbnRyb2xzVXBkYXRlZCkgbGlzdGVuZXIuY29udHJvbHNVcGRhdGVkKCk7XG5cdFx0fSk7XG5cdFx0dGhpcy5pdGVyYXRlTGlzdGVuZXJzKGxpc3RlbmVyID0+IHtcblx0XHRcdGxpc3RlbmVyLm9mZnNldFVwZGF0ZWQgJiYgbGlzdGVuZXIub2Zmc2V0VXBkYXRlZCh0aGlzLCB0aGlzLm9mZnNldFgsIHRoaXMub2Zmc2V0WSk7XG5cdFx0fSk7XG5cdH1cblxuXHRzZXRPZmZzZXRYKG9mZnNldFg6IG51bWJlcikge1xuXHRcdHRoaXMub2Zmc2V0WCA9IG9mZnNldFg7XG5cdFx0dGhpcy5pdGVyYXRlTGlzdGVuZXJzKGxpc3RlbmVyID0+IHtcblx0XHRcdGlmIChsaXN0ZW5lci5jb250cm9sc1VwZGF0ZWQpIGxpc3RlbmVyLmNvbnRyb2xzVXBkYXRlZCgpO1xuXHRcdH0pO1xuXHRcdHRoaXMuaXRlcmF0ZUxpc3RlbmVycyhsaXN0ZW5lciA9PiB7XG5cdFx0XHRsaXN0ZW5lci5vZmZzZXRVcGRhdGVkICYmIGxpc3RlbmVyLm9mZnNldFVwZGF0ZWQodGhpcywgdGhpcy5vZmZzZXRYLCB0aGlzLm9mZnNldFkpO1xuXHRcdH0pO1xuXHR9XG5cdHNldE9mZnNldFkob2Zmc2V0WTogbnVtYmVyKSB7XG5cdFx0dGhpcy5vZmZzZXRZID0gb2Zmc2V0WTtcblx0XHR0aGlzLml0ZXJhdGVMaXN0ZW5lcnMobGlzdGVuZXIgPT4ge1xuXHRcdFx0aWYgKGxpc3RlbmVyLmNvbnRyb2xzVXBkYXRlZCkgbGlzdGVuZXIuY29udHJvbHNVcGRhdGVkKCk7XG5cdFx0fSk7XG5cdFx0dGhpcy5pdGVyYXRlTGlzdGVuZXJzKGxpc3RlbmVyID0+IHtcblx0XHRcdGxpc3RlbmVyLm9mZnNldFVwZGF0ZWQgJiYgbGlzdGVuZXIub2Zmc2V0VXBkYXRlZCh0aGlzLCB0aGlzLm9mZnNldFgsIHRoaXMub2Zmc2V0WSk7XG5cdFx0fSk7XG5cdH1cblxuXHRnZXRPZmZzZXRZKCkge1xuXHRcdHJldHVybiB0aGlzLm9mZnNldFk7XG5cdH1cblxuXHRnZXRPZmZzZXRYKCkge1xuXHRcdHJldHVybiB0aGlzLm9mZnNldFg7XG5cdH1cblxuXHRnZXRab29tTGV2ZWwoKSB7XG5cdFx0cmV0dXJuIHRoaXMuem9vbTtcblx0fVxuXG5cdGdldE5vZGUobm9kZTogc3RyaW5nIHwgTm9kZU1vZGVsKTogTm9kZU1vZGVsIHwgbnVsbCB7XG5cdFx0aWYgKG5vZGUgaW5zdGFuY2VvZiBOb2RlTW9kZWwpIHtcblx0XHRcdHJldHVybiBub2RlO1xuXHRcdH1cblx0XHRpZiAoIXRoaXMubm9kZXNbbm9kZV0pIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5ub2Rlc1tub2RlXTtcblx0fVxuXG5cdGdldExpbmsobGluazogc3RyaW5nIHwgTGlua01vZGVsKTogTGlua01vZGVsIHwgbnVsbCB7XG5cdFx0aWYgKGxpbmsgaW5zdGFuY2VvZiBMaW5rTW9kZWwpIHtcblx0XHRcdHJldHVybiBsaW5rO1xuXHRcdH1cblx0XHRpZiAoIXRoaXMubGlua3NbbGlua10pIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5saW5rc1tsaW5rXTtcblx0fVxuXG5cdGFkZExpbmsobGluazogTGlua01vZGVsKTogTGlua01vZGVsIHtcblx0XHRsaW5rLmFkZExpc3RlbmVyKHtcblx0XHRcdGVudGl0eVJlbW92ZWQ6ICgpID0+IHtcblx0XHRcdFx0dGhpcy5yZW1vdmVMaW5rKGxpbmspO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHRoaXMubGlua3NbbGluay5nZXRJRCgpXSA9IGxpbms7XG5cdFx0dGhpcy5pdGVyYXRlTGlzdGVuZXJzKGxpc3RlbmVyID0+IHtcblx0XHRcdGlmIChsaXN0ZW5lci5saW5rc1VwZGF0ZWQpIGxpc3RlbmVyLmxpbmtzVXBkYXRlZChsaW5rLCB0cnVlKTtcblx0XHR9KTtcblx0XHRyZXR1cm4gbGluaztcblx0fVxuXG5cdGFkZE5vZGUobm9kZTogTm9kZU1vZGVsKTogTm9kZU1vZGVsIHtcblx0XHRub2RlLmFkZExpc3RlbmVyKHtcblx0XHRcdGVudGl0eVJlbW92ZWQ6ICgpID0+IHtcblx0XHRcdFx0dGhpcy5yZW1vdmVOb2RlKG5vZGUpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHRoaXMubm9kZXNbbm9kZS5nZXRJRCgpXSA9IG5vZGU7XG5cdFx0dGhpcy5pdGVyYXRlTGlzdGVuZXJzKGxpc3RlbmVyID0+IHtcblx0XHRcdGlmIChsaXN0ZW5lci5ub2Rlc1VwZGF0ZWQpIGxpc3RlbmVyLm5vZGVzVXBkYXRlZChub2RlLCB0cnVlKTtcblx0XHR9KTtcblx0XHRyZXR1cm4gbm9kZTtcblx0fVxuXG5cdHJlbW92ZUxpbmsobGluazogTGlua01vZGVsIHwgc3RyaW5nKSB7XG5cdFx0aWYgKGxpbmsgaW5zdGFuY2VvZiBMaW5rTW9kZWwpIHtcblx0XHRcdGRlbGV0ZSB0aGlzLmxpbmtzW2xpbmsuZ2V0SUQoKV07XG5cdFx0XHR0aGlzLml0ZXJhdGVMaXN0ZW5lcnMobGlzdGVuZXIgPT4ge1xuXHRcdFx0XHRpZiAobGlzdGVuZXIubGlua3NVcGRhdGVkKSBsaXN0ZW5lci5saW5rc1VwZGF0ZWQobGluaywgZmFsc2UpO1xuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGRlbGV0ZSB0aGlzLmxpbmtzW1wiXCIgKyBsaW5rXTtcblx0XHR0aGlzLml0ZXJhdGVMaXN0ZW5lcnMobGlzdGVuZXIgPT4ge1xuXHRcdFx0aWYgKGxpc3RlbmVyLmxpbmtzVXBkYXRlZCkgbGlzdGVuZXIubGlua3NVcGRhdGVkKGxpbmssIGZhbHNlKTtcblx0XHR9KTtcblx0fVxuXHRyZW1vdmVOb2RlKG5vZGU6IE5vZGVNb2RlbCB8IHN0cmluZykge1xuXHRcdGlmIChub2RlIGluc3RhbmNlb2YgTm9kZU1vZGVsKSB7XG5cdFx0XHRkZWxldGUgdGhpcy5ub2Rlc1tub2RlLmdldElEKCldO1xuXHRcdFx0dGhpcy5pdGVyYXRlTGlzdGVuZXJzKGxpc3RlbmVyID0+IHtcblx0XHRcdFx0aWYgKGxpc3RlbmVyLm5vZGVzVXBkYXRlZCkgbGlzdGVuZXIubm9kZXNVcGRhdGVkKG5vZGUsIGZhbHNlKTtcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGRlbGV0ZSB0aGlzLm5vZGVzW1wiXCIgKyBub2RlXTtcblx0XHR0aGlzLml0ZXJhdGVMaXN0ZW5lcnMobGlzdGVuZXIgPT4ge1xuXHRcdFx0aWYgKGxpc3RlbmVyLm5vZGVzVXBkYXRlZCkgbGlzdGVuZXIubm9kZXNVcGRhdGVkKG5vZGUsIGZhbHNlKTtcblx0XHR9KTtcblx0fVxuXG5cdGdldExpbmtzKCk6IHsgW3M6IHN0cmluZ106IExpbmtNb2RlbCB9IHtcblx0XHRyZXR1cm4gdGhpcy5saW5rcztcblx0fVxuXG5cdGdldE5vZGVzKCk6IHsgW3M6IHN0cmluZ106IE5vZGVNb2RlbCB9IHtcblx0XHRyZXR1cm4gdGhpcy5ub2Rlcztcblx0fVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9EaWFncmFtTW9kZWwudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQXNCQTs7QUFFQTtBQUNBO0FBQUE7QUFZQTtBQUFBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFyUUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///11\n");

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar BaseAction = /** @class */ (function () {\r\n    function BaseAction(mouseX, mouseY) {\r\n        this.mouseX = mouseX;\r\n        this.mouseY = mouseY;\r\n        this.ms = new Date().getTime();\r\n    }\r\n    return BaseAction;\r\n}());\r\nexports.BaseAction = BaseAction;\r\nvar SelectingAction = /** @class */ (function (_super) {\r\n    __extends(SelectingAction, _super);\r\n    function SelectingAction(mouseX, mouseY) {\r\n        var _this = _super.call(this, mouseX, mouseY) || this;\r\n        _this.mouseX2 = mouseX;\r\n        _this.mouseY2 = mouseY;\r\n        return _this;\r\n    }\r\n    SelectingAction.prototype.getBoxDimensions = function () {\r\n        return {\r\n            left: this.mouseX2 > this.mouseX ? this.mouseX : this.mouseX2,\r\n            top: this.mouseY2 > this.mouseY ? this.mouseY : this.mouseY2,\r\n            width: Math.abs(this.mouseX2 - this.mouseX),\r\n            height: Math.abs(this.mouseY2 - this.mouseY),\r\n            right: this.mouseX2 < this.mouseX ? this.mouseX : this.mouseX2,\r\n            bottom: this.mouseY2 < this.mouseY ? this.mouseY : this.mouseY2\r\n        };\r\n    };\r\n    SelectingAction.prototype.containsElement = function (x, y, diagramModel) {\r\n        var z = diagramModel.getZoomLevel() / 100.0;\r\n        var dimensions = this.getBoxDimensions();\r\n        return (x * z + diagramModel.getOffsetX() > dimensions.left &&\r\n            x * z + diagramModel.getOffsetX() < dimensions.right &&\r\n            y * z + diagramModel.getOffsetY() > dimensions.top &&\r\n            y * z + diagramModel.getOffsetY() < dimensions.bottom);\r\n    };\r\n    return SelectingAction;\r\n}(BaseAction));\r\nexports.SelectingAction = SelectingAction;\r\nvar MoveCanvasAction = /** @class */ (function (_super) {\r\n    __extends(MoveCanvasAction, _super);\r\n    function MoveCanvasAction(mouseX, mouseY, diagramModel) {\r\n        var _this = _super.call(this, mouseX, mouseY) || this;\r\n        _this.initialOffsetX = diagramModel.getOffsetX();\r\n        _this.initialOffsetY = diagramModel.getOffsetY();\r\n        return _this;\r\n    }\r\n    return MoveCanvasAction;\r\n}(BaseAction));\r\nexports.MoveCanvasAction = MoveCanvasAction;\r\nvar MoveItemsAction = /** @class */ (function (_super) {\r\n    __extends(MoveItemsAction, _super);\r\n    function MoveItemsAction(mouseX, mouseY, diagramEngine) {\r\n        var _this = _super.call(this, mouseX, mouseY) || this;\r\n        _this.moved = false;\r\n        diagramEngine.enableRepaintEntities(diagramEngine.getDiagramModel().getSelectedItems());\r\n        var selectedItems = diagramEngine.getDiagramModel().getSelectedItems();\r\n        //dont allow items which are locked to move\r\n        selectedItems = selectedItems.filter(function (item) {\r\n            return !diagramEngine.isModelLocked(item);\r\n        });\r\n        _this.selectionModels = selectedItems.map(function (item) {\r\n            return {\r\n                model: item,\r\n                initialX: item.x,\r\n                initialY: item.y\r\n            };\r\n        });\r\n        return _this;\r\n    }\r\n    return MoveItemsAction;\r\n}(BaseAction));\r\nexports.MoveItemsAction = MoveItemsAction;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0NhbnZhc0FjdGlvbnMudHM/ZWUwYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEaWFncmFtTW9kZWwgfSBmcm9tIFwiLi9EaWFncmFtTW9kZWxcIjtcbmltcG9ydCB7IERpYWdyYW1FbmdpbmUgfSBmcm9tIFwiLi9EaWFncmFtRW5naW5lXCI7XG5pbXBvcnQgeyBOb2RlTW9kZWwsIFBvaW50TW9kZWwgfSBmcm9tIFwiLi9Db21tb25cIjtcbmltcG9ydCB7IFNlbGVjdGlvbk1vZGVsIH0gZnJvbSBcIi4vd2lkZ2V0cy9EaWFncmFtV2lkZ2V0XCI7XG5cbmV4cG9ydCBjbGFzcyBCYXNlQWN0aW9uIHtcblx0bW91c2VYOiBudW1iZXI7XG5cdG1vdXNlWTogbnVtYmVyO1xuXHRtczogbnVtYmVyO1xuXG5cdGNvbnN0cnVjdG9yKG1vdXNlWDogbnVtYmVyLCBtb3VzZVk6IG51bWJlcikge1xuXHRcdHRoaXMubW91c2VYID0gbW91c2VYO1xuXHRcdHRoaXMubW91c2VZID0gbW91c2VZO1xuXHRcdHRoaXMubXMgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgU2VsZWN0aW5nQWN0aW9uIGV4dGVuZHMgQmFzZUFjdGlvbiB7XG5cdG1vdXNlWDI6IG51bWJlcjtcblx0bW91c2VZMjogbnVtYmVyO1xuXG5cdGNvbnN0cnVjdG9yKG1vdXNlWDogbnVtYmVyLCBtb3VzZVk6IG51bWJlcikge1xuXHRcdHN1cGVyKG1vdXNlWCwgbW91c2VZKTtcblx0XHR0aGlzLm1vdXNlWDIgPSBtb3VzZVg7XG5cdFx0dGhpcy5tb3VzZVkyID0gbW91c2VZO1xuXHR9XG5cblx0Z2V0Qm94RGltZW5zaW9ucygpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bGVmdDogdGhpcy5tb3VzZVgyID4gdGhpcy5tb3VzZVggPyB0aGlzLm1vdXNlWCA6IHRoaXMubW91c2VYMixcblx0XHRcdHRvcDogdGhpcy5tb3VzZVkyID4gdGhpcy5tb3VzZVkgPyB0aGlzLm1vdXNlWSA6IHRoaXMubW91c2VZMixcblx0XHRcdHdpZHRoOiBNYXRoLmFicyh0aGlzLm1vdXNlWDIgLSB0aGlzLm1vdXNlWCksXG5cdFx0XHRoZWlnaHQ6IE1hdGguYWJzKHRoaXMubW91c2VZMiAtIHRoaXMubW91c2VZKSxcblx0XHRcdHJpZ2h0OiB0aGlzLm1vdXNlWDIgPCB0aGlzLm1vdXNlWCA/IHRoaXMubW91c2VYIDogdGhpcy5tb3VzZVgyLFxuXHRcdFx0Ym90dG9tOiB0aGlzLm1vdXNlWTIgPCB0aGlzLm1vdXNlWSA/IHRoaXMubW91c2VZIDogdGhpcy5tb3VzZVkyXG5cdFx0fTtcblx0fVxuXG5cdGNvbnRhaW5zRWxlbWVudCh4OiBudW1iZXIsIHk6IG51bWJlciwgZGlhZ3JhbU1vZGVsOiBEaWFncmFtTW9kZWwpOiBib29sZWFuIHtcblx0XHR2YXIgeiA9IGRpYWdyYW1Nb2RlbC5nZXRab29tTGV2ZWwoKSAvIDEwMC4wO1xuXHRcdGxldCBkaW1lbnNpb25zID0gdGhpcy5nZXRCb3hEaW1lbnNpb25zKCk7XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0eCAqIHogKyBkaWFncmFtTW9kZWwuZ2V0T2Zmc2V0WCgpID4gZGltZW5zaW9ucy5sZWZ0ICYmXG5cdFx0XHR4ICogeiArIGRpYWdyYW1Nb2RlbC5nZXRPZmZzZXRYKCkgPCBkaW1lbnNpb25zLnJpZ2h0ICYmXG5cdFx0XHR5ICogeiArIGRpYWdyYW1Nb2RlbC5nZXRPZmZzZXRZKCkgPiBkaW1lbnNpb25zLnRvcCAmJlxuXHRcdFx0eSAqIHogKyBkaWFncmFtTW9kZWwuZ2V0T2Zmc2V0WSgpIDwgZGltZW5zaW9ucy5ib3R0b21cblx0XHQpO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBNb3ZlQ2FudmFzQWN0aW9uIGV4dGVuZHMgQmFzZUFjdGlvbiB7XG5cdGluaXRpYWxPZmZzZXRYOiBudW1iZXI7XG5cdGluaXRpYWxPZmZzZXRZOiBudW1iZXI7XG5cblx0Y29uc3RydWN0b3IobW91c2VYOiBudW1iZXIsIG1vdXNlWTogbnVtYmVyLCBkaWFncmFtTW9kZWw6IERpYWdyYW1Nb2RlbCkge1xuXHRcdHN1cGVyKG1vdXNlWCwgbW91c2VZKTtcblx0XHR0aGlzLmluaXRpYWxPZmZzZXRYID0gZGlhZ3JhbU1vZGVsLmdldE9mZnNldFgoKTtcblx0XHR0aGlzLmluaXRpYWxPZmZzZXRZID0gZGlhZ3JhbU1vZGVsLmdldE9mZnNldFkoKTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgTW92ZUl0ZW1zQWN0aW9uIGV4dGVuZHMgQmFzZUFjdGlvbiB7XG5cdHNlbGVjdGlvbk1vZGVsczogU2VsZWN0aW9uTW9kZWxbXTtcblx0bW92ZWQ6IGJvb2xlYW47XG5cblx0Y29uc3RydWN0b3IobW91c2VYOiBudW1iZXIsIG1vdXNlWTogbnVtYmVyLCBkaWFncmFtRW5naW5lOiBEaWFncmFtRW5naW5lKSB7XG5cdFx0c3VwZXIobW91c2VYLCBtb3VzZVkpO1xuXHRcdHRoaXMubW92ZWQgPSBmYWxzZTtcblx0XHRkaWFncmFtRW5naW5lLmVuYWJsZVJlcGFpbnRFbnRpdGllcyhkaWFncmFtRW5naW5lLmdldERpYWdyYW1Nb2RlbCgpLmdldFNlbGVjdGVkSXRlbXMoKSk7XG5cdFx0dmFyIHNlbGVjdGVkSXRlbXMgPSBkaWFncmFtRW5naW5lLmdldERpYWdyYW1Nb2RlbCgpLmdldFNlbGVjdGVkSXRlbXMoKTtcblxuXHRcdC8vZG9udCBhbGxvdyBpdGVtcyB3aGljaCBhcmUgbG9ja2VkIHRvIG1vdmVcblx0XHRzZWxlY3RlZEl0ZW1zID0gc2VsZWN0ZWRJdGVtcy5maWx0ZXIoaXRlbSA9PiB7XG5cdFx0XHRyZXR1cm4gIWRpYWdyYW1FbmdpbmUuaXNNb2RlbExvY2tlZChpdGVtKTtcblx0XHR9KTtcblxuXHRcdHRoaXMuc2VsZWN0aW9uTW9kZWxzID0gc2VsZWN0ZWRJdGVtcy5tYXAoKGl0ZW06IFBvaW50TW9kZWwgfCBOb2RlTW9kZWwpID0+IHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdG1vZGVsOiBpdGVtLFxuXHRcdFx0XHRpbml0aWFsWDogaXRlbS54LFxuXHRcdFx0XHRpbml0aWFsWTogaXRlbS55XG5cdFx0XHR9O1xuXHRcdH0pO1xuXHR9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL0NhbnZhc0FjdGlvbnMudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUtBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFWQTtBQVlBO0FBQUE7QUFJQTtBQUFBO0FBRUE7QUFDQTs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFoQ0E7QUFrQ0E7QUFBQTtBQUlBO0FBQUE7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFBQTtBQVRBO0FBV0E7QUFBQTtBQUlBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFBQTtBQXZCQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///12\n");

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(0);\r\nvar LinkWidget_1 = __webpack_require__(14);\r\nvar _ = __webpack_require__(1);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar LinkLayerWidget = /** @class */ (function (_super) {\r\n    __extends(LinkLayerWidget, _super);\r\n    function LinkLayerWidget(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.state = {};\r\n        return _this;\r\n    }\r\n    LinkLayerWidget.prototype.render = function () {\r\n        var _this = this;\r\n        var diagramModel = this.props.diagramEngine.getDiagramModel();\r\n        return (React.createElement(\"svg\", { style: {\r\n                transform: \"translate(\" +\r\n                    diagramModel.getOffsetX() +\r\n                    \"px,\" +\r\n                    diagramModel.getOffsetY() +\r\n                    \"px) scale(\" +\r\n                    diagramModel.getZoomLevel() / 100.0 +\r\n                    \")\",\r\n                width: \"100%\",\r\n                height: \"100%\"\r\n            } }, //only perform these actions when we have a diagram\r\n        this.props.diagramEngine.canvas &&\r\n            _.map(diagramModel.getLinks(), function (link) {\r\n                if (!_this.props.diagramEngine.linksThatHaveInitiallyRendered[link.id]) {\r\n                    if (link.sourcePort !== null) {\r\n                        //generate a point\r\n                        try {\r\n                            link.points[0].updateLocation(_this.props.diagramEngine.getPortCenter(link.sourcePort));\r\n                            _this.props.diagramEngine.linksThatHaveInitiallyRendered[link.id] = true;\r\n                        }\r\n                        catch (ex) { }\r\n                    }\r\n                    if (link.targetPort !== null) {\r\n                        try {\r\n                            _.last(link.points).updateLocation(_this.props.diagramEngine.getPortCenter(link.targetPort));\r\n                            _this.props.diagramEngine.linksThatHaveInitiallyRendered[link.id] = true;\r\n                        }\r\n                        catch (ex) { }\r\n                    }\r\n                }\r\n                //generate links\r\n                var generatedLink = _this.props.diagramEngine.generateWidgetForLink(link);\r\n                if (!generatedLink) {\r\n                    console.log(\"no link generated for type: \" + link.getType());\r\n                    return null;\r\n                }\r\n                return (React.createElement(LinkWidget_1.LinkWidget, { key: link.getID(), link: link, diagramEngine: _this.props.diagramEngine }, React.cloneElement(generatedLink, {\r\n                    pointAdded: _this.props.pointAdded\r\n                })));\r\n            })));\r\n    };\r\n    return LinkLayerWidget;\r\n}(React.Component));\r\nexports.LinkLayerWidget = LinkLayerWidget;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3dpZGdldHMvTGlua0xheWVyV2lkZ2V0LnRzeD8yYTAzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgRGlhZ3JhbU1vZGVsIH0gZnJvbSBcIi4uL0RpYWdyYW1Nb2RlbFwiO1xuaW1wb3J0IHsgRGlhZ3JhbUVuZ2luZSB9IGZyb20gXCIuLi9EaWFncmFtRW5naW5lXCI7XG5pbXBvcnQgeyBQb2ludE1vZGVsIH0gZnJvbSBcIi4uL0NvbW1vblwiO1xuaW1wb3J0IHsgTGlua1dpZGdldCB9IGZyb20gXCIuL0xpbmtXaWRnZXRcIjtcbmltcG9ydCAqIGFzIF8gZnJvbSBcImxvZGFzaFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIExpbmtMYXllclByb3BzIHtcblx0ZGlhZ3JhbUVuZ2luZTogRGlhZ3JhbUVuZ2luZTtcblx0cG9pbnRBZGRlZDogKHBvaW50OiBQb2ludE1vZGVsLCBldmVudCkgPT4gYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExpbmtMYXllclN0YXRlIHt9XG5cbi8qKlxuICogQGF1dGhvciBEeWxhbiBWb3JzdGVyXG4gKi9cbmV4cG9ydCBjbGFzcyBMaW5rTGF5ZXJXaWRnZXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8TGlua0xheWVyUHJvcHMsIExpbmtMYXllclN0YXRlPiB7XG5cdGNvbnN0cnVjdG9yKHByb3BzOiBMaW5rTGF5ZXJQcm9wcykge1xuXHRcdHN1cGVyKHByb3BzKTtcblx0XHR0aGlzLnN0YXRlID0ge307XG5cdH1cblxuXHRyZW5kZXIoKSB7XG5cdFx0dmFyIGRpYWdyYW1Nb2RlbCA9IHRoaXMucHJvcHMuZGlhZ3JhbUVuZ2luZS5nZXREaWFncmFtTW9kZWwoKTtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PHN2Z1xuXHRcdFx0XHRzdHlsZT17e1xuXHRcdFx0XHRcdHRyYW5zZm9ybTpcblx0XHRcdFx0XHRcdFwidHJhbnNsYXRlKFwiICtcblx0XHRcdFx0XHRcdGRpYWdyYW1Nb2RlbC5nZXRPZmZzZXRYKCkgK1xuXHRcdFx0XHRcdFx0XCJweCxcIiArXG5cdFx0XHRcdFx0XHRkaWFncmFtTW9kZWwuZ2V0T2Zmc2V0WSgpICtcblx0XHRcdFx0XHRcdFwicHgpIHNjYWxlKFwiICtcblx0XHRcdFx0XHRcdGRpYWdyYW1Nb2RlbC5nZXRab29tTGV2ZWwoKSAvIDEwMC4wICtcblx0XHRcdFx0XHRcdFwiKVwiLFxuXHRcdFx0XHRcdHdpZHRoOiBcIjEwMCVcIixcblx0XHRcdFx0XHRoZWlnaHQ6IFwiMTAwJVwiXG5cdFx0XHRcdH19XG5cdFx0XHQ+XG5cdFx0XHRcdHsvL29ubHkgcGVyZm9ybSB0aGVzZSBhY3Rpb25zIHdoZW4gd2UgaGF2ZSBhIGRpYWdyYW1cblx0XHRcdFx0dGhpcy5wcm9wcy5kaWFncmFtRW5naW5lLmNhbnZhcyAmJlxuXHRcdFx0XHRcdF8ubWFwKGRpYWdyYW1Nb2RlbC5nZXRMaW5rcygpLCBsaW5rID0+IHtcblx0XHRcdFx0XHRcdGlmICghdGhpcy5wcm9wcy5kaWFncmFtRW5naW5lLmxpbmtzVGhhdEhhdmVJbml0aWFsbHlSZW5kZXJlZFtsaW5rLmlkXSkge1xuXHRcdFx0XHRcdFx0XHRpZiAobGluay5zb3VyY2VQb3J0ICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly9nZW5lcmF0ZSBhIHBvaW50XG5cdFx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRcdGxpbmsucG9pbnRzWzBdLnVwZGF0ZUxvY2F0aW9uKHRoaXMucHJvcHMuZGlhZ3JhbUVuZ2luZS5nZXRQb3J0Q2VudGVyKGxpbmsuc291cmNlUG9ydCkpO1xuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5wcm9wcy5kaWFncmFtRW5naW5lLmxpbmtzVGhhdEhhdmVJbml0aWFsbHlSZW5kZXJlZFtsaW5rLmlkXSA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoZXgpIHt9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aWYgKGxpbmsudGFyZ2V0UG9ydCAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRfLmxhc3QobGluay5wb2ludHMpLnVwZGF0ZUxvY2F0aW9uKHRoaXMucHJvcHMuZGlhZ3JhbUVuZ2luZS5nZXRQb3J0Q2VudGVyKGxpbmsudGFyZ2V0UG9ydCkpO1xuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5wcm9wcy5kaWFncmFtRW5naW5lLmxpbmtzVGhhdEhhdmVJbml0aWFsbHlSZW5kZXJlZFtsaW5rLmlkXSA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoZXgpIHt9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly9nZW5lcmF0ZSBsaW5rc1xuXHRcdFx0XHRcdFx0dmFyIGdlbmVyYXRlZExpbmsgPSB0aGlzLnByb3BzLmRpYWdyYW1FbmdpbmUuZ2VuZXJhdGVXaWRnZXRGb3JMaW5rKGxpbmspO1xuXHRcdFx0XHRcdFx0aWYgKCFnZW5lcmF0ZWRMaW5rKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKFwibm8gbGluayBnZW5lcmF0ZWQgZm9yIHR5cGU6IFwiICsgbGluay5nZXRUeXBlKCkpO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHRcdFx0PExpbmtXaWRnZXQga2V5PXtsaW5rLmdldElEKCl9IGxpbms9e2xpbmt9IGRpYWdyYW1FbmdpbmU9e3RoaXMucHJvcHMuZGlhZ3JhbUVuZ2luZX0+XG5cdFx0XHRcdFx0XHRcdFx0e1JlYWN0LmNsb25lRWxlbWVudChnZW5lcmF0ZWRMaW5rLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRwb2ludEFkZGVkOiB0aGlzLnByb3BzLnBvaW50QWRkZWRcblx0XHRcdFx0XHRcdFx0XHR9KX1cblx0XHRcdFx0XHRcdFx0PC9MaW5rV2lkZ2V0PlxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9KX1cblx0XHRcdDwvc3ZnPlxuXHRcdCk7XG5cdH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvd2lkZ2V0cy9MaW5rTGF5ZXJXaWRnZXQudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUlBO0FBQ0E7QUFTQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7O0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFBQTtBQTVEQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///13\n");

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(0);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar LinkWidget = /** @class */ (function (_super) {\r\n    __extends(LinkWidget, _super);\r\n    function LinkWidget(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.state = {};\r\n        return _this;\r\n    }\r\n    LinkWidget.prototype.shouldComponentUpdate = function () {\r\n        return this.props.diagramEngine.canEntityRepaint(this.props.link);\r\n    };\r\n    LinkWidget.prototype.render = function () {\r\n        return this.props.children;\r\n    };\r\n    return LinkWidget;\r\n}(React.Component));\r\nexports.LinkWidget = LinkWidget;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3dpZGdldHMvTGlua1dpZGdldC50c3g/ZTk5NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IExpbmtNb2RlbCB9IGZyb20gXCIuLi9Db21tb25cIjtcbmltcG9ydCB7IERpYWdyYW1FbmdpbmUgfSBmcm9tIFwiLi4vRGlhZ3JhbUVuZ2luZVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIExpbmtQcm9wcyB7XG5cdGxpbms6IExpbmtNb2RlbDtcblx0ZGlhZ3JhbUVuZ2luZTogRGlhZ3JhbUVuZ2luZTtcblx0Y2hpbGRyZW4/OiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGlua1N0YXRlIHt9XG5cbi8qKlxuICogQGF1dGhvciBEeWxhbiBWb3JzdGVyXG4gKi9cbmV4cG9ydCBjbGFzcyBMaW5rV2lkZ2V0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PExpbmtQcm9wcywgTGlua1N0YXRlPiB7XG5cdGNvbnN0cnVjdG9yKHByb3BzOiBMaW5rUHJvcHMpIHtcblx0XHRzdXBlcihwcm9wcyk7XG5cdFx0dGhpcy5zdGF0ZSA9IHt9O1xuXHR9XG5cblx0c2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuXHRcdHJldHVybiB0aGlzLnByb3BzLmRpYWdyYW1FbmdpbmUuY2FuRW50aXR5UmVwYWludCh0aGlzLnByb3BzLmxpbmspO1xuXHR9XG5cblx0cmVuZGVyKCkge1xuXHRcdHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuXHR9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL3dpZGdldHMvTGlua1dpZGdldC50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBWUE7O0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQWJBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///14\n");

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(0);\r\nvar _ = __webpack_require__(1);\r\nvar NodeWidget_1 = __webpack_require__(16);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar NodeLayerWidget = /** @class */ (function (_super) {\r\n    __extends(NodeLayerWidget, _super);\r\n    function NodeLayerWidget(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.state = {};\r\n        return _this;\r\n    }\r\n    NodeLayerWidget.prototype.render = function () {\r\n        var _this = this;\r\n        var diagramModel = this.props.diagramEngine.getDiagramModel();\r\n        return (React.createElement(\"div\", { className: \"node-view\", style: {\r\n                transform: \"translate(\" +\r\n                    diagramModel.getOffsetX() +\r\n                    \"px,\" +\r\n                    diagramModel.getOffsetY() +\r\n                    \"px) scale(\" +\r\n                    diagramModel.getZoomLevel() / 100.0 +\r\n                    \")\",\r\n                width: \"100%\",\r\n                height: \"100%\"\r\n            } }, _.map(diagramModel.getNodes(), function (node) {\r\n            return React.createElement(NodeWidget_1.NodeWidget, {\r\n                diagramEngine: _this.props.diagramEngine,\r\n                key: node.id,\r\n                node: node\r\n            }, _this.props.diagramEngine.generateWidgetForNode(node));\r\n        })));\r\n    };\r\n    return NodeLayerWidget;\r\n}(React.Component));\r\nexports.NodeLayerWidget = NodeLayerWidget;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3dpZGdldHMvTm9kZUxheWVyV2lkZ2V0LnRzeD8xNTE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgRGlhZ3JhbU1vZGVsIH0gZnJvbSBcIi4uL0RpYWdyYW1Nb2RlbFwiO1xuaW1wb3J0IHsgRGlhZ3JhbUVuZ2luZSB9IGZyb20gXCIuLi9EaWFncmFtRW5naW5lXCI7XG5pbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCB7IE5vZGVXaWRnZXQgfSBmcm9tIFwiLi9Ob2RlV2lkZ2V0XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm9kZUxheWVyUHJvcHMge1xuXHRkaWFncmFtRW5naW5lOiBEaWFncmFtRW5naW5lO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5vZGVMYXllclN0YXRlIHt9XG5cbi8qKlxuICogQGF1dGhvciBEeWxhbiBWb3JzdGVyXG4gKi9cbmV4cG9ydCBjbGFzcyBOb2RlTGF5ZXJXaWRnZXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8Tm9kZUxheWVyUHJvcHMsIE5vZGVMYXllclN0YXRlPiB7XG5cdGNvbnN0cnVjdG9yKHByb3BzOiBOb2RlTGF5ZXJQcm9wcykge1xuXHRcdHN1cGVyKHByb3BzKTtcblx0XHR0aGlzLnN0YXRlID0ge307XG5cdH1cblxuXHRyZW5kZXIoKSB7XG5cdFx0dmFyIGRpYWdyYW1Nb2RlbCA9IHRoaXMucHJvcHMuZGlhZ3JhbUVuZ2luZS5nZXREaWFncmFtTW9kZWwoKTtcblxuXHRcdHJldHVybiAoXG5cdFx0XHQ8ZGl2XG5cdFx0XHRcdGNsYXNzTmFtZT1cIm5vZGUtdmlld1wiXG5cdFx0XHRcdHN0eWxlPXt7XG5cdFx0XHRcdFx0dHJhbnNmb3JtOlxuXHRcdFx0XHRcdFx0XCJ0cmFuc2xhdGUoXCIgK1xuXHRcdFx0XHRcdFx0ZGlhZ3JhbU1vZGVsLmdldE9mZnNldFgoKSArXG5cdFx0XHRcdFx0XHRcInB4LFwiICtcblx0XHRcdFx0XHRcdGRpYWdyYW1Nb2RlbC5nZXRPZmZzZXRZKCkgK1xuXHRcdFx0XHRcdFx0XCJweCkgc2NhbGUoXCIgK1xuXHRcdFx0XHRcdFx0ZGlhZ3JhbU1vZGVsLmdldFpvb21MZXZlbCgpIC8gMTAwLjAgK1xuXHRcdFx0XHRcdFx0XCIpXCIsXG5cdFx0XHRcdFx0d2lkdGg6IFwiMTAwJVwiLFxuXHRcdFx0XHRcdGhlaWdodDogXCIxMDAlXCJcblx0XHRcdFx0fX1cblx0XHRcdD5cblx0XHRcdFx0e18ubWFwKGRpYWdyYW1Nb2RlbC5nZXROb2RlcygpLCBub2RlID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHRcdE5vZGVXaWRnZXQsXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdGRpYWdyYW1FbmdpbmU6IHRoaXMucHJvcHMuZGlhZ3JhbUVuZ2luZSxcblx0XHRcdFx0XHRcdFx0a2V5OiBub2RlLmlkLFxuXHRcdFx0XHRcdFx0XHRub2RlOiBub2RlXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0dGhpcy5wcm9wcy5kaWFncmFtRW5naW5lLmdlbmVyYXRlV2lkZ2V0Rm9yTm9kZShub2RlKVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH0pfVxuXHRcdFx0PC9kaXY+XG5cdFx0KTtcblx0fVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy93aWRnZXRzL05vZGVMYXllcldpZGdldC50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBR0E7QUFDQTtBQVFBOztBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTs7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQUE7QUF2Q0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///15\n");

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(0);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar NodeWidget = /** @class */ (function (_super) {\r\n    __extends(NodeWidget, _super);\r\n    function NodeWidget(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.state = {};\r\n        return _this;\r\n    }\r\n    NodeWidget.prototype.shouldComponentUpdate = function () {\r\n        return this.props.diagramEngine.canEntityRepaint(this.props.node);\r\n    };\r\n    NodeWidget.prototype.render = function () {\r\n        return (React.createElement(\"div\", { \"data-nodeid\": this.props.node.id, className: \"node\" + (this.props.node.isSelected() ? \" selected\" : \"\"), style: {\r\n                top: this.props.node.y,\r\n                left: this.props.node.x\r\n            } }, this.props.children));\r\n    };\r\n    return NodeWidget;\r\n}(React.Component));\r\nexports.NodeWidget = NodeWidget;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3dpZGdldHMvTm9kZVdpZGdldC50c3g/YjJjYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IE5vZGVNb2RlbCB9IGZyb20gXCIuLi9Db21tb25cIjtcbmltcG9ydCB7IERpYWdyYW1FbmdpbmUgfSBmcm9tIFwiLi4vRGlhZ3JhbUVuZ2luZVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIE5vZGVQcm9wcyB7XG5cdG5vZGU6IE5vZGVNb2RlbDtcblx0Y2hpbGRyZW4/OiBhbnk7XG5cdGRpYWdyYW1FbmdpbmU6IERpYWdyYW1FbmdpbmU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm9kZVN0YXRlIHt9XG5cbi8qKlxuICogQGF1dGhvciBEeWxhbiBWb3JzdGVyXG4gKi9cbmV4cG9ydCBjbGFzcyBOb2RlV2lkZ2V0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PE5vZGVQcm9wcywgTm9kZVN0YXRlPiB7XG5cdGNvbnN0cnVjdG9yKHByb3BzOiBOb2RlUHJvcHMpIHtcblx0XHRzdXBlcihwcm9wcyk7XG5cdFx0dGhpcy5zdGF0ZSA9IHt9O1xuXHR9XG5cblx0c2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuXHRcdHJldHVybiB0aGlzLnByb3BzLmRpYWdyYW1FbmdpbmUuY2FuRW50aXR5UmVwYWludCh0aGlzLnByb3BzLm5vZGUpO1xuXHR9XG5cblx0cmVuZGVyKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHQ8ZGl2XG5cdFx0XHRcdGRhdGEtbm9kZWlkPXt0aGlzLnByb3BzLm5vZGUuaWR9XG5cdFx0XHRcdGNsYXNzTmFtZT17XCJub2RlXCIgKyAodGhpcy5wcm9wcy5ub2RlLmlzU2VsZWN0ZWQoKSA/IFwiIHNlbGVjdGVkXCIgOiBcIlwiKX1cblx0XHRcdFx0c3R5bGU9e3tcblx0XHRcdFx0XHR0b3A6IHRoaXMucHJvcHMubm9kZS55LFxuXHRcdFx0XHRcdGxlZnQ6IHRoaXMucHJvcHMubm9kZS54XG5cdFx0XHRcdH19XG5cdFx0XHQ+XG5cdFx0XHRcdHt0aGlzLnByb3BzLmNoaWxkcmVufVxuXHRcdFx0PC9kaXY+XG5cdFx0KTtcblx0fVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy93aWRnZXRzL05vZGVXaWRnZXQudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQVlBOztBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQUE7QUF4QkE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///16\n");

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//export defaults\r\n__export(__webpack_require__(18));\r\n__export(__webpack_require__(7));\r\n__export(__webpack_require__(21));\r\n__export(__webpack_require__(8));\r\n__export(__webpack_require__(22));\r\n__export(__webpack_require__(23));\r\n__export(__webpack_require__(9));\r\n__export(__webpack_require__(5));\r\n__export(__webpack_require__(6));\r\n__export(__webpack_require__(24));\r\n__export(__webpack_require__(11));\r\n__export(__webpack_require__(3));\r\n__export(__webpack_require__(12));\r\n__export(__webpack_require__(2));\r\n__export(__webpack_require__(4));\r\n__export(__webpack_require__(25));\r\n__export(__webpack_require__(26));\r\n__export(__webpack_require__(13));\r\n__export(__webpack_require__(14));\r\n__export(__webpack_require__(15));\r\n__export(__webpack_require__(16));\r\n__export(__webpack_require__(10));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL21haW4udHM/OGNmZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBhdXRob3IgRHlsYW4gVm9yc3RlclxuICovXG5cbi8vZXhwb3J0IGRlZmF1bHRzXG5leHBvcnQgKiBmcm9tIFwiLi9kZWZhdWx0cy9EZWZhdWx0TGlua0ZhY3RvcnlcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2RlZmF1bHRzL0RlZmF1bHRMaW5rV2lkZ2V0XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9kZWZhdWx0cy9EZWZhdWx0Tm9kZUZhY3RvcnlcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2RlZmF1bHRzL0RlZmF1bHROb2RlV2lkZ2V0XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9kZWZhdWx0cy9EZWZhdWx0Tm9kZU1vZGVsXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9kZWZhdWx0cy9EZWZhdWx0UG9ydE1vZGVsXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9kZWZhdWx0cy9EZWZhdWx0UG9ydExhYmVsV2lkZ2V0XCI7XG5cbmV4cG9ydCAqIGZyb20gXCIuL1dpZGdldEZhY3Rvcmllc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vVG9vbGtpdFwiO1xuXG5leHBvcnQgKiBmcm9tIFwiLi9EaWFncmFtRW5naW5lXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9EaWFncmFtTW9kZWxcIjtcbmV4cG9ydCAqIGZyb20gXCIuL0Jhc2VFbnRpdHlcIjtcbmV4cG9ydCAqIGZyb20gXCIuL0NhbnZhc0FjdGlvbnNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL0NvbW1vblwiO1xuZXhwb3J0ICogZnJvbSBcIi4vQWJzdHJhY3RJbnN0YW5jZUZhY3RvcnlcIjtcbmV4cG9ydCAqIGZyb20gXCIuL0xpbmtJbnN0YW5jZUZhY3RvcnlcIjtcblxuZXhwb3J0ICogZnJvbSBcIi4vd2lkZ2V0cy9EaWFncmFtV2lkZ2V0XCI7XG5leHBvcnQgKiBmcm9tIFwiLi93aWRnZXRzL0xpbmtMYXllcldpZGdldFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vd2lkZ2V0cy9MaW5rV2lkZ2V0XCI7XG5leHBvcnQgKiBmcm9tIFwiLi93aWRnZXRzL05vZGVMYXllcldpZGdldFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vd2lkZ2V0cy9Ob2RlV2lkZ2V0XCI7XG5leHBvcnQgKiBmcm9tIFwiLi93aWRnZXRzL1BvcnRXaWRnZXRcIjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvbWFpbi50cyJdLCJtYXBwaW5ncyI6IjtBQUFBOztBQUVBOzs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///17\n");

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar WidgetFactories_1 = __webpack_require__(5);\r\nvar React = __webpack_require__(0);\r\nvar DefaultLinkWidget_1 = __webpack_require__(7);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar DefaultLinkFactory = /** @class */ (function (_super) {\r\n    __extends(DefaultLinkFactory, _super);\r\n    function DefaultLinkFactory() {\r\n        return _super.call(this, \"default\") || this;\r\n    }\r\n    DefaultLinkFactory.prototype.generateReactWidget = function (diagramEngine, link) {\r\n        return React.createElement(DefaultLinkWidget_1.DefaultLinkWidget, {\r\n            link: link,\r\n            diagramEngine: diagramEngine\r\n        });\r\n    };\r\n    return DefaultLinkFactory;\r\n}(WidgetFactories_1.LinkWidgetFactory));\r\nexports.DefaultLinkFactory = DefaultLinkFactory;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2RlZmF1bHRzL0RlZmF1bHRMaW5rRmFjdG9yeS50cz82ZTkyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExpbmtXaWRnZXRGYWN0b3J5IH0gZnJvbSBcIi4uL1dpZGdldEZhY3Rvcmllc1wiO1xuaW1wb3J0IHsgTGlua01vZGVsIH0gZnJvbSBcIi4uL0NvbW1vblwiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBEZWZhdWx0TGlua1dpZGdldCB9IGZyb20gXCIuL0RlZmF1bHRMaW5rV2lkZ2V0XCI7XG5pbXBvcnQgeyBEaWFncmFtRW5naW5lIH0gZnJvbSBcIi4uL0RpYWdyYW1FbmdpbmVcIjtcbi8qKlxuICogQGF1dGhvciBEeWxhbiBWb3JzdGVyXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWZhdWx0TGlua0ZhY3RvcnkgZXh0ZW5kcyBMaW5rV2lkZ2V0RmFjdG9yeSB7XG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHN1cGVyKFwiZGVmYXVsdFwiKTtcblx0fVxuXG5cdGdlbmVyYXRlUmVhY3RXaWRnZXQoZGlhZ3JhbUVuZ2luZTogRGlhZ3JhbUVuZ2luZSwgbGluazogTGlua01vZGVsKTogSlNYLkVsZW1lbnQge1xuXHRcdHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KERlZmF1bHRMaW5rV2lkZ2V0LCB7XG5cdFx0XHRsaW5rOiBsaW5rLFxuXHRcdFx0ZGlhZ3JhbUVuZ2luZTogZGlhZ3JhbUVuZ2luZVxuXHRcdH0pO1xuXHR9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2RlZmF1bHRzL0RlZmF1bHRMaW5rRmFjdG9yeS50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFFQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQVhBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///18\n");

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

eval("var matches = __webpack_require__(20)\r\n\r\nmodule.exports = function (element, selector, checkYoSelf) {\r\n  var parent = checkYoSelf ? element : element.parentNode\r\n\r\n  while (parent && parent !== document) {\r\n    if (matches(parent, selector)) return parent;\r\n    parent = parent.parentNode\r\n  }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2xvc2VzdC9pbmRleC5qcz9iNmFmIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBtYXRjaGVzID0gcmVxdWlyZSgnbWF0Y2hlcy1zZWxlY3RvcicpXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChlbGVtZW50LCBzZWxlY3RvciwgY2hlY2tZb1NlbGYpIHtcclxuICB2YXIgcGFyZW50ID0gY2hlY2tZb1NlbGYgPyBlbGVtZW50IDogZWxlbWVudC5wYXJlbnROb2RlXHJcblxyXG4gIHdoaWxlIChwYXJlbnQgJiYgcGFyZW50ICE9PSBkb2N1bWVudCkge1xyXG4gICAgaWYgKG1hdGNoZXMocGFyZW50LCBzZWxlY3RvcikpIHJldHVybiBwYXJlbnQ7XHJcbiAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZVxyXG4gIH1cclxufVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jbG9zZXN0L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAxOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///19\n");

/***/ }),
/* 20 */
/***/ (function(module, exports) {

eval("\r\n/**\r\n * Element prototype.\r\n */\r\n\r\nvar proto = Element.prototype;\r\n\r\n/**\r\n * Vendor function.\r\n */\r\n\r\nvar vendor = proto.matchesSelector\r\n  || proto.webkitMatchesSelector\r\n  || proto.mozMatchesSelector\r\n  || proto.msMatchesSelector\r\n  || proto.oMatchesSelector;\r\n\r\n/**\r\n * Expose `match()`.\r\n */\r\n\r\nmodule.exports = match;\r\n\r\n/**\r\n * Match `el` to `selector`.\r\n *\r\n * @param {Element} el\r\n * @param {String} selector\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nfunction match(el, selector) {\r\n  if (vendor) return vendor.call(el, selector);\r\n  var nodes = el.parentNode.querySelectorAll(selector);\r\n  for (var i = 0; i < nodes.length; ++i) {\r\n    if (nodes[i] == el) return true;\r\n  }\r\n  return false;\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbWF0Y2hlcy1zZWxlY3Rvci9pbmRleC5qcz8xNmUyIl0sInNvdXJjZXNDb250ZW50IjpbIlxyXG4vKipcclxuICogRWxlbWVudCBwcm90b3R5cGUuXHJcbiAqL1xyXG5cclxudmFyIHByb3RvID0gRWxlbWVudC5wcm90b3R5cGU7XHJcblxyXG4vKipcclxuICogVmVuZG9yIGZ1bmN0aW9uLlxyXG4gKi9cclxuXHJcbnZhciB2ZW5kb3IgPSBwcm90by5tYXRjaGVzU2VsZWN0b3JcclxuICB8fCBwcm90by53ZWJraXRNYXRjaGVzU2VsZWN0b3JcclxuICB8fCBwcm90by5tb3pNYXRjaGVzU2VsZWN0b3JcclxuICB8fCBwcm90by5tc01hdGNoZXNTZWxlY3RvclxyXG4gIHx8IHByb3RvLm9NYXRjaGVzU2VsZWN0b3I7XHJcblxyXG4vKipcclxuICogRXhwb3NlIGBtYXRjaCgpYC5cclxuICovXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG1hdGNoO1xyXG5cclxuLyoqXHJcbiAqIE1hdGNoIGBlbGAgdG8gYHNlbGVjdG9yYC5cclxuICpcclxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxyXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcclxuICogQHJldHVybiB7Qm9vbGVhbn1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5mdW5jdGlvbiBtYXRjaChlbCwgc2VsZWN0b3IpIHtcclxuICBpZiAodmVuZG9yKSByZXR1cm4gdmVuZG9yLmNhbGwoZWwsIHNlbGVjdG9yKTtcclxuICB2YXIgbm9kZXMgPSBlbC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyArK2kpIHtcclxuICAgIGlmIChub2Rlc1tpXSA9PSBlbCkgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG4gIHJldHVybiBmYWxzZTtcclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL21hdGNoZXMtc2VsZWN0b3IvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDIwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///20\n");

/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar WidgetFactories_1 = __webpack_require__(5);\r\nvar React = __webpack_require__(0);\r\nvar DefaultNodeWidget_1 = __webpack_require__(8);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar DefaultNodeFactory = /** @class */ (function (_super) {\r\n    __extends(DefaultNodeFactory, _super);\r\n    function DefaultNodeFactory() {\r\n        return _super.call(this, \"default\") || this;\r\n    }\r\n    DefaultNodeFactory.prototype.generateReactWidget = function (diagramEngine, node) {\r\n        return React.createElement(DefaultNodeWidget_1.DefaultNodeWidget, {\r\n            node: node,\r\n            diagramEngine: diagramEngine\r\n        });\r\n    };\r\n    return DefaultNodeFactory;\r\n}(WidgetFactories_1.NodeWidgetFactory));\r\nexports.DefaultNodeFactory = DefaultNodeFactory;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2RlZmF1bHRzL0RlZmF1bHROb2RlRmFjdG9yeS50cz85NzYzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5vZGVXaWRnZXRGYWN0b3J5IH0gZnJvbSBcIi4uL1dpZGdldEZhY3Rvcmllc1wiO1xuaW1wb3J0IHsgRGVmYXVsdE5vZGVNb2RlbCB9IGZyb20gXCIuL0RlZmF1bHROb2RlTW9kZWxcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgRGVmYXVsdE5vZGVXaWRnZXQgfSBmcm9tIFwiLi9EZWZhdWx0Tm9kZVdpZGdldFwiO1xuaW1wb3J0IHsgRGlhZ3JhbUVuZ2luZSB9IGZyb20gXCIuLi9EaWFncmFtRW5naW5lXCI7XG4vKipcbiAqIEBhdXRob3IgRHlsYW4gVm9yc3RlclxuICovXG5leHBvcnQgY2xhc3MgRGVmYXVsdE5vZGVGYWN0b3J5IGV4dGVuZHMgTm9kZVdpZGdldEZhY3Rvcnkge1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHRzdXBlcihcImRlZmF1bHRcIik7XG5cdH1cblxuXHRnZW5lcmF0ZVJlYWN0V2lkZ2V0KGRpYWdyYW1FbmdpbmU6IERpYWdyYW1FbmdpbmUsIG5vZGU6IERlZmF1bHROb2RlTW9kZWwpOiBKU1guRWxlbWVudCB7XG5cdFx0cmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGVmYXVsdE5vZGVXaWRnZXQsIHtcblx0XHRcdG5vZGU6IG5vZGUsXG5cdFx0XHRkaWFncmFtRW5naW5lOiBkaWFncmFtRW5naW5lXG5cdFx0fSk7XG5cdH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvZGVmYXVsdHMvRGVmYXVsdE5vZGVGYWN0b3J5LnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBWEE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///21\n");

/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Common_1 = __webpack_require__(2);\r\nvar _ = __webpack_require__(1);\r\nvar AbstractInstanceFactory_1 = __webpack_require__(4);\r\nvar DefaultNodeInstanceFactory = /** @class */ (function (_super) {\r\n    __extends(DefaultNodeInstanceFactory, _super);\r\n    function DefaultNodeInstanceFactory() {\r\n        return _super.call(this, \"DefaultNodeModel\") || this;\r\n    }\r\n    DefaultNodeInstanceFactory.prototype.getInstance = function () {\r\n        return new DefaultNodeModel();\r\n    };\r\n    return DefaultNodeInstanceFactory;\r\n}(AbstractInstanceFactory_1.AbstractInstanceFactory));\r\nexports.DefaultNodeInstanceFactory = DefaultNodeInstanceFactory;\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar DefaultNodeModel = /** @class */ (function (_super) {\r\n    __extends(DefaultNodeModel, _super);\r\n    function DefaultNodeModel(name, color) {\r\n        if (name === void 0) { name = \"Untitled\"; }\r\n        if (color === void 0) { color = \"rgb(0,192,255)\"; }\r\n        var _this = _super.call(this, \"default\") || this;\r\n        _this.name = name;\r\n        _this.color = color;\r\n        return _this;\r\n    }\r\n    DefaultNodeModel.prototype.deSerialize = function (object) {\r\n        _super.prototype.deSerialize.call(this, object);\r\n        this.name = object.name;\r\n        this.color = object.color;\r\n    };\r\n    DefaultNodeModel.prototype.serialize = function () {\r\n        return _.merge(_super.prototype.serialize.call(this), {\r\n            name: this.name,\r\n            color: this.color\r\n        });\r\n    };\r\n    DefaultNodeModel.prototype.getInPorts = function () {\r\n        return _.filter(this.ports, function (portModel) {\r\n            return portModel.in;\r\n        });\r\n    };\r\n    DefaultNodeModel.prototype.getOutPorts = function () {\r\n        return _.filter(this.ports, function (portModel) {\r\n            return !portModel.in;\r\n        });\r\n    };\r\n    return DefaultNodeModel;\r\n}(Common_1.NodeModel));\r\nexports.DefaultNodeModel = DefaultNodeModel;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2RlZmF1bHRzL0RlZmF1bHROb2RlTW9kZWwudHM/YmI0ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOb2RlTW9kZWwgfSBmcm9tIFwiLi4vQ29tbW9uXCI7XG5pbXBvcnQgeyBEZWZhdWx0UG9ydE1vZGVsIH0gZnJvbSBcIi4vRGVmYXVsdFBvcnRNb2RlbFwiO1xuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5cbmltcG9ydCB7IEFic3RyYWN0SW5zdGFuY2VGYWN0b3J5IH0gZnJvbSBcIi4uL0Fic3RyYWN0SW5zdGFuY2VGYWN0b3J5XCI7XG5cbmV4cG9ydCBjbGFzcyBEZWZhdWx0Tm9kZUluc3RhbmNlRmFjdG9yeSBleHRlbmRzIEFic3RyYWN0SW5zdGFuY2VGYWN0b3J5PERlZmF1bHROb2RlTW9kZWw+IHtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0c3VwZXIoXCJEZWZhdWx0Tm9kZU1vZGVsXCIpO1xuXHR9XG5cblx0Z2V0SW5zdGFuY2UoKSB7XG5cdFx0cmV0dXJuIG5ldyBEZWZhdWx0Tm9kZU1vZGVsKCk7XG5cdH1cbn1cblxuLyoqXG4gKiBAYXV0aG9yIER5bGFuIFZvcnN0ZXJcbiAqL1xuZXhwb3J0IGNsYXNzIERlZmF1bHROb2RlTW9kZWwgZXh0ZW5kcyBOb2RlTW9kZWwge1xuXHRuYW1lOiBzdHJpbmc7XG5cdGNvbG9yOiBzdHJpbmc7XG5cdHBvcnRzOiB7IFtzOiBzdHJpbmddOiBEZWZhdWx0UG9ydE1vZGVsIH07XG5cblx0Y29uc3RydWN0b3IobmFtZTogc3RyaW5nID0gXCJVbnRpdGxlZFwiLCBjb2xvcjogc3RyaW5nID0gXCJyZ2IoMCwxOTIsMjU1KVwiKSB7XG5cdFx0c3VwZXIoXCJkZWZhdWx0XCIpO1xuXHRcdHRoaXMubmFtZSA9IG5hbWU7XG5cdFx0dGhpcy5jb2xvciA9IGNvbG9yO1xuXHR9XG5cblx0ZGVTZXJpYWxpemUob2JqZWN0KSB7XG5cdFx0c3VwZXIuZGVTZXJpYWxpemUob2JqZWN0KTtcblx0XHR0aGlzLm5hbWUgPSBvYmplY3QubmFtZTtcblx0XHR0aGlzLmNvbG9yID0gb2JqZWN0LmNvbG9yO1xuXHR9XG5cblx0c2VyaWFsaXplKCkge1xuXHRcdHJldHVybiBfLm1lcmdlKHN1cGVyLnNlcmlhbGl6ZSgpLCB7XG5cdFx0XHRuYW1lOiB0aGlzLm5hbWUsXG5cdFx0XHRjb2xvcjogdGhpcy5jb2xvclxuXHRcdH0pO1xuXHR9XG5cblx0Z2V0SW5Qb3J0cygpOiBEZWZhdWx0UG9ydE1vZGVsW10ge1xuXHRcdHJldHVybiBfLmZpbHRlcih0aGlzLnBvcnRzLCBwb3J0TW9kZWwgPT4ge1xuXHRcdFx0cmV0dXJuIHBvcnRNb2RlbC5pbjtcblx0XHR9KTtcblx0fVxuXG5cdGdldE91dFBvcnRzKCk6IERlZmF1bHRQb3J0TW9kZWxbXSB7XG5cdFx0cmV0dXJuIF8uZmlsdGVyKHRoaXMucG9ydHMsIHBvcnRNb2RlbCA9PiB7XG5cdFx0XHRyZXR1cm4gIXBvcnRNb2RlbC5pbjtcblx0XHR9KTtcblx0fVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9kZWZhdWx0cy9EZWZhdWx0Tm9kZU1vZGVsLnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQVJBO0FBVUE7O0FBRUE7QUFDQTtBQUFBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQW5DQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///22\n");

/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Common_1 = __webpack_require__(2);\r\nvar _ = __webpack_require__(1);\r\nvar AbstractInstanceFactory_1 = __webpack_require__(4);\r\nvar DefaultPortInstanceFactory = /** @class */ (function (_super) {\r\n    __extends(DefaultPortInstanceFactory, _super);\r\n    function DefaultPortInstanceFactory() {\r\n        return _super.call(this, \"DefaultPortModel\") || this;\r\n    }\r\n    DefaultPortInstanceFactory.prototype.getInstance = function () {\r\n        return new DefaultPortModel(true, \"unknown\");\r\n    };\r\n    return DefaultPortInstanceFactory;\r\n}(AbstractInstanceFactory_1.AbstractInstanceFactory));\r\nexports.DefaultPortInstanceFactory = DefaultPortInstanceFactory;\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar DefaultPortModel = /** @class */ (function (_super) {\r\n    __extends(DefaultPortModel, _super);\r\n    function DefaultPortModel(isInput, name, label, id) {\r\n        if (label === void 0) { label = null; }\r\n        var _this = _super.call(this, name, id) || this;\r\n        _this.in = isInput;\r\n        _this.label = label || name;\r\n        return _this;\r\n    }\r\n    DefaultPortModel.prototype.deSerialize = function (object) {\r\n        _super.prototype.deSerialize.call(this, object);\r\n        this.in = object.in;\r\n        this.label = object.label;\r\n    };\r\n    DefaultPortModel.prototype.serialize = function () {\r\n        return _.merge(_super.prototype.serialize.call(this), {\r\n            in: this.in,\r\n            label: this.label\r\n        });\r\n    };\r\n    return DefaultPortModel;\r\n}(Common_1.PortModel));\r\nexports.DefaultPortModel = DefaultPortModel;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2RlZmF1bHRzL0RlZmF1bHRQb3J0TW9kZWwudHM/MjA4NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQb3J0TW9kZWwgfSBmcm9tIFwiLi4vQ29tbW9uXCI7XG5pbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCB7IEFic3RyYWN0SW5zdGFuY2VGYWN0b3J5IH0gZnJvbSBcIi4uL0Fic3RyYWN0SW5zdGFuY2VGYWN0b3J5XCI7XG5cbmV4cG9ydCBjbGFzcyBEZWZhdWx0UG9ydEluc3RhbmNlRmFjdG9yeSBleHRlbmRzIEFic3RyYWN0SW5zdGFuY2VGYWN0b3J5PERlZmF1bHRQb3J0TW9kZWw+IHtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0c3VwZXIoXCJEZWZhdWx0UG9ydE1vZGVsXCIpO1xuXHR9XG5cblx0Z2V0SW5zdGFuY2UoKSB7XG5cdFx0cmV0dXJuIG5ldyBEZWZhdWx0UG9ydE1vZGVsKHRydWUsIFwidW5rbm93blwiKTtcblx0fVxufVxuXG4vKipcbiAqIEBhdXRob3IgRHlsYW4gVm9yc3RlclxuICovXG5leHBvcnQgY2xhc3MgRGVmYXVsdFBvcnRNb2RlbCBleHRlbmRzIFBvcnRNb2RlbCB7XG5cdGluOiBib29sZWFuO1xuXHRsYWJlbDogc3RyaW5nO1xuXG5cdGNvbnN0cnVjdG9yKGlzSW5wdXQ6IGJvb2xlYW4sIG5hbWU6IHN0cmluZywgbGFiZWw6IHN0cmluZyA9IG51bGwsIGlkPzogc3RyaW5nKSB7XG5cdFx0c3VwZXIobmFtZSwgaWQpO1xuXHRcdHRoaXMuaW4gPSBpc0lucHV0O1xuXHRcdHRoaXMubGFiZWwgPSBsYWJlbCB8fCBuYW1lO1xuXHR9XG5cblx0ZGVTZXJpYWxpemUob2JqZWN0KSB7XG5cdFx0c3VwZXIuZGVTZXJpYWxpemUob2JqZWN0KTtcblx0XHR0aGlzLmluID0gb2JqZWN0LmluO1xuXHRcdHRoaXMubGFiZWwgPSBvYmplY3QubGFiZWw7XG5cdH1cblxuXHRzZXJpYWxpemUoKSB7XG5cdFx0cmV0dXJuIF8ubWVyZ2Uoc3VwZXIuc2VyaWFsaXplKCksIHtcblx0XHRcdGluOiB0aGlzLmluLFxuXHRcdFx0bGFiZWw6IHRoaXMubGFiZWxcblx0XHR9KTtcblx0fVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9kZWZhdWx0cy9EZWZhdWx0UG9ydE1vZGVsLnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQVJBO0FBVUE7O0FBRUE7QUFDQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBRUE7QUFDQTs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBdEJBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///23\n");

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Common_1 = __webpack_require__(2);\r\nvar BaseEntity_1 = __webpack_require__(3);\r\nvar DiagramModel_1 = __webpack_require__(11);\r\nvar _ = __webpack_require__(1);\r\n/**\r\n * Passed as a parameter to the DiagramWidget\r\n */\r\nvar DiagramEngine = /** @class */ (function (_super) {\r\n    __extends(DiagramEngine, _super);\r\n    function DiagramEngine() {\r\n        var _this = _super.call(this) || this;\r\n        _this.diagramModel = new DiagramModel_1.DiagramModel();\r\n        _this.nodeFactories = {};\r\n        _this.linkFactories = {};\r\n        _this.instanceFactories = {};\r\n        _this.canvas = null;\r\n        _this.paintableWidgets = null;\r\n        _this.linksThatHaveInitiallyRendered = {};\r\n        return _this;\r\n    }\r\n    DiagramEngine.prototype.repaintCanvas = function () {\r\n        this.iterateListeners(function (listener) {\r\n            listener.repaintCanvas && listener.repaintCanvas();\r\n        });\r\n    };\r\n    DiagramEngine.prototype.clearRepaintEntities = function () {\r\n        this.paintableWidgets = null;\r\n    };\r\n    DiagramEngine.prototype.enableRepaintEntities = function (entities) {\r\n        var _this = this;\r\n        this.paintableWidgets = {};\r\n        entities.forEach(function (entity) {\r\n            //if a node is requested to repaint, add all of its links\r\n            if (entity instanceof Common_1.NodeModel) {\r\n                _.forEach(entity.getPorts(), function (port) {\r\n                    _.forEach(port.getLinks(), function (link) {\r\n                        _this.paintableWidgets[link.getID()] = true;\r\n                    });\r\n                });\r\n            }\r\n            if (entity instanceof Common_1.PointModel) {\r\n                _this.paintableWidgets[entity.getLink().getID()] = true;\r\n            }\r\n            _this.paintableWidgets[entity.getID()] = true;\r\n        });\r\n    };\r\n    /**\r\n     * Checks to see if a model is locked by running through\r\n     * its parents to see if they are locked first\r\n     */\r\n    DiagramEngine.prototype.isModelLocked = function (model) {\r\n        //always check the diagram model\r\n        if (this.diagramModel.isLocked()) {\r\n            return true;\r\n        }\r\n        //a point is locked, if its model is locked\r\n        if (model instanceof Common_1.PortModel) {\r\n            if (model.getParent().isLocked()) {\r\n                return true;\r\n            }\r\n        }\r\n        //a point is locked, if its model is locked\r\n        if (model instanceof Common_1.PointModel) {\r\n            if (model.getLink().isLocked()) {\r\n                return true;\r\n            }\r\n        }\r\n        return model.isLocked();\r\n    };\r\n    DiagramEngine.prototype.canEntityRepaint = function (baseModel) {\r\n        //no rules applied, allow repaint\r\n        if (this.paintableWidgets === null) {\r\n            return true;\r\n        }\r\n        return this.paintableWidgets[baseModel.getID()] !== undefined;\r\n    };\r\n    DiagramEngine.prototype.setCanvas = function (canvas) {\r\n        this.canvas = canvas;\r\n    };\r\n    DiagramEngine.prototype.setDiagramModel = function (model) {\r\n        this.diagramModel = model;\r\n    };\r\n    DiagramEngine.prototype.getDiagramModel = function () {\r\n        return this.diagramModel;\r\n    };\r\n    DiagramEngine.prototype.getNodeFactories = function () {\r\n        return this.nodeFactories;\r\n    };\r\n    DiagramEngine.prototype.getLinkFactories = function () {\r\n        return this.linkFactories;\r\n    };\r\n    DiagramEngine.prototype.getInstanceFactory = function (className) {\r\n        return this.instanceFactories[className];\r\n    };\r\n    DiagramEngine.prototype.registerInstanceFactory = function (factory) {\r\n        this.instanceFactories[factory.getName()] = factory;\r\n    };\r\n    DiagramEngine.prototype.registerNodeFactory = function (factory) {\r\n        this.nodeFactories[factory.getType()] = factory;\r\n        this.iterateListeners(function (listener) {\r\n            if (listener.nodeFactoriesUpdated)\r\n                listener.nodeFactoriesUpdated();\r\n        });\r\n    };\r\n    DiagramEngine.prototype.registerLinkFactory = function (factory) {\r\n        this.linkFactories[factory.getType()] = factory;\r\n        this.iterateListeners(function (listener) {\r\n            if (listener.linkFactoriesUpdated)\r\n                listener.linkFactoriesUpdated();\r\n        });\r\n    };\r\n    DiagramEngine.prototype.getFactoryForNode = function (node) {\r\n        if (this.nodeFactories[node.getType()]) {\r\n            return this.nodeFactories[node.getType()];\r\n        }\r\n        console.log(\"cannot find widget factory for node of type: [\" + node.getType() + \"]\");\r\n        return null;\r\n    };\r\n    DiagramEngine.prototype.getFactoryForLink = function (link) {\r\n        if (this.linkFactories[link.getType()]) {\r\n            return this.linkFactories[link.getType()];\r\n        }\r\n        console.log(\"cannot find widget factory for link of type: [\" + link.getType() + \"]\");\r\n        return null;\r\n    };\r\n    DiagramEngine.prototype.generateWidgetForLink = function (link) {\r\n        var linkFactory = this.getFactoryForLink(link);\r\n        if (!linkFactory) {\r\n            throw \"Cannot find link factory for link: \" + link.getType();\r\n        }\r\n        return linkFactory.generateReactWidget(this, link);\r\n    };\r\n    DiagramEngine.prototype.generateWidgetForNode = function (node) {\r\n        var nodeFactory = this.getFactoryForNode(node);\r\n        if (!nodeFactory) {\r\n            throw \"Cannot find widget factory for node: \" + node.getType();\r\n        }\r\n        return nodeFactory.generateReactWidget(this, node);\r\n    };\r\n    DiagramEngine.prototype.getRelativeMousePoint = function (event) {\r\n        var point = this.getRelativePoint(event.clientX, event.clientY);\r\n        return {\r\n            x: (point.x - this.diagramModel.getOffsetX()) / (this.diagramModel.getZoomLevel() / 100.0),\r\n            y: (point.y - this.diagramModel.getOffsetY()) / (this.diagramModel.getZoomLevel() / 100.0)\r\n        };\r\n    };\r\n    DiagramEngine.prototype.getRelativePoint = function (x, y) {\r\n        var canvasRect = this.canvas.getBoundingClientRect();\r\n        return { x: x - canvasRect.left, y: y - canvasRect.top };\r\n    };\r\n    DiagramEngine.prototype.getNodePortElement = function (port) {\r\n        var selector = this.canvas.querySelector('.port[data-name=\"' + port.getName() + '\"][data-nodeid=\"' + port.getParent().getID() + '\"]');\r\n        if (selector === null) {\r\n            throw \"Cannot find Node Port element with nodeID: [\" +\r\n                port.getParent().getID() +\r\n                \"] and name: [\" +\r\n                port.getName() +\r\n                \"]\";\r\n        }\r\n        return selector;\r\n    };\r\n    DiagramEngine.prototype.getPortCenter = function (port) {\r\n        var sourceElement = this.getNodePortElement(port);\r\n        var sourceRect = sourceElement.getBoundingClientRect();\r\n        var rel = this.getRelativePoint(sourceRect.left, sourceRect.top);\r\n        return {\r\n            x: sourceElement.offsetWidth / 2 +\r\n                (rel.x - this.diagramModel.getOffsetX()) / (this.diagramModel.getZoomLevel() / 100.0),\r\n            y: sourceElement.offsetHeight / 2 +\r\n                (rel.y - this.diagramModel.getOffsetY()) / (this.diagramModel.getZoomLevel() / 100.0)\r\n        };\r\n    };\r\n    return DiagramEngine;\r\n}(BaseEntity_1.BaseEntity));\r\nexports.DiagramEngine = DiagramEngine;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0RpYWdyYW1FbmdpbmUudHM/MDY0NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOb2RlV2lkZ2V0RmFjdG9yeSwgTGlua1dpZGdldEZhY3RvcnkgfSBmcm9tIFwiLi9XaWRnZXRGYWN0b3JpZXNcIjtcbmltcG9ydCB7IExpbmtNb2RlbCwgTm9kZU1vZGVsLCBCYXNlTW9kZWwsIEJhc2VNb2RlbExpc3RlbmVyLCBQb3J0TW9kZWwsIFBvaW50TW9kZWwgfSBmcm9tIFwiLi9Db21tb25cIjtcbmltcG9ydCB7IEJhc2VFbnRpdHksIEJhc2VMaXN0ZW5lciB9IGZyb20gXCIuL0Jhc2VFbnRpdHlcIjtcbmltcG9ydCB7IERpYWdyYW1Nb2RlbCB9IGZyb20gXCIuL0RpYWdyYW1Nb2RlbFwiO1xuaW1wb3J0IHsgQWJzdHJhY3RJbnN0YW5jZUZhY3RvcnkgfSBmcm9tIFwiLi9BYnN0cmFjdEluc3RhbmNlRmFjdG9yeVwiO1xuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG4vKipcbiAqIEBhdXRob3IgRHlsYW4gVm9yc3RlclxuICovXG5leHBvcnQgaW50ZXJmYWNlIERpYWdyYW1FbmdpbmVMaXN0ZW5lciBleHRlbmRzIEJhc2VMaXN0ZW5lciB7XG5cdG5vZGVGYWN0b3JpZXNVcGRhdGVkPygpOiB2b2lkO1xuXG5cdGxpbmtGYWN0b3JpZXNVcGRhdGVkPygpOiB2b2lkO1xuXG5cdHJlcGFpbnRDYW52YXM/KCk6IHZvaWQ7XG59XG5cbi8qKlxuICogUGFzc2VkIGFzIGEgcGFyYW1ldGVyIHRvIHRoZSBEaWFncmFtV2lkZ2V0XG4gKi9cbmV4cG9ydCBjbGFzcyBEaWFncmFtRW5naW5lIGV4dGVuZHMgQmFzZUVudGl0eTxEaWFncmFtRW5naW5lTGlzdGVuZXI+IHtcblx0bm9kZUZhY3RvcmllczogeyBbczogc3RyaW5nXTogTm9kZVdpZGdldEZhY3RvcnkgfTtcblx0bGlua0ZhY3RvcmllczogeyBbczogc3RyaW5nXTogTGlua1dpZGdldEZhY3RvcnkgfTtcblx0aW5zdGFuY2VGYWN0b3JpZXM6IHtcblx0XHRbczogc3RyaW5nXTogQWJzdHJhY3RJbnN0YW5jZUZhY3Rvcnk8QmFzZUVudGl0eTxCYXNlTGlzdGVuZXI+Pjtcblx0fTtcblxuXHRkaWFncmFtTW9kZWw6IERpYWdyYW1Nb2RlbDtcblx0Y2FudmFzOiBFbGVtZW50O1xuXHRwYWludGFibGVXaWRnZXRzOiB7fTtcblx0bGlua3NUaGF0SGF2ZUluaXRpYWxseVJlbmRlcmVkOiB7fTtcblxuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMuZGlhZ3JhbU1vZGVsID0gbmV3IERpYWdyYW1Nb2RlbCgpO1xuXHRcdHRoaXMubm9kZUZhY3RvcmllcyA9IHt9O1xuXHRcdHRoaXMubGlua0ZhY3RvcmllcyA9IHt9O1xuXHRcdHRoaXMuaW5zdGFuY2VGYWN0b3JpZXMgPSB7fTtcblx0XHR0aGlzLmNhbnZhcyA9IG51bGw7XG5cdFx0dGhpcy5wYWludGFibGVXaWRnZXRzID0gbnVsbDtcblx0XHR0aGlzLmxpbmtzVGhhdEhhdmVJbml0aWFsbHlSZW5kZXJlZCA9IHt9O1xuXHR9XG5cblx0cmVwYWludENhbnZhcygpIHtcblx0XHR0aGlzLml0ZXJhdGVMaXN0ZW5lcnMobGlzdGVuZXIgPT4ge1xuXHRcdFx0bGlzdGVuZXIucmVwYWludENhbnZhcyAmJiBsaXN0ZW5lci5yZXBhaW50Q2FudmFzKCk7XG5cdFx0fSk7XG5cdH1cblxuXHRjbGVhclJlcGFpbnRFbnRpdGllcygpIHtcblx0XHR0aGlzLnBhaW50YWJsZVdpZGdldHMgPSBudWxsO1xuXHR9XG5cblx0ZW5hYmxlUmVwYWludEVudGl0aWVzKGVudGl0aWVzOiBCYXNlTW9kZWw8QmFzZU1vZGVsTGlzdGVuZXI+W10pIHtcblx0XHR0aGlzLnBhaW50YWJsZVdpZGdldHMgPSB7fTtcblx0XHRlbnRpdGllcy5mb3JFYWNoKGVudGl0eSA9PiB7XG5cdFx0XHQvL2lmIGEgbm9kZSBpcyByZXF1ZXN0ZWQgdG8gcmVwYWludCwgYWRkIGFsbCBvZiBpdHMgbGlua3Ncblx0XHRcdGlmIChlbnRpdHkgaW5zdGFuY2VvZiBOb2RlTW9kZWwpIHtcblx0XHRcdFx0Xy5mb3JFYWNoKGVudGl0eS5nZXRQb3J0cygpLCBwb3J0ID0+IHtcblx0XHRcdFx0XHRfLmZvckVhY2gocG9ydC5nZXRMaW5rcygpLCBsaW5rID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGFpbnRhYmxlV2lkZ2V0c1tsaW5rLmdldElEKCldID0gdHJ1ZTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChlbnRpdHkgaW5zdGFuY2VvZiBQb2ludE1vZGVsKSB7XG5cdFx0XHRcdHRoaXMucGFpbnRhYmxlV2lkZ2V0c1tlbnRpdHkuZ2V0TGluaygpLmdldElEKCldID0gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5wYWludGFibGVXaWRnZXRzW2VudGl0eS5nZXRJRCgpXSA9IHRydWU7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2tzIHRvIHNlZSBpZiBhIG1vZGVsIGlzIGxvY2tlZCBieSBydW5uaW5nIHRocm91Z2hcblx0ICogaXRzIHBhcmVudHMgdG8gc2VlIGlmIHRoZXkgYXJlIGxvY2tlZCBmaXJzdFxuXHQgKi9cblx0aXNNb2RlbExvY2tlZChtb2RlbDogQmFzZUVudGl0eTxCYXNlTGlzdGVuZXI+KSB7XG5cdFx0Ly9hbHdheXMgY2hlY2sgdGhlIGRpYWdyYW0gbW9kZWxcblx0XHRpZiAodGhpcy5kaWFncmFtTW9kZWwuaXNMb2NrZWQoKSkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Ly9hIHBvaW50IGlzIGxvY2tlZCwgaWYgaXRzIG1vZGVsIGlzIGxvY2tlZFxuXHRcdGlmIChtb2RlbCBpbnN0YW5jZW9mIFBvcnRNb2RlbCkge1xuXHRcdFx0aWYgKG1vZGVsLmdldFBhcmVudCgpLmlzTG9ja2VkKCkpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly9hIHBvaW50IGlzIGxvY2tlZCwgaWYgaXRzIG1vZGVsIGlzIGxvY2tlZFxuXHRcdGlmIChtb2RlbCBpbnN0YW5jZW9mIFBvaW50TW9kZWwpIHtcblx0XHRcdGlmIChtb2RlbC5nZXRMaW5rKCkuaXNMb2NrZWQoKSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gbW9kZWwuaXNMb2NrZWQoKTtcblx0fVxuXG5cdGNhbkVudGl0eVJlcGFpbnQoYmFzZU1vZGVsOiBCYXNlTW9kZWw8QmFzZU1vZGVsTGlzdGVuZXI+KSB7XG5cdFx0Ly9ubyBydWxlcyBhcHBsaWVkLCBhbGxvdyByZXBhaW50XG5cdFx0aWYgKHRoaXMucGFpbnRhYmxlV2lkZ2V0cyA9PT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucGFpbnRhYmxlV2lkZ2V0c1tiYXNlTW9kZWwuZ2V0SUQoKV0gIT09IHVuZGVmaW5lZDtcblx0fVxuXG5cdHNldENhbnZhcyhjYW52YXM6IEVsZW1lbnQgfCBudWxsKSB7XG5cdFx0dGhpcy5jYW52YXMgPSBjYW52YXM7XG5cdH1cblxuXHRzZXREaWFncmFtTW9kZWwobW9kZWw6IERpYWdyYW1Nb2RlbCkge1xuXHRcdHRoaXMuZGlhZ3JhbU1vZGVsID0gbW9kZWw7XG5cdH1cblxuXHRnZXREaWFncmFtTW9kZWwoKTogRGlhZ3JhbU1vZGVsIHtcblx0XHRyZXR1cm4gdGhpcy5kaWFncmFtTW9kZWw7XG5cdH1cblxuXHRnZXROb2RlRmFjdG9yaWVzKCk6IHsgW3M6IHN0cmluZ106IE5vZGVXaWRnZXRGYWN0b3J5IH0ge1xuXHRcdHJldHVybiB0aGlzLm5vZGVGYWN0b3JpZXM7XG5cdH1cblxuXHRnZXRMaW5rRmFjdG9yaWVzKCk6IHsgW3M6IHN0cmluZ106IExpbmtXaWRnZXRGYWN0b3J5IH0ge1xuXHRcdHJldHVybiB0aGlzLmxpbmtGYWN0b3JpZXM7XG5cdH1cblxuXHRnZXRJbnN0YW5jZUZhY3RvcnkoY2xhc3NOYW1lOiBzdHJpbmcpOiBBYnN0cmFjdEluc3RhbmNlRmFjdG9yeTxCYXNlRW50aXR5PEJhc2VMaXN0ZW5lcj4+IHtcblx0XHRyZXR1cm4gdGhpcy5pbnN0YW5jZUZhY3Rvcmllc1tjbGFzc05hbWVdO1xuXHR9XG5cblx0cmVnaXN0ZXJJbnN0YW5jZUZhY3RvcnkoZmFjdG9yeTogQWJzdHJhY3RJbnN0YW5jZUZhY3Rvcnk8QmFzZUVudGl0eTxCYXNlTGlzdGVuZXI+Pikge1xuXHRcdHRoaXMuaW5zdGFuY2VGYWN0b3JpZXNbZmFjdG9yeS5nZXROYW1lKCldID0gZmFjdG9yeTtcblx0fVxuXG5cdHJlZ2lzdGVyTm9kZUZhY3RvcnkoZmFjdG9yeTogTm9kZVdpZGdldEZhY3RvcnkpIHtcblx0XHR0aGlzLm5vZGVGYWN0b3JpZXNbZmFjdG9yeS5nZXRUeXBlKCldID0gZmFjdG9yeTtcblx0XHR0aGlzLml0ZXJhdGVMaXN0ZW5lcnMobGlzdGVuZXIgPT4ge1xuXHRcdFx0aWYgKGxpc3RlbmVyLm5vZGVGYWN0b3JpZXNVcGRhdGVkKSBsaXN0ZW5lci5ub2RlRmFjdG9yaWVzVXBkYXRlZCgpO1xuXHRcdH0pO1xuXHR9XG5cblx0cmVnaXN0ZXJMaW5rRmFjdG9yeShmYWN0b3J5OiBMaW5rV2lkZ2V0RmFjdG9yeSkge1xuXHRcdHRoaXMubGlua0ZhY3Rvcmllc1tmYWN0b3J5LmdldFR5cGUoKV0gPSBmYWN0b3J5O1xuXHRcdHRoaXMuaXRlcmF0ZUxpc3RlbmVycyhsaXN0ZW5lciA9PiB7XG5cdFx0XHRpZiAobGlzdGVuZXIubGlua0ZhY3Rvcmllc1VwZGF0ZWQpIGxpc3RlbmVyLmxpbmtGYWN0b3JpZXNVcGRhdGVkKCk7XG5cdFx0fSk7XG5cdH1cblxuXHRnZXRGYWN0b3J5Rm9yTm9kZShub2RlOiBOb2RlTW9kZWwpOiBOb2RlV2lkZ2V0RmFjdG9yeSB8IG51bGwge1xuXHRcdGlmICh0aGlzLm5vZGVGYWN0b3JpZXNbbm9kZS5nZXRUeXBlKCldKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5ub2RlRmFjdG9yaWVzW25vZGUuZ2V0VHlwZSgpXTtcblx0XHR9XG5cdFx0Y29uc29sZS5sb2coXCJjYW5ub3QgZmluZCB3aWRnZXQgZmFjdG9yeSBmb3Igbm9kZSBvZiB0eXBlOiBbXCIgKyBub2RlLmdldFR5cGUoKSArIFwiXVwiKTtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdGdldEZhY3RvcnlGb3JMaW5rKGxpbms6IExpbmtNb2RlbCk6IExpbmtXaWRnZXRGYWN0b3J5IHwgbnVsbCB7XG5cdFx0aWYgKHRoaXMubGlua0ZhY3Rvcmllc1tsaW5rLmdldFR5cGUoKV0pIHtcblx0XHRcdHJldHVybiB0aGlzLmxpbmtGYWN0b3JpZXNbbGluay5nZXRUeXBlKCldO1xuXHRcdH1cblx0XHRjb25zb2xlLmxvZyhcImNhbm5vdCBmaW5kIHdpZGdldCBmYWN0b3J5IGZvciBsaW5rIG9mIHR5cGU6IFtcIiArIGxpbmsuZ2V0VHlwZSgpICsgXCJdXCIpO1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Z2VuZXJhdGVXaWRnZXRGb3JMaW5rKGxpbms6IExpbmtNb2RlbCk6IEpTWC5FbGVtZW50IHwgbnVsbCB7XG5cdFx0dmFyIGxpbmtGYWN0b3J5ID0gdGhpcy5nZXRGYWN0b3J5Rm9yTGluayhsaW5rKTtcblx0XHRpZiAoIWxpbmtGYWN0b3J5KSB7XG5cdFx0XHR0aHJvdyBcIkNhbm5vdCBmaW5kIGxpbmsgZmFjdG9yeSBmb3IgbGluazogXCIgKyBsaW5rLmdldFR5cGUoKTtcblx0XHR9XG5cdFx0cmV0dXJuIGxpbmtGYWN0b3J5LmdlbmVyYXRlUmVhY3RXaWRnZXQodGhpcywgbGluayk7XG5cdH1cblxuXHRnZW5lcmF0ZVdpZGdldEZvck5vZGUobm9kZTogTm9kZU1vZGVsKTogSlNYLkVsZW1lbnQgfCBudWxsIHtcblx0XHR2YXIgbm9kZUZhY3RvcnkgPSB0aGlzLmdldEZhY3RvcnlGb3JOb2RlKG5vZGUpO1xuXHRcdGlmICghbm9kZUZhY3RvcnkpIHtcblx0XHRcdHRocm93IFwiQ2Fubm90IGZpbmQgd2lkZ2V0IGZhY3RvcnkgZm9yIG5vZGU6IFwiICsgbm9kZS5nZXRUeXBlKCk7XG5cdFx0fVxuXHRcdHJldHVybiBub2RlRmFjdG9yeS5nZW5lcmF0ZVJlYWN0V2lkZ2V0KHRoaXMsIG5vZGUpO1xuXHR9XG5cblx0Z2V0UmVsYXRpdmVNb3VzZVBvaW50KGV2ZW50KTogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9IHtcblx0XHR2YXIgcG9pbnQgPSB0aGlzLmdldFJlbGF0aXZlUG9pbnQoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHg6IChwb2ludC54IC0gdGhpcy5kaWFncmFtTW9kZWwuZ2V0T2Zmc2V0WCgpKSAvICh0aGlzLmRpYWdyYW1Nb2RlbC5nZXRab29tTGV2ZWwoKSAvIDEwMC4wKSxcblx0XHRcdHk6IChwb2ludC55IC0gdGhpcy5kaWFncmFtTW9kZWwuZ2V0T2Zmc2V0WSgpKSAvICh0aGlzLmRpYWdyYW1Nb2RlbC5nZXRab29tTGV2ZWwoKSAvIDEwMC4wKVxuXHRcdH07XG5cdH1cblxuXHRnZXRSZWxhdGl2ZVBvaW50KHgsIHkpIHtcblx0XHR2YXIgY2FudmFzUmVjdCA9IHRoaXMuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdHJldHVybiB7IHg6IHggLSBjYW52YXNSZWN0LmxlZnQsIHk6IHkgLSBjYW52YXNSZWN0LnRvcCB9O1xuXHR9XG5cblx0Z2V0Tm9kZVBvcnRFbGVtZW50KHBvcnQ6IFBvcnRNb2RlbCk6IGFueSB7XG5cdFx0dmFyIHNlbGVjdG9yID0gdGhpcy5jYW52YXMucXVlcnlTZWxlY3Rvcihcblx0XHRcdCcucG9ydFtkYXRhLW5hbWU9XCInICsgcG9ydC5nZXROYW1lKCkgKyAnXCJdW2RhdGEtbm9kZWlkPVwiJyArIHBvcnQuZ2V0UGFyZW50KCkuZ2V0SUQoKSArICdcIl0nXG5cdFx0KTtcblx0XHRpZiAoc2VsZWN0b3IgPT09IG51bGwpIHtcblx0XHRcdHRocm93IFwiQ2Fubm90IGZpbmQgTm9kZSBQb3J0IGVsZW1lbnQgd2l0aCBub2RlSUQ6IFtcIiArXG5cdFx0XHRcdHBvcnQuZ2V0UGFyZW50KCkuZ2V0SUQoKSArXG5cdFx0XHRcdFwiXSBhbmQgbmFtZTogW1wiICtcblx0XHRcdFx0cG9ydC5nZXROYW1lKCkgK1xuXHRcdFx0XHRcIl1cIjtcblx0XHR9XG5cdFx0cmV0dXJuIHNlbGVjdG9yO1xuXHR9XG5cblx0Z2V0UG9ydENlbnRlcihwb3J0OiBQb3J0TW9kZWwpIHtcblx0XHR2YXIgc291cmNlRWxlbWVudCA9IHRoaXMuZ2V0Tm9kZVBvcnRFbGVtZW50KHBvcnQpO1xuXHRcdHZhciBzb3VyY2VSZWN0ID0gc291cmNlRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXHRcdHZhciByZWwgPSB0aGlzLmdldFJlbGF0aXZlUG9pbnQoc291cmNlUmVjdC5sZWZ0LCBzb3VyY2VSZWN0LnRvcCk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0eDpcblx0XHRcdFx0c291cmNlRWxlbWVudC5vZmZzZXRXaWR0aCAvIDIgK1xuXHRcdFx0XHQocmVsLnggLSB0aGlzLmRpYWdyYW1Nb2RlbC5nZXRPZmZzZXRYKCkpIC8gKHRoaXMuZGlhZ3JhbU1vZGVsLmdldFpvb21MZXZlbCgpIC8gMTAwLjApLFxuXHRcdFx0eTpcblx0XHRcdFx0c291cmNlRWxlbWVudC5vZmZzZXRIZWlnaHQgLyAyICtcblx0XHRcdFx0KHJlbC55IC0gdGhpcy5kaWFncmFtTW9kZWwuZ2V0T2Zmc2V0WSgpKSAvICh0aGlzLmRpYWdyYW1Nb2RlbC5nZXRab29tTGV2ZWwoKSAvIDEwMC4wKVxuXHRcdH07XG5cdH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvRGlhZ3JhbUVuZ2luZS50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFZQTs7QUFFQTtBQUNBO0FBQUE7QUFZQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUE3TUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///24\n");

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Common_1 = __webpack_require__(2);\r\nvar AbstractInstanceFactory_1 = __webpack_require__(4);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar LinkInstanceFactory = /** @class */ (function (_super) {\r\n    __extends(LinkInstanceFactory, _super);\r\n    function LinkInstanceFactory() {\r\n        return _super.call(this, \"LinkModel\") || this;\r\n    }\r\n    LinkInstanceFactory.prototype.getInstance = function () {\r\n        return new Common_1.LinkModel();\r\n    };\r\n    return LinkInstanceFactory;\r\n}(AbstractInstanceFactory_1.AbstractInstanceFactory));\r\nexports.LinkInstanceFactory = LinkInstanceFactory;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0xpbmtJbnN0YW5jZUZhY3RvcnkudHM/ODQ4YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMaW5rTW9kZWwgfSBmcm9tIFwiLi9Db21tb25cIjtcbmltcG9ydCAqIGFzIF8gZnJvbSBcImxvZGFzaFwiO1xuaW1wb3J0IHsgQWJzdHJhY3RJbnN0YW5jZUZhY3RvcnkgfSBmcm9tIFwiLi9BYnN0cmFjdEluc3RhbmNlRmFjdG9yeVwiO1xuLyoqXG4gKiBAYXV0aG9yIER5bGFuIFZvcnN0ZXJcbiAqL1xuZXhwb3J0IGNsYXNzIExpbmtJbnN0YW5jZUZhY3RvcnkgZXh0ZW5kcyBBYnN0cmFjdEluc3RhbmNlRmFjdG9yeTxMaW5rTW9kZWw+IHtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0c3VwZXIoXCJMaW5rTW9kZWxcIik7XG5cdH1cblxuXHRnZXRJbnN0YW5jZSgpIHtcblx0XHRyZXR1cm4gbmV3IExpbmtNb2RlbCgpO1xuXHR9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL0xpbmtJbnN0YW5jZUZhY3RvcnkudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBUkE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///25\n");

/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(0);\r\nvar _ = __webpack_require__(1);\r\nvar Common_1 = __webpack_require__(2);\r\nvar LinkLayerWidget_1 = __webpack_require__(13);\r\nvar NodeLayerWidget_1 = __webpack_require__(15);\r\nvar Toolkit_1 = __webpack_require__(6);\r\nvar CanvasActions_1 = __webpack_require__(12);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar DiagramWidget = /** @class */ (function (_super) {\r\n    __extends(DiagramWidget, _super);\r\n    function DiagramWidget(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.onMouseMove = _this.onMouseMove.bind(_this);\r\n        _this.onMouseUp = _this.onMouseUp.bind(_this);\r\n        _this.state = {\r\n            action: null,\r\n            wasMoved: false,\r\n            renderedNodes: false,\r\n            windowListener: null,\r\n            diagramEngineListener: null,\r\n            document: null\r\n        };\r\n        return _this;\r\n    }\r\n    DiagramWidget.prototype.componentWillUnmount = function () {\r\n        this.props.diagramEngine.removeListener(this.state.diagramEngineListener);\r\n        this.props.diagramEngine.setCanvas(null);\r\n        window.removeEventListener(\"keyup\", this.onKeyUpPointer);\r\n        window.removeEventListener(\"mouseUp\", this.onMouseUp);\r\n        window.removeEventListener(\"mouseMove\", this.onMouseMove);\r\n    };\r\n    DiagramWidget.prototype.componentWillUpdate = function (nextProps) {\r\n        if (this.props.diagramEngine.diagramModel.id !== nextProps.diagramEngine.diagramModel.id) {\r\n            this.setState({ renderedNodes: false });\r\n            nextProps.diagramEngine.diagramModel.rendered = true;\r\n        }\r\n        if (!nextProps.diagramEngine.diagramModel.rendered) {\r\n            this.setState({ renderedNodes: false });\r\n            nextProps.diagramEngine.diagramModel.rendered = true;\r\n        }\r\n    };\r\n    DiagramWidget.prototype.componentDidUpdate = function () {\r\n        if (!this.state.renderedNodes) {\r\n            this.setState({\r\n                renderedNodes: true\r\n            });\r\n        }\r\n    };\r\n    DiagramWidget.prototype.componentDidMount = function () {\r\n        var _this = this;\r\n        this.onKeyUpPointer = this.onKeyUp.bind(this);\r\n        //add a keyboard listener\r\n        this.setState({\r\n            document: document,\r\n            renderedNodes: true,\r\n            diagramEngineListener: this.props.diagramEngine.addListener({\r\n                repaintCanvas: function () {\r\n                    _this.forceUpdate();\r\n                }\r\n            })\r\n        });\r\n        window.addEventListener(\"keyup\", this.onKeyUpPointer, false);\r\n        window.focus();\r\n    };\r\n    /**\r\n     * Gets a model and element under the mouse cursor\r\n     */\r\n    DiagramWidget.prototype.getMouseElement = function (event) {\r\n        var target = event.target;\r\n        var diagramModel = this.props.diagramEngine.diagramModel;\r\n        //is it a port\r\n        var element = Toolkit_1.Toolkit.closest(target, \".port[data-name]\");\r\n        if (element) {\r\n            var nodeElement = Toolkit_1.Toolkit.closest(target, \".node[data-nodeid]\");\r\n            return {\r\n                model: diagramModel.getNode(nodeElement.getAttribute(\"data-nodeid\")).getPort(element.getAttribute(\"data-name\")),\r\n                element: element\r\n            };\r\n        }\r\n        //look for a point\r\n        element = Toolkit_1.Toolkit.closest(target, \".point[data-id]\");\r\n        if (element) {\r\n            return {\r\n                model: diagramModel.getLink(element.getAttribute(\"data-linkid\")).getPointModel(element.getAttribute(\"data-id\")),\r\n                element: element\r\n            };\r\n        }\r\n        //look for a link\r\n        element = Toolkit_1.Toolkit.closest(target, \"[data-linkid]\");\r\n        if (element) {\r\n            return {\r\n                model: diagramModel.getLink(element.getAttribute(\"data-linkid\")),\r\n                element: element\r\n            };\r\n        }\r\n        //look for a node\r\n        element = Toolkit_1.Toolkit.closest(target, \".node[data-nodeid]\");\r\n        if (element) {\r\n            return {\r\n                model: diagramModel.getNode(element.getAttribute(\"data-nodeid\")),\r\n                element: element\r\n            };\r\n        }\r\n        return null;\r\n    };\r\n    DiagramWidget.prototype.fireAction = function () {\r\n        if (this.state.action && this.props.actionStillFiring) {\r\n            this.props.actionStillFiring(this.state.action);\r\n        }\r\n    };\r\n    DiagramWidget.prototype.stopFiringAction = function (shouldSkipEvent) {\r\n        if (this.props.actionStoppedFiring && !shouldSkipEvent) {\r\n            this.props.actionStoppedFiring(this.state.action);\r\n        }\r\n        this.setState({ action: null });\r\n    };\r\n    DiagramWidget.prototype.startFiringAction = function (action) {\r\n        var setState = true;\r\n        if (this.props.actionStartedFiring) {\r\n            setState = this.props.actionStartedFiring(action);\r\n        }\r\n        if (setState) {\r\n            this.setState({ action: action });\r\n        }\r\n    };\r\n    DiagramWidget.prototype.onMouseMove = function (event) {\r\n        var _this = this;\r\n        var diagramEngine = this.props.diagramEngine;\r\n        var diagramModel = diagramEngine.getDiagramModel();\r\n        //select items so draw a bounding box\r\n        if (this.state.action instanceof CanvasActions_1.SelectingAction) {\r\n            var relative = diagramEngine.getRelativePoint(event.clientX, event.clientY);\r\n            _.forEach(diagramModel.getNodes(), function (node) {\r\n                if (_this.state.action.containsElement(node.x, node.y, diagramModel)) {\r\n                    node.setSelected(true);\r\n                }\r\n            });\r\n            _.forEach(diagramModel.getLinks(), function (link) {\r\n                var allSelected = true;\r\n                _.forEach(link.points, function (point) {\r\n                    if (_this.state.action.containsElement(point.x, point.y, diagramModel)) {\r\n                        point.setSelected(true);\r\n                    }\r\n                    else {\r\n                        allSelected = false;\r\n                    }\r\n                });\r\n                if (allSelected) {\r\n                    link.setSelected(true);\r\n                }\r\n            });\r\n            this.state.action.mouseX2 = relative.x;\r\n            this.state.action.mouseY2 = relative.y;\r\n            this.fireAction();\r\n            this.setState({ action: this.state.action });\r\n            return;\r\n        }\r\n        else if (this.state.action instanceof CanvasActions_1.MoveItemsAction) {\r\n            var amountX_1 = event.clientX - this.state.action.mouseX;\r\n            var amountY_1 = event.clientY - this.state.action.mouseY;\r\n            var amountZoom_1 = diagramModel.getZoomLevel() / 100;\r\n            _.forEach(this.state.action.selectionModels, function (model) {\r\n                // in this case we need to also work out the relative grid position\r\n                if (model.model instanceof Common_1.NodeModel ||\r\n                    (model.model instanceof Common_1.PointModel && !model.model.isConnectedToPort())) {\r\n                    model.model.x = diagramModel.getGridPosition(model.initialX + amountX_1 / amountZoom_1);\r\n                    model.model.y = diagramModel.getGridPosition(model.initialY + amountY_1 / amountZoom_1);\r\n                }\r\n                else if (model.model instanceof Common_1.PointModel) {\r\n                    // we want points that are connected to ports, to not neccesarilly snap to grid\r\n                    // this stuff needs to be pixel perfect, dont touch it\r\n                    model.model.x = model.initialX + diagramModel.getGridPosition(amountX_1 / amountZoom_1);\r\n                    model.model.y = model.initialY + diagramModel.getGridPosition(amountY_1 / amountZoom_1);\r\n                }\r\n            });\r\n            this.fireAction();\r\n            this.forceUpdate();\r\n        }\r\n        else if (this.state.action instanceof CanvasActions_1.MoveCanvasAction) {\r\n            //translate the actual canvas\r\n            if (this.props.allowCanvasTranslation) {\r\n                diagramModel.setOffset(this.state.action.initialOffsetX + (event.clientX - this.state.action.mouseX), this.state.action.initialOffsetY + (event.clientY - this.state.action.mouseY));\r\n                this.fireAction();\r\n                this.forceUpdate();\r\n            }\r\n        }\r\n    };\r\n    DiagramWidget.prototype.onKeyUp = function (event) {\r\n        var _this = this;\r\n        //delete all selected\r\n        if (this.props.deleteKeys.indexOf(event.keyCode) !== -1) {\r\n            _.forEach(this.props.diagramEngine.getDiagramModel().getSelectedItems(), function (element) {\r\n                //only delete items which are not locked\r\n                if (!_this.props.diagramEngine.isModelLocked(element)) {\r\n                    element.remove();\r\n                }\r\n            });\r\n            this.forceUpdate();\r\n        }\r\n    };\r\n    DiagramWidget.prototype.onMouseUp = function (event) {\r\n        var _this = this;\r\n        var diagramEngine = this.props.diagramEngine;\r\n        //are we going to connect a link to something?\r\n        if (this.state.action instanceof CanvasActions_1.MoveItemsAction) {\r\n            var element = this.getMouseElement(event);\r\n            var linkConnected = false;\r\n            _.forEach(this.state.action.selectionModels, function (model) {\r\n                //only care about points connecting to things\r\n                if (!(model.model instanceof Common_1.PointModel)) {\r\n                    return;\r\n                }\r\n                if (element && element.model instanceof Common_1.PortModel && !diagramEngine.isModelLocked(element.model)) {\r\n                    linkConnected = true;\r\n                    var link = model.model.getLink();\r\n                    link.setTargetPort(element.model);\r\n                    delete _this.props.diagramEngine.linksThatHaveInitiallyRendered[link.getID()];\r\n                }\r\n            });\r\n            //do we want to allow loose links on the diagram model or not\r\n            if (!linkConnected && !this.props.allowLooseLinks) {\r\n                _.forEach(this.state.action.selectionModels, function (model) {\r\n                    //only care about points connecting to things\r\n                    if (!(model.model instanceof Common_1.PointModel)) {\r\n                        return;\r\n                    }\r\n                    var link = model.model.getLink();\r\n                    if (link.isLastPoint(model.model)) {\r\n                        link.remove();\r\n                    }\r\n                });\r\n            }\r\n            diagramEngine.clearRepaintEntities();\r\n            this.stopFiringAction(!this.state.wasMoved);\r\n        }\r\n        else {\r\n            diagramEngine.clearRepaintEntities();\r\n            this.stopFiringAction();\r\n        }\r\n        this.state.document.removeEventListener(\"mousemove\", this.onMouseMove);\r\n        this.state.document.removeEventListener(\"mouseup\", this.onMouseUp);\r\n    };\r\n    DiagramWidget.prototype.drawSelectionBox = function () {\r\n        var dimensions = this.state.action.getBoxDimensions();\r\n        return (React.createElement(\"div\", { className: \"selector\", style: {\r\n                top: dimensions.top,\r\n                left: dimensions.left,\r\n                width: dimensions.width,\r\n                height: dimensions.height\r\n            } }));\r\n    };\r\n    DiagramWidget.prototype.render = function () {\r\n        var _this = this;\r\n        var diagramEngine = this.props.diagramEngine;\r\n        var diagramModel = diagramEngine.getDiagramModel();\r\n        return (React.createElement(\"div\", { ref: function (ref) {\r\n                if (ref) {\r\n                    _this.props.diagramEngine.setCanvas(ref);\r\n                }\r\n            }, className: \"storm-diagrams-canvas\", onWheel: function (event) {\r\n                if (_this.props.allowCanvasZoom) {\r\n                    event.preventDefault();\r\n                    event.stopPropagation();\r\n                    var oldZoomFactor = diagramModel.getZoomLevel() / 100;\r\n                    var scrollDelta = _this.props.inverseZoom ? -event.deltaY : event.deltaY;\r\n                    //check if it is pinch gesture\r\n                    if (event.ctrlKey && scrollDelta % 1 !== 0) {\r\n                        /*Chrome and Firefox sends wheel event with deltaY that\r\n                            have fractional part, also `ctrlKey` prop of the event is true\r\n                            though ctrl isn't pressed\r\n                        */\r\n                        scrollDelta /= 3;\r\n                    }\r\n                    else {\r\n                        scrollDelta /= 60;\r\n                    }\r\n                    if (diagramModel.getZoomLevel() + scrollDelta > 10) {\r\n                        diagramModel.setZoomLevel(diagramModel.getZoomLevel() + scrollDelta);\r\n                    }\r\n                    var zoomFactor = diagramModel.getZoomLevel() / 100;\r\n                    var boundingRect = event.currentTarget.getBoundingClientRect();\r\n                    var clientWidth = boundingRect.width;\r\n                    var clientHeight = boundingRect.height;\r\n                    // compute difference between rect before and after scroll\r\n                    var widthDiff = clientWidth * zoomFactor - clientWidth * oldZoomFactor;\r\n                    var heightDiff = clientHeight * zoomFactor - clientHeight * oldZoomFactor;\r\n                    // compute mouse coords relative to canvas\r\n                    var clientX = event.clientX - boundingRect.left;\r\n                    var clientY = event.clientY - boundingRect.top;\r\n                    // compute width and height increment factor\r\n                    var xFactor = (clientX - diagramModel.getOffsetX()) / oldZoomFactor / clientWidth;\r\n                    var yFactor = (clientY - diagramModel.getOffsetY()) / oldZoomFactor / clientHeight;\r\n                    diagramModel.setOffset(diagramModel.getOffsetX() - widthDiff * xFactor, diagramModel.getOffsetY() - heightDiff * yFactor);\r\n                    diagramEngine.enableRepaintEntities([]);\r\n                    _this.forceUpdate();\r\n                }\r\n            }, onMouseDown: function (event) {\r\n                _this.setState(__assign({}, _this.state, { wasMoved: false }));\r\n                diagramEngine.clearRepaintEntities();\r\n                var model = _this.getMouseElement(event);\r\n                //the canvas was selected\r\n                if (model === null) {\r\n                    //is it a multiple selection\r\n                    if (event.shiftKey) {\r\n                        var relative = diagramEngine.getRelativePoint(event.clientX, event.clientY);\r\n                        _this.startFiringAction(new CanvasActions_1.SelectingAction(relative.x, relative.y));\r\n                    }\r\n                    else {\r\n                        //its a drag the canvas event\r\n                        diagramModel.clearSelection();\r\n                        _this.startFiringAction(new CanvasActions_1.MoveCanvasAction(event.clientX, event.clientY, diagramModel));\r\n                    }\r\n                }\r\n                else if (model.model instanceof Common_1.PortModel) {\r\n                    //its a port element, we want to drag a link\r\n                    if (!_this.props.diagramEngine.isModelLocked(model.model)) {\r\n                        var relative = diagramEngine.getRelativeMousePoint(event);\r\n                        var link = new Common_1.LinkModel();\r\n                        link.setSourcePort(model.model);\r\n                        link.getFirstPoint().updateLocation(relative);\r\n                        link.getLastPoint().updateLocation(relative);\r\n                        diagramModel.clearSelection();\r\n                        link.getLastPoint().setSelected(true);\r\n                        diagramModel.addLink(link);\r\n                        _this.startFiringAction(new CanvasActions_1.MoveItemsAction(event.clientX, event.clientY, diagramEngine));\r\n                    }\r\n                    else {\r\n                        diagramModel.clearSelection();\r\n                    }\r\n                }\r\n                else {\r\n                    //its some or other element, probably want to move it\r\n                    if (!event.shiftKey && !model.model.isSelected()) {\r\n                        diagramModel.clearSelection();\r\n                    }\r\n                    model.model.setSelected(true);\r\n                    _this.startFiringAction(new CanvasActions_1.MoveItemsAction(event.clientX, event.clientY, diagramEngine));\r\n                }\r\n                _this.state.document.addEventListener(\"mousemove\", _this.onMouseMove);\r\n                _this.state.document.addEventListener(\"mouseup\", _this.onMouseUp);\r\n            } },\r\n            this.state.renderedNodes && (React.createElement(LinkLayerWidget_1.LinkLayerWidget, { diagramEngine: diagramEngine, pointAdded: function (point, event) {\r\n                    _this.state.document.addEventListener(\"mousemove\", _this.onMouseMove);\r\n                    _this.state.document.addEventListener(\"mouseup\", _this.onMouseUp);\r\n                    event.stopPropagation();\r\n                    diagramModel.clearSelection(point);\r\n                    _this.setState({\r\n                        action: new CanvasActions_1.MoveItemsAction(event.clientX, event.clientY, diagramEngine)\r\n                    });\r\n                } })),\r\n            React.createElement(NodeLayerWidget_1.NodeLayerWidget, { diagramEngine: diagramEngine }),\r\n            this.state.action instanceof CanvasActions_1.SelectingAction && this.drawSelectionBox()));\r\n    };\r\n    DiagramWidget.defaultProps = {\r\n        diagramEngine: null,\r\n        allowLooseLinks: true,\r\n        allowCanvasTranslation: true,\r\n        allowCanvasZoom: true,\r\n        inverseZoom: false,\r\n        deleteKeys: [46, 8]\r\n    };\r\n    return DiagramWidget;\r\n}(React.Component));\r\nexports.DiagramWidget = DiagramWidget;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3dpZGdldHMvRGlhZ3JhbVdpZGdldC50c3g/YmIzNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IERpYWdyYW1FbmdpbmUgfSBmcm9tIFwiLi4vRGlhZ3JhbUVuZ2luZVwiO1xuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgeyBQb2ludE1vZGVsLCBOb2RlTW9kZWwsIEJhc2VNb2RlbCwgQmFzZU1vZGVsTGlzdGVuZXIsIExpbmtNb2RlbCwgUG9ydE1vZGVsIH0gZnJvbSBcIi4uL0NvbW1vblwiO1xuaW1wb3J0IHsgTGlua0xheWVyV2lkZ2V0IH0gZnJvbSBcIi4vTGlua0xheWVyV2lkZ2V0XCI7XG5pbXBvcnQgeyBOb2RlTGF5ZXJXaWRnZXQgfSBmcm9tIFwiLi9Ob2RlTGF5ZXJXaWRnZXRcIjtcbmltcG9ydCB7IFRvb2xraXQgfSBmcm9tIFwiLi4vVG9vbGtpdFwiO1xuaW1wb3J0IHsgQmFzZUFjdGlvbiwgTW92ZUNhbnZhc0FjdGlvbiwgTW92ZUl0ZW1zQWN0aW9uLCBTZWxlY3RpbmdBY3Rpb24gfSBmcm9tIFwiLi4vQ2FudmFzQWN0aW9uc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNlbGVjdGlvbk1vZGVsIHtcblx0bW9kZWw6IEJhc2VNb2RlbDxCYXNlTW9kZWxMaXN0ZW5lcj47XG5cdGluaXRpYWxYOiBudW1iZXI7XG5cdGluaXRpYWxZOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGlhZ3JhbVByb3BzIHtcblx0ZGlhZ3JhbUVuZ2luZTogRGlhZ3JhbUVuZ2luZTtcblxuXHRhbGxvd0xvb3NlTGlua3M/OiBib29sZWFuO1xuXHRhbGxvd0NhbnZhc1RyYW5zbGF0aW9uPzogYm9vbGVhbjtcblx0YWxsb3dDYW52YXNab29tPzogYm9vbGVhbjtcblx0aW52ZXJzZVpvb20/OiBib29sZWFuO1xuXG5cdGFjdGlvblN0YXJ0ZWRGaXJpbmc/OiAoYWN0aW9uOiBCYXNlQWN0aW9uKSA9PiBib29sZWFuO1xuXHRhY3Rpb25TdGlsbEZpcmluZz86IChhY3Rpb246IEJhc2VBY3Rpb24pID0+IHZvaWQ7XG5cdGFjdGlvblN0b3BwZWRGaXJpbmc/OiAoYWN0aW9uOiBCYXNlQWN0aW9uKSA9PiB2b2lkO1xuXG5cdGRlbGV0ZUtleXM/OiBudW1iZXJbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEaWFncmFtU3RhdGUge1xuXHRhY3Rpb246IEJhc2VBY3Rpb24gfCBudWxsO1xuXHR3YXNNb3ZlZDogYm9vbGVhbjtcblx0cmVuZGVyZWROb2RlczogYm9vbGVhbjtcblx0d2luZG93TGlzdGVuZXI6IGFueTtcblx0ZGlhZ3JhbUVuZ2luZUxpc3RlbmVyOiBhbnk7XG5cdGRvY3VtZW50OiBhbnk7XG59XG5cbi8qKlxuICogQGF1dGhvciBEeWxhbiBWb3JzdGVyXG4gKi9cbmV4cG9ydCBjbGFzcyBEaWFncmFtV2lkZ2V0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PERpYWdyYW1Qcm9wcywgRGlhZ3JhbVN0YXRlPiB7XG5cdHB1YmxpYyBzdGF0aWMgZGVmYXVsdFByb3BzOiBEaWFncmFtUHJvcHMgPSB7XG5cdFx0ZGlhZ3JhbUVuZ2luZTogbnVsbCxcblx0XHRhbGxvd0xvb3NlTGlua3M6IHRydWUsXG5cdFx0YWxsb3dDYW52YXNUcmFuc2xhdGlvbjogdHJ1ZSxcblx0XHRhbGxvd0NhbnZhc1pvb206IHRydWUsXG5cdFx0aW52ZXJzZVpvb206IGZhbHNlLFxuXHRcdGRlbGV0ZUtleXM6IFs0NiwgOF1cblx0fTtcblxuXHRjb25zdHJ1Y3Rvcihwcm9wczogRGlhZ3JhbVByb3BzKSB7XG5cdFx0c3VwZXIocHJvcHMpO1xuXHRcdHRoaXMub25Nb3VzZU1vdmUgPSB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcyk7XG5cdFx0dGhpcy5vbk1vdXNlVXAgPSB0aGlzLm9uTW91c2VVcC5iaW5kKHRoaXMpO1xuXHRcdHRoaXMuc3RhdGUgPSB7XG5cdFx0XHRhY3Rpb246IG51bGwsXG5cdFx0XHR3YXNNb3ZlZDogZmFsc2UsXG5cdFx0XHRyZW5kZXJlZE5vZGVzOiBmYWxzZSxcblx0XHRcdHdpbmRvd0xpc3RlbmVyOiBudWxsLFxuXHRcdFx0ZGlhZ3JhbUVuZ2luZUxpc3RlbmVyOiBudWxsLFxuXHRcdFx0ZG9jdW1lbnQ6IG51bGxcblx0XHR9O1xuXHR9XG5cblx0b25LZXlVcFBvaW50ZXI6IG51bGw7XG5cblx0Y29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdFx0dGhpcy5wcm9wcy5kaWFncmFtRW5naW5lLnJlbW92ZUxpc3RlbmVyKHRoaXMuc3RhdGUuZGlhZ3JhbUVuZ2luZUxpc3RlbmVyKTtcblx0XHR0aGlzLnByb3BzLmRpYWdyYW1FbmdpbmUuc2V0Q2FudmFzKG51bGwpO1xuXHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5vbktleVVwUG9pbnRlcik7XG5cdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZVVwXCIsIHRoaXMub25Nb3VzZVVwKTtcblx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlTW92ZVwiLCB0aGlzLm9uTW91c2VNb3ZlKTtcblx0fVxuXG5cdGNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzOiBEaWFncmFtUHJvcHMpIHtcblx0XHRpZiAodGhpcy5wcm9wcy5kaWFncmFtRW5naW5lLmRpYWdyYW1Nb2RlbC5pZCAhPT0gbmV4dFByb3BzLmRpYWdyYW1FbmdpbmUuZGlhZ3JhbU1vZGVsLmlkKSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHsgcmVuZGVyZWROb2RlczogZmFsc2UgfSk7XG5cdFx0XHRuZXh0UHJvcHMuZGlhZ3JhbUVuZ2luZS5kaWFncmFtTW9kZWwucmVuZGVyZWQgPSB0cnVlO1xuXHRcdH1cblx0XHRpZiAoIW5leHRQcm9wcy5kaWFncmFtRW5naW5lLmRpYWdyYW1Nb2RlbC5yZW5kZXJlZCkge1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7IHJlbmRlcmVkTm9kZXM6IGZhbHNlIH0pO1xuXHRcdFx0bmV4dFByb3BzLmRpYWdyYW1FbmdpbmUuZGlhZ3JhbU1vZGVsLnJlbmRlcmVkID0gdHJ1ZTtcblx0XHR9XG5cdH1cblxuXHRjb21wb25lbnREaWRVcGRhdGUoKSB7XG5cdFx0aWYgKCF0aGlzLnN0YXRlLnJlbmRlcmVkTm9kZXMpIHtcblx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRyZW5kZXJlZE5vZGVzOiB0cnVlXG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHRjb21wb25lbnREaWRNb3VudCgpIHtcblx0XHR0aGlzLm9uS2V5VXBQb2ludGVyID0gdGhpcy5vbktleVVwLmJpbmQodGhpcyk7XG5cblx0XHQvL2FkZCBhIGtleWJvYXJkIGxpc3RlbmVyXG5cdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRkb2N1bWVudDogZG9jdW1lbnQsXG5cdFx0XHRyZW5kZXJlZE5vZGVzOiB0cnVlLFxuXHRcdFx0ZGlhZ3JhbUVuZ2luZUxpc3RlbmVyOiB0aGlzLnByb3BzLmRpYWdyYW1FbmdpbmUuYWRkTGlzdGVuZXIoe1xuXHRcdFx0XHRyZXBhaW50Q2FudmFzOiAoKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5mb3JjZVVwZGF0ZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdH0pO1xuXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLm9uS2V5VXBQb2ludGVyLCBmYWxzZSk7XG5cblx0XHR3aW5kb3cuZm9jdXMoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIGEgbW9kZWwgYW5kIGVsZW1lbnQgdW5kZXIgdGhlIG1vdXNlIGN1cnNvclxuXHQgKi9cblx0Z2V0TW91c2VFbGVtZW50KGV2ZW50KTogeyBtb2RlbDogQmFzZU1vZGVsPEJhc2VNb2RlbExpc3RlbmVyPjsgZWxlbWVudDogRWxlbWVudCB9IHtcblx0XHR2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEVsZW1lbnQ7XG5cdFx0dmFyIGRpYWdyYW1Nb2RlbCA9IHRoaXMucHJvcHMuZGlhZ3JhbUVuZ2luZS5kaWFncmFtTW9kZWw7XG5cblx0XHQvL2lzIGl0IGEgcG9ydFxuXHRcdHZhciBlbGVtZW50ID0gVG9vbGtpdC5jbG9zZXN0KHRhcmdldCwgXCIucG9ydFtkYXRhLW5hbWVdXCIpO1xuXHRcdGlmIChlbGVtZW50KSB7XG5cdFx0XHR2YXIgbm9kZUVsZW1lbnQgPSBUb29sa2l0LmNsb3Nlc3QodGFyZ2V0LCBcIi5ub2RlW2RhdGEtbm9kZWlkXVwiKSBhcyBIVE1MRWxlbWVudDtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdG1vZGVsOiBkaWFncmFtTW9kZWwuZ2V0Tm9kZShub2RlRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW5vZGVpZFwiKSkuZ2V0UG9ydChlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtbmFtZVwiKSksXG5cdFx0XHRcdGVsZW1lbnQ6IGVsZW1lbnRcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly9sb29rIGZvciBhIHBvaW50XG5cdFx0ZWxlbWVudCA9IFRvb2xraXQuY2xvc2VzdCh0YXJnZXQsIFwiLnBvaW50W2RhdGEtaWRdXCIpO1xuXHRcdGlmIChlbGVtZW50KSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRtb2RlbDogZGlhZ3JhbU1vZGVsLmdldExpbmsoZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWxpbmtpZFwiKSkuZ2V0UG9pbnRNb2RlbChlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtaWRcIikpLFxuXHRcdFx0XHRlbGVtZW50OiBlbGVtZW50XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vbG9vayBmb3IgYSBsaW5rXG5cdFx0ZWxlbWVudCA9IFRvb2xraXQuY2xvc2VzdCh0YXJnZXQsIFwiW2RhdGEtbGlua2lkXVwiKTtcblx0XHRpZiAoZWxlbWVudCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0bW9kZWw6IGRpYWdyYW1Nb2RlbC5nZXRMaW5rKGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1saW5raWRcIikpLFxuXHRcdFx0XHRlbGVtZW50OiBlbGVtZW50XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vbG9vayBmb3IgYSBub2RlXG5cdFx0ZWxlbWVudCA9IFRvb2xraXQuY2xvc2VzdCh0YXJnZXQsIFwiLm5vZGVbZGF0YS1ub2RlaWRdXCIpO1xuXHRcdGlmIChlbGVtZW50KSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRtb2RlbDogZGlhZ3JhbU1vZGVsLmdldE5vZGUoZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW5vZGVpZFwiKSksXG5cdFx0XHRcdGVsZW1lbnQ6IGVsZW1lbnRcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRmaXJlQWN0aW9uKCkge1xuXHRcdGlmICh0aGlzLnN0YXRlLmFjdGlvbiAmJiB0aGlzLnByb3BzLmFjdGlvblN0aWxsRmlyaW5nKSB7XG5cdFx0XHR0aGlzLnByb3BzLmFjdGlvblN0aWxsRmlyaW5nKHRoaXMuc3RhdGUuYWN0aW9uKTtcblx0XHR9XG5cdH1cblxuXHRzdG9wRmlyaW5nQWN0aW9uKHNob3VsZFNraXBFdmVudD86IGJvb2xlYW4pIHtcblx0XHRpZiAodGhpcy5wcm9wcy5hY3Rpb25TdG9wcGVkRmlyaW5nICYmICFzaG91bGRTa2lwRXZlbnQpIHtcblx0XHRcdHRoaXMucHJvcHMuYWN0aW9uU3RvcHBlZEZpcmluZyh0aGlzLnN0YXRlLmFjdGlvbik7XG5cdFx0fVxuXHRcdHRoaXMuc2V0U3RhdGUoeyBhY3Rpb246IG51bGwgfSk7XG5cdH1cblxuXHRzdGFydEZpcmluZ0FjdGlvbihhY3Rpb246IEJhc2VBY3Rpb24pIHtcblx0XHR2YXIgc2V0U3RhdGUgPSB0cnVlO1xuXHRcdGlmICh0aGlzLnByb3BzLmFjdGlvblN0YXJ0ZWRGaXJpbmcpIHtcblx0XHRcdHNldFN0YXRlID0gdGhpcy5wcm9wcy5hY3Rpb25TdGFydGVkRmlyaW5nKGFjdGlvbik7XG5cdFx0fVxuXHRcdGlmIChzZXRTdGF0ZSkge1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7IGFjdGlvbjogYWN0aW9uIH0pO1xuXHRcdH1cblx0fVxuXG5cdG9uTW91c2VNb3ZlKGV2ZW50KSB7XG5cdFx0dmFyIGRpYWdyYW1FbmdpbmUgPSB0aGlzLnByb3BzLmRpYWdyYW1FbmdpbmU7XG5cdFx0dmFyIGRpYWdyYW1Nb2RlbCA9IGRpYWdyYW1FbmdpbmUuZ2V0RGlhZ3JhbU1vZGVsKCk7XG5cdFx0Ly9zZWxlY3QgaXRlbXMgc28gZHJhdyBhIGJvdW5kaW5nIGJveFxuXHRcdGlmICh0aGlzLnN0YXRlLmFjdGlvbiBpbnN0YW5jZW9mIFNlbGVjdGluZ0FjdGlvbikge1xuXHRcdFx0dmFyIHJlbGF0aXZlID0gZGlhZ3JhbUVuZ2luZS5nZXRSZWxhdGl2ZVBvaW50KGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpO1xuXG5cdFx0XHRfLmZvckVhY2goZGlhZ3JhbU1vZGVsLmdldE5vZGVzKCksIG5vZGUgPT4ge1xuXHRcdFx0XHRpZiAoKHRoaXMuc3RhdGUuYWN0aW9uIGFzIFNlbGVjdGluZ0FjdGlvbikuY29udGFpbnNFbGVtZW50KG5vZGUueCwgbm9kZS55LCBkaWFncmFtTW9kZWwpKSB7XG5cdFx0XHRcdFx0bm9kZS5zZXRTZWxlY3RlZCh0cnVlKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdF8uZm9yRWFjaChkaWFncmFtTW9kZWwuZ2V0TGlua3MoKSwgbGluayA9PiB7XG5cdFx0XHRcdHZhciBhbGxTZWxlY3RlZCA9IHRydWU7XG5cdFx0XHRcdF8uZm9yRWFjaChsaW5rLnBvaW50cywgcG9pbnQgPT4ge1xuXHRcdFx0XHRcdGlmICgodGhpcy5zdGF0ZS5hY3Rpb24gYXMgU2VsZWN0aW5nQWN0aW9uKS5jb250YWluc0VsZW1lbnQocG9pbnQueCwgcG9pbnQueSwgZGlhZ3JhbU1vZGVsKSkge1xuXHRcdFx0XHRcdFx0cG9pbnQuc2V0U2VsZWN0ZWQodHJ1ZSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGFsbFNlbGVjdGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRpZiAoYWxsU2VsZWN0ZWQpIHtcblx0XHRcdFx0XHRsaW5rLnNldFNlbGVjdGVkKHRydWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy5zdGF0ZS5hY3Rpb24ubW91c2VYMiA9IHJlbGF0aXZlLng7XG5cdFx0XHR0aGlzLnN0YXRlLmFjdGlvbi5tb3VzZVkyID0gcmVsYXRpdmUueTtcblxuXHRcdFx0dGhpcy5maXJlQWN0aW9uKCk7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHsgYWN0aW9uOiB0aGlzLnN0YXRlLmFjdGlvbiB9KTtcblx0XHRcdHJldHVybjtcblx0XHR9IGVsc2UgaWYgKHRoaXMuc3RhdGUuYWN0aW9uIGluc3RhbmNlb2YgTW92ZUl0ZW1zQWN0aW9uKSB7XG5cdFx0XHRsZXQgYW1vdW50WCA9IGV2ZW50LmNsaWVudFggLSB0aGlzLnN0YXRlLmFjdGlvbi5tb3VzZVg7XG5cdFx0XHRsZXQgYW1vdW50WSA9IGV2ZW50LmNsaWVudFkgLSB0aGlzLnN0YXRlLmFjdGlvbi5tb3VzZVk7XG5cdFx0XHRsZXQgYW1vdW50Wm9vbSA9IGRpYWdyYW1Nb2RlbC5nZXRab29tTGV2ZWwoKSAvIDEwMDtcblxuXHRcdFx0Xy5mb3JFYWNoKHRoaXMuc3RhdGUuYWN0aW9uLnNlbGVjdGlvbk1vZGVscywgbW9kZWwgPT4ge1xuXHRcdFx0XHQvLyBpbiB0aGlzIGNhc2Ugd2UgbmVlZCB0byBhbHNvIHdvcmsgb3V0IHRoZSByZWxhdGl2ZSBncmlkIHBvc2l0aW9uXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRtb2RlbC5tb2RlbCBpbnN0YW5jZW9mIE5vZGVNb2RlbCB8fFxuXHRcdFx0XHRcdChtb2RlbC5tb2RlbCBpbnN0YW5jZW9mIFBvaW50TW9kZWwgJiYgIW1vZGVsLm1vZGVsLmlzQ29ubmVjdGVkVG9Qb3J0KCkpXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdG1vZGVsLm1vZGVsLnggPSBkaWFncmFtTW9kZWwuZ2V0R3JpZFBvc2l0aW9uKG1vZGVsLmluaXRpYWxYICsgYW1vdW50WCAvIGFtb3VudFpvb20pO1xuXHRcdFx0XHRcdG1vZGVsLm1vZGVsLnkgPSBkaWFncmFtTW9kZWwuZ2V0R3JpZFBvc2l0aW9uKG1vZGVsLmluaXRpYWxZICsgYW1vdW50WSAvIGFtb3VudFpvb20pO1xuXHRcdFx0XHR9IGVsc2UgaWYgKG1vZGVsLm1vZGVsIGluc3RhbmNlb2YgUG9pbnRNb2RlbCkge1xuXHRcdFx0XHRcdC8vIHdlIHdhbnQgcG9pbnRzIHRoYXQgYXJlIGNvbm5lY3RlZCB0byBwb3J0cywgdG8gbm90IG5lY2Nlc2FyaWxseSBzbmFwIHRvIGdyaWRcblx0XHRcdFx0XHQvLyB0aGlzIHN0dWZmIG5lZWRzIHRvIGJlIHBpeGVsIHBlcmZlY3QsIGRvbnQgdG91Y2ggaXRcblx0XHRcdFx0XHRtb2RlbC5tb2RlbC54ID0gbW9kZWwuaW5pdGlhbFggKyBkaWFncmFtTW9kZWwuZ2V0R3JpZFBvc2l0aW9uKGFtb3VudFggLyBhbW91bnRab29tKTtcblx0XHRcdFx0XHRtb2RlbC5tb2RlbC55ID0gbW9kZWwuaW5pdGlhbFkgKyBkaWFncmFtTW9kZWwuZ2V0R3JpZFBvc2l0aW9uKGFtb3VudFkgLyBhbW91bnRab29tKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHR0aGlzLmZpcmVBY3Rpb24oKTtcblx0XHRcdHRoaXMuZm9yY2VVcGRhdGUoKTtcblx0XHR9IGVsc2UgaWYgKHRoaXMuc3RhdGUuYWN0aW9uIGluc3RhbmNlb2YgTW92ZUNhbnZhc0FjdGlvbikge1xuXHRcdFx0Ly90cmFuc2xhdGUgdGhlIGFjdHVhbCBjYW52YXNcblx0XHRcdGlmICh0aGlzLnByb3BzLmFsbG93Q2FudmFzVHJhbnNsYXRpb24pIHtcblx0XHRcdFx0ZGlhZ3JhbU1vZGVsLnNldE9mZnNldChcblx0XHRcdFx0XHR0aGlzLnN0YXRlLmFjdGlvbi5pbml0aWFsT2Zmc2V0WCArIChldmVudC5jbGllbnRYIC0gdGhpcy5zdGF0ZS5hY3Rpb24ubW91c2VYKSxcblx0XHRcdFx0XHR0aGlzLnN0YXRlLmFjdGlvbi5pbml0aWFsT2Zmc2V0WSArIChldmVudC5jbGllbnRZIC0gdGhpcy5zdGF0ZS5hY3Rpb24ubW91c2VZKVxuXHRcdFx0XHQpO1xuXHRcdFx0XHR0aGlzLmZpcmVBY3Rpb24oKTtcblx0XHRcdFx0dGhpcy5mb3JjZVVwZGF0ZSgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdG9uS2V5VXAoZXZlbnQpIHtcblx0XHQvL2RlbGV0ZSBhbGwgc2VsZWN0ZWRcblx0XHRpZiAodGhpcy5wcm9wcy5kZWxldGVLZXlzLmluZGV4T2YoZXZlbnQua2V5Q29kZSkgIT09IC0xKSB7XG5cdFx0XHRfLmZvckVhY2godGhpcy5wcm9wcy5kaWFncmFtRW5naW5lLmdldERpYWdyYW1Nb2RlbCgpLmdldFNlbGVjdGVkSXRlbXMoKSwgZWxlbWVudCA9PiB7XG5cdFx0XHRcdC8vb25seSBkZWxldGUgaXRlbXMgd2hpY2ggYXJlIG5vdCBsb2NrZWRcblx0XHRcdFx0aWYgKCF0aGlzLnByb3BzLmRpYWdyYW1FbmdpbmUuaXNNb2RlbExvY2tlZChlbGVtZW50KSkge1xuXHRcdFx0XHRcdGVsZW1lbnQucmVtb3ZlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5mb3JjZVVwZGF0ZSgpO1xuXHRcdH1cblx0fVxuXG5cdG9uTW91c2VVcChldmVudCkge1xuXHRcdHZhciBkaWFncmFtRW5naW5lID0gdGhpcy5wcm9wcy5kaWFncmFtRW5naW5lO1xuXHRcdC8vYXJlIHdlIGdvaW5nIHRvIGNvbm5lY3QgYSBsaW5rIHRvIHNvbWV0aGluZz9cblx0XHRpZiAodGhpcy5zdGF0ZS5hY3Rpb24gaW5zdGFuY2VvZiBNb3ZlSXRlbXNBY3Rpb24pIHtcblx0XHRcdHZhciBlbGVtZW50ID0gdGhpcy5nZXRNb3VzZUVsZW1lbnQoZXZlbnQpO1xuXHRcdFx0dmFyIGxpbmtDb25uZWN0ZWQgPSBmYWxzZTtcblx0XHRcdF8uZm9yRWFjaCh0aGlzLnN0YXRlLmFjdGlvbi5zZWxlY3Rpb25Nb2RlbHMsIG1vZGVsID0+IHtcblx0XHRcdFx0Ly9vbmx5IGNhcmUgYWJvdXQgcG9pbnRzIGNvbm5lY3RpbmcgdG8gdGhpbmdzXG5cdFx0XHRcdGlmICghKG1vZGVsLm1vZGVsIGluc3RhbmNlb2YgUG9pbnRNb2RlbCkpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZWxlbWVudCAmJiBlbGVtZW50Lm1vZGVsIGluc3RhbmNlb2YgUG9ydE1vZGVsICYmICFkaWFncmFtRW5naW5lLmlzTW9kZWxMb2NrZWQoZWxlbWVudC5tb2RlbCkpIHtcblx0XHRcdFx0XHRsaW5rQ29ubmVjdGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRsZXQgbGluayA9IG1vZGVsLm1vZGVsLmdldExpbmsoKTtcblx0XHRcdFx0XHRsaW5rLnNldFRhcmdldFBvcnQoZWxlbWVudC5tb2RlbCk7XG5cdFx0XHRcdFx0ZGVsZXRlIHRoaXMucHJvcHMuZGlhZ3JhbUVuZ2luZS5saW5rc1RoYXRIYXZlSW5pdGlhbGx5UmVuZGVyZWRbbGluay5nZXRJRCgpXTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdC8vZG8gd2Ugd2FudCB0byBhbGxvdyBsb29zZSBsaW5rcyBvbiB0aGUgZGlhZ3JhbSBtb2RlbCBvciBub3Rcblx0XHRcdGlmICghbGlua0Nvbm5lY3RlZCAmJiAhdGhpcy5wcm9wcy5hbGxvd0xvb3NlTGlua3MpIHtcblx0XHRcdFx0Xy5mb3JFYWNoKHRoaXMuc3RhdGUuYWN0aW9uLnNlbGVjdGlvbk1vZGVscywgbW9kZWwgPT4ge1xuXHRcdFx0XHRcdC8vb25seSBjYXJlIGFib3V0IHBvaW50cyBjb25uZWN0aW5nIHRvIHRoaW5nc1xuXHRcdFx0XHRcdGlmICghKG1vZGVsLm1vZGVsIGluc3RhbmNlb2YgUG9pbnRNb2RlbCkpIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR2YXIgbGluayA9IG1vZGVsLm1vZGVsLmdldExpbmsoKTtcblx0XHRcdFx0XHRpZiAobGluay5pc0xhc3RQb2ludChtb2RlbC5tb2RlbCkpIHtcblx0XHRcdFx0XHRcdGxpbmsucmVtb3ZlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdGRpYWdyYW1FbmdpbmUuY2xlYXJSZXBhaW50RW50aXRpZXMoKTtcblx0XHRcdHRoaXMuc3RvcEZpcmluZ0FjdGlvbighdGhpcy5zdGF0ZS53YXNNb3ZlZCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRpYWdyYW1FbmdpbmUuY2xlYXJSZXBhaW50RW50aXRpZXMoKTtcblx0XHRcdHRoaXMuc3RvcEZpcmluZ0FjdGlvbigpO1xuXHRcdH1cblxuXHRcdHRoaXMuc3RhdGUuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm9uTW91c2VNb3ZlKTtcblx0XHR0aGlzLnN0YXRlLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMub25Nb3VzZVVwKTtcblx0fVxuXG5cdGRyYXdTZWxlY3Rpb25Cb3goKSB7XG5cdFx0bGV0IGRpbWVuc2lvbnMgPSAodGhpcy5zdGF0ZS5hY3Rpb24gYXMgU2VsZWN0aW5nQWN0aW9uKS5nZXRCb3hEaW1lbnNpb25zKCk7XG5cdFx0cmV0dXJuIChcblx0XHRcdDxkaXZcblx0XHRcdFx0Y2xhc3NOYW1lPVwic2VsZWN0b3JcIlxuXHRcdFx0XHRzdHlsZT17e1xuXHRcdFx0XHRcdHRvcDogZGltZW5zaW9ucy50b3AsXG5cdFx0XHRcdFx0bGVmdDogZGltZW5zaW9ucy5sZWZ0LFxuXHRcdFx0XHRcdHdpZHRoOiBkaW1lbnNpb25zLndpZHRoLFxuXHRcdFx0XHRcdGhlaWdodDogZGltZW5zaW9ucy5oZWlnaHRcblx0XHRcdFx0fX1cblx0XHRcdC8+XG5cdFx0KTtcblx0fVxuXG5cdHJlbmRlcigpIHtcblx0XHR2YXIgZGlhZ3JhbUVuZ2luZSA9IHRoaXMucHJvcHMuZGlhZ3JhbUVuZ2luZTtcblx0XHR2YXIgZGlhZ3JhbU1vZGVsID0gZGlhZ3JhbUVuZ2luZS5nZXREaWFncmFtTW9kZWwoKTtcblxuXHRcdHJldHVybiAoXG5cdFx0XHQ8ZGl2XG5cdFx0XHRcdHJlZj17cmVmID0+IHtcblx0XHRcdFx0XHRpZiAocmVmKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnByb3BzLmRpYWdyYW1FbmdpbmUuc2V0Q2FudmFzKHJlZik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9fVxuXHRcdFx0XHRjbGFzc05hbWU9XCJzdG9ybS1kaWFncmFtcy1jYW52YXNcIlxuXHRcdFx0XHRvbldoZWVsPXtldmVudCA9PiB7XG5cdFx0XHRcdFx0aWYgKHRoaXMucHJvcHMuYWxsb3dDYW52YXNab29tKSB7XG5cdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdFx0XHRjb25zdCBvbGRab29tRmFjdG9yID0gZGlhZ3JhbU1vZGVsLmdldFpvb21MZXZlbCgpIC8gMTAwO1xuXHRcdFx0XHRcdFx0bGV0IHNjcm9sbERlbHRhID0gdGhpcy5wcm9wcy5pbnZlcnNlWm9vbSA/IC1ldmVudC5kZWx0YVk6IGV2ZW50LmRlbHRhWTtcblx0XHRcdFx0XHRcdC8vY2hlY2sgaWYgaXQgaXMgcGluY2ggZ2VzdHVyZVxuXHRcdFx0XHRcdFx0aWYgKGV2ZW50LmN0cmxLZXkgJiYgc2Nyb2xsRGVsdGEgJSAxICE9PSAwKSB7XG5cdFx0XHRcdFx0XHRcdC8qQ2hyb21lIGFuZCBGaXJlZm94IHNlbmRzIHdoZWVsIGV2ZW50IHdpdGggZGVsdGFZIHRoYXRcblx0XHRcdFx0XHRcdFx0XHRoYXZlIGZyYWN0aW9uYWwgcGFydCwgYWxzbyBgY3RybEtleWAgcHJvcCBvZiB0aGUgZXZlbnQgaXMgdHJ1ZVxuXHRcdFx0XHRcdFx0XHRcdHRob3VnaCBjdHJsIGlzbid0IHByZXNzZWRcblx0XHRcdFx0XHRcdFx0Ki9cblx0XHRcdFx0XHRcdFx0c2Nyb2xsRGVsdGEgLz0gMztcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHNjcm9sbERlbHRhIC89IDYwO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKGRpYWdyYW1Nb2RlbC5nZXRab29tTGV2ZWwoKSArIHNjcm9sbERlbHRhID4gMTApIHtcblx0XHRcdFx0XHRcdFx0ZGlhZ3JhbU1vZGVsLnNldFpvb21MZXZlbChkaWFncmFtTW9kZWwuZ2V0Wm9vbUxldmVsKCkgKyBzY3JvbGxEZWx0YSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGNvbnN0IHpvb21GYWN0b3IgPSBkaWFncmFtTW9kZWwuZ2V0Wm9vbUxldmVsKCkgLyAxMDA7XG5cblx0XHRcdFx0XHRcdGNvbnN0IGJvdW5kaW5nUmVjdCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0XHRcdFx0XHRjb25zdCBjbGllbnRXaWR0aCA9IGJvdW5kaW5nUmVjdC53aWR0aDtcblx0XHRcdFx0XHRcdGNvbnN0IGNsaWVudEhlaWdodCA9IGJvdW5kaW5nUmVjdC5oZWlnaHQ7XG5cdFx0XHRcdFx0XHQvLyBjb21wdXRlIGRpZmZlcmVuY2UgYmV0d2VlbiByZWN0IGJlZm9yZSBhbmQgYWZ0ZXIgc2Nyb2xsXG5cdFx0XHRcdFx0XHRjb25zdCB3aWR0aERpZmYgPSBjbGllbnRXaWR0aCAqIHpvb21GYWN0b3IgLSBjbGllbnRXaWR0aCAqIG9sZFpvb21GYWN0b3I7XG5cdFx0XHRcdFx0XHRjb25zdCBoZWlnaHREaWZmID0gY2xpZW50SGVpZ2h0ICogem9vbUZhY3RvciAtIGNsaWVudEhlaWdodCAqIG9sZFpvb21GYWN0b3I7XG5cdFx0XHRcdFx0XHQvLyBjb21wdXRlIG1vdXNlIGNvb3JkcyByZWxhdGl2ZSB0byBjYW52YXNcblx0XHRcdFx0XHRcdGNvbnN0IGNsaWVudFggPSBldmVudC5jbGllbnRYIC0gYm91bmRpbmdSZWN0LmxlZnQ7XG5cdFx0XHRcdFx0XHRjb25zdCBjbGllbnRZID0gZXZlbnQuY2xpZW50WSAtIGJvdW5kaW5nUmVjdC50b3A7XG5cblx0XHRcdFx0XHRcdC8vIGNvbXB1dGUgd2lkdGggYW5kIGhlaWdodCBpbmNyZW1lbnQgZmFjdG9yXG5cdFx0XHRcdFx0XHRjb25zdCB4RmFjdG9yID0gKGNsaWVudFggLSBkaWFncmFtTW9kZWwuZ2V0T2Zmc2V0WCgpKSAvIG9sZFpvb21GYWN0b3IgLyBjbGllbnRXaWR0aDtcblx0XHRcdFx0XHRcdGNvbnN0IHlGYWN0b3IgPSAoY2xpZW50WSAtIGRpYWdyYW1Nb2RlbC5nZXRPZmZzZXRZKCkpIC8gb2xkWm9vbUZhY3RvciAvIGNsaWVudEhlaWdodDtcblxuXHRcdFx0XHRcdFx0ZGlhZ3JhbU1vZGVsLnNldE9mZnNldChcblx0XHRcdFx0XHRcdFx0ZGlhZ3JhbU1vZGVsLmdldE9mZnNldFgoKSAtIHdpZHRoRGlmZiAqIHhGYWN0b3IsXG5cdFx0XHRcdFx0XHRcdGRpYWdyYW1Nb2RlbC5nZXRPZmZzZXRZKCkgLSBoZWlnaHREaWZmICogeUZhY3RvclxuXHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0ZGlhZ3JhbUVuZ2luZS5lbmFibGVSZXBhaW50RW50aXRpZXMoW10pO1xuXHRcdFx0XHRcdFx0dGhpcy5mb3JjZVVwZGF0ZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fX1cblx0XHRcdFx0b25Nb3VzZURvd249e2V2ZW50ID0+IHtcblx0XHRcdFx0XHR0aGlzLnNldFN0YXRlKHsgLi4udGhpcy5zdGF0ZSwgd2FzTW92ZWQ6IGZhbHNlIH0pO1xuXG5cdFx0XHRcdFx0ZGlhZ3JhbUVuZ2luZS5jbGVhclJlcGFpbnRFbnRpdGllcygpO1xuXHRcdFx0XHRcdHZhciBtb2RlbCA9IHRoaXMuZ2V0TW91c2VFbGVtZW50KGV2ZW50KTtcblx0XHRcdFx0XHQvL3RoZSBjYW52YXMgd2FzIHNlbGVjdGVkXG5cdFx0XHRcdFx0aWYgKG1vZGVsID09PSBudWxsKSB7XG5cdFx0XHRcdFx0XHQvL2lzIGl0IGEgbXVsdGlwbGUgc2VsZWN0aW9uXG5cdFx0XHRcdFx0XHRpZiAoZXZlbnQuc2hpZnRLZXkpIHtcblx0XHRcdFx0XHRcdFx0dmFyIHJlbGF0aXZlID0gZGlhZ3JhbUVuZ2luZS5nZXRSZWxhdGl2ZVBvaW50KGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpO1xuXHRcdFx0XHRcdFx0XHR0aGlzLnN0YXJ0RmlyaW5nQWN0aW9uKG5ldyBTZWxlY3RpbmdBY3Rpb24ocmVsYXRpdmUueCwgcmVsYXRpdmUueSkpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly9pdHMgYSBkcmFnIHRoZSBjYW52YXMgZXZlbnRcblx0XHRcdFx0XHRcdFx0ZGlhZ3JhbU1vZGVsLmNsZWFyU2VsZWN0aW9uKCk7XG5cdFx0XHRcdFx0XHRcdHRoaXMuc3RhcnRGaXJpbmdBY3Rpb24obmV3IE1vdmVDYW52YXNBY3Rpb24oZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSwgZGlhZ3JhbU1vZGVsKSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChtb2RlbC5tb2RlbCBpbnN0YW5jZW9mIFBvcnRNb2RlbCkge1xuXHRcdFx0XHRcdFx0Ly9pdHMgYSBwb3J0IGVsZW1lbnQsIHdlIHdhbnQgdG8gZHJhZyBhIGxpbmtcblx0XHRcdFx0XHRcdGlmICghdGhpcy5wcm9wcy5kaWFncmFtRW5naW5lLmlzTW9kZWxMb2NrZWQobW9kZWwubW9kZWwpKSB7XG5cdFx0XHRcdFx0XHRcdHZhciByZWxhdGl2ZSA9IGRpYWdyYW1FbmdpbmUuZ2V0UmVsYXRpdmVNb3VzZVBvaW50KGV2ZW50KTtcblx0XHRcdFx0XHRcdFx0dmFyIGxpbmsgPSBuZXcgTGlua01vZGVsKCk7XG5cdFx0XHRcdFx0XHRcdGxpbmsuc2V0U291cmNlUG9ydChtb2RlbC5tb2RlbCk7XG5cblx0XHRcdFx0XHRcdFx0bGluay5nZXRGaXJzdFBvaW50KCkudXBkYXRlTG9jYXRpb24ocmVsYXRpdmUpO1xuXHRcdFx0XHRcdFx0XHRsaW5rLmdldExhc3RQb2ludCgpLnVwZGF0ZUxvY2F0aW9uKHJlbGF0aXZlKTtcblxuXHRcdFx0XHRcdFx0XHRkaWFncmFtTW9kZWwuY2xlYXJTZWxlY3Rpb24oKTtcblx0XHRcdFx0XHRcdFx0bGluay5nZXRMYXN0UG9pbnQoKS5zZXRTZWxlY3RlZCh0cnVlKTtcblx0XHRcdFx0XHRcdFx0ZGlhZ3JhbU1vZGVsLmFkZExpbmsobGluayk7XG5cblx0XHRcdFx0XHRcdFx0dGhpcy5zdGFydEZpcmluZ0FjdGlvbihuZXcgTW92ZUl0ZW1zQWN0aW9uKGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFksIGRpYWdyYW1FbmdpbmUpKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGRpYWdyYW1Nb2RlbC5jbGVhclNlbGVjdGlvbigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQvL2l0cyBzb21lIG9yIG90aGVyIGVsZW1lbnQsIHByb2JhYmx5IHdhbnQgdG8gbW92ZSBpdFxuXHRcdFx0XHRcdFx0aWYgKCFldmVudC5zaGlmdEtleSAmJiAhbW9kZWwubW9kZWwuaXNTZWxlY3RlZCgpKSB7XG5cdFx0XHRcdFx0XHRcdGRpYWdyYW1Nb2RlbC5jbGVhclNlbGVjdGlvbigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0bW9kZWwubW9kZWwuc2V0U2VsZWN0ZWQodHJ1ZSk7XG5cblx0XHRcdFx0XHRcdHRoaXMuc3RhcnRGaXJpbmdBY3Rpb24obmV3IE1vdmVJdGVtc0FjdGlvbihldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZLCBkaWFncmFtRW5naW5lKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRoaXMuc3RhdGUuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm9uTW91c2VNb3ZlKTtcblx0XHRcdFx0XHR0aGlzLnN0YXRlLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMub25Nb3VzZVVwKTtcblx0XHRcdFx0fX1cblx0XHRcdD5cblx0XHRcdFx0e3RoaXMuc3RhdGUucmVuZGVyZWROb2RlcyAmJiAoXG5cdFx0XHRcdFx0PExpbmtMYXllcldpZGdldFxuXHRcdFx0XHRcdFx0ZGlhZ3JhbUVuZ2luZT17ZGlhZ3JhbUVuZ2luZX1cblx0XHRcdFx0XHRcdHBvaW50QWRkZWQ9eyhwb2ludDogUG9pbnRNb2RlbCwgZXZlbnQpID0+IHtcblx0XHRcdFx0XHRcdFx0dGhpcy5zdGF0ZS5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMub25Nb3VzZU1vdmUpO1xuXHRcdFx0XHRcdFx0XHR0aGlzLnN0YXRlLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMub25Nb3VzZVVwKTtcblx0XHRcdFx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdFx0XHRcdGRpYWdyYW1Nb2RlbC5jbGVhclNlbGVjdGlvbihwb2ludCk7XG5cdFx0XHRcdFx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRcdFx0XHRcdGFjdGlvbjogbmV3IE1vdmVJdGVtc0FjdGlvbihldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZLCBkaWFncmFtRW5naW5lKVxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH19XG5cdFx0XHRcdFx0Lz5cblx0XHRcdFx0KX1cblx0XHRcdFx0PE5vZGVMYXllcldpZGdldCBkaWFncmFtRW5naW5lPXtkaWFncmFtRW5naW5lfSAvPlxuXHRcdFx0XHR7dGhpcy5zdGF0ZS5hY3Rpb24gaW5zdGFuY2VvZiBTZWxlY3RpbmdBY3Rpb24gJiYgdGhpcy5kcmF3U2VsZWN0aW9uQm94KCl9XG5cdFx0XHQ8L2Rpdj5cblx0XHQpO1xuXHR9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL3dpZGdldHMvRGlhZ3JhbVdpZGdldC50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFnQ0E7O0FBRUE7QUFDQTtBQUFBO0FBVUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQXJaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBK1lBO0FBQUE7QUF2WkE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///26\n");

/***/ })
/******/ ]);
});